(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[14324,20673],{41162:(e,t,n)=>{n.d(t,{E:()=>o,S:()=>i});var r=n(583592);const{Provider:i,useMaybeHook:o}=(0,r.Z)("pwtSurfaceContext")},938790:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(574155);const i=()=>{var e;return!(null===(e=window.performance)||void 0===e||!e.timing)};var o=n(622200);function a(e){return!("desktop"===e&&!i())&&(!!o.Z&&(0,r.v)())}},93501:(e,t,n)=>{n.d(t,{KJ:()=>u,Rp:()=>c});const r={id:14,name:"own_profile"},i={id:15,name:"other_profile"},o={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},own_profile:r,other_profile:i}},client_route_replace:{unauth:{},auth:{own_profile:r,other_profile:i,sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"}}}},a={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},s={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},l=e=>{var t,n;const{navigationType:r,isAuthenticated:i,segment:s,surface:l}=e,c=i?"auth":"unauth",u=null===(t=a[r])||void 0===t||null===(n=t[c])||void 0===n?void 0:n[l];return s&&u&&u[s]||o[r][c][l]},c=e=>{if("stopwatch"===e.type)return s[e.name]||null;const t=l(e);return t?t.id:null},u=e=>{if("stopwatch"===e.type)return e.name;const{navigationType:t,isAuthenticated:n,segment:r,surface:i}=e,o=n?"auth":"unauth",a=l(e);return a?a.name:`${t}_${o}_${i}${r?"_"+r:""}`}},30482:(e,t,n)=>{n.d(t,{Ex:()=>a,XV:()=>o,v5:()=>i});var r=n(39008);const i=(e,t)=>{r.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},o=e=>(t,...n)=>{r.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...n)},a=e=>t=>{r.jn&&console.log(`[CWV:${e}] ${String(t)}`)}},361905:(e,t,n)=>{n.d(t,{F9:()=>u,LM:()=>l,VZ:()=>o,cQ:()=>d,rZ:()=>a});var r=n(520636),i=n(763795);const o=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,a=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;const t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},l=()=>document.querySelector?document.querySelectorAll(r.wc).length:((0,i.H)("missing_document_query_selector"),0),c=(e,t)=>{const n=a(e);if(!n)return(0,i.H)("missing_client_rect"),!1;if(n.width<100&&n.height<100){if(e instanceof HTMLImageElement)return!1;const t=s(e);if(null!=t&&t.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:r})=>{const i=e+r;if(i>=n)return!1;const o=Math.min(t,n-i);return o>.5*t||o>.2*n})(n,t)},u=()=>{const e=(()=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),null;const e=document.querySelectorAll(r.wc);return e[e.length-1]||null})();if(!e)return!1;const t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},d=(e,t,n)=>{if(!document.querySelector)return(0,i.H)("missing_document_query_selector"),[];const o={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},a=[r.Wf,...e?[r.fF]:[],...t?[r.$N]:[]].join(","),l=[...document.querySelectorAll(a)];if(n){const e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{const n=[...e.children];!n.length&&e.style.backgroundImage?l.push(e):n.length&&n.forEach((e=>{t(e)}))};e.forEach((e=>{t(e)}))}return l.reduce(((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&c(n,o)){const t=s(n);if(t){const r=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:r}])}}return e}),[])}},520636:(e,t,n)=>{n.d(t,{$N:()=>l,Kb:()=>r,Wf:()=>a,fF:()=>s,wc:()=>o});const r="pwt-grid-item",i=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${r}"]`],o=i.join(","),a=i.map((e=>`${e} img`)).join(","),s=i.map((e=>`${e} div[style*=background-image]`)).join(","),l=i.map((e=>`${e} video`)).join(",")},574155:(e,t,n)=>{n.d(t,{Z:()=>T,v:()=>v});var r=n(667294),i=n(93501),o=n(30482),a=n(361905),s=n(763795),l=n(39983),c=n(41162),u=n(353335),d=n(456453);const p=500,m=100,g=6e4,f=6e4,_=(0,o.XV)("GridProfiler"),v=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,a.VZ)(),y=e=>"LAYOUT"===e.status&&p||"TIMING"===e.status&&m||null,w=(e,t)=>{if(!t){const t=(0,a.LM)();if(t===e)return _("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,a.F9)())return _("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}},h=(e,t)=>{let n=0,r=0,i=0,o=0,a=0;return e=e.filter((e=>"pin"===e.type)),t.forEach(((t,s)=>{var l,c,u,d,p,m;const g=t.fileName.split(".")[0];let f;f=e[s],g!==(null===(l=f)||void 0===l?void 0:l.image_signature)&&(f=e.find((e=>g===(null==e?void 0:e.image_signature)))),void 0===f?a+=1:f.is_promoted||"PROMOTED_PIN"===(null===(c=f.recommendation_reason)||void 0===c?void 0:c.reason)||null!==(u=f)&&void 0!==u&&null!==(d=u.promoter)&&void 0!==d&&d.length?i+=1:null!==f.story_pin_data_id&&void 0!==f.story_pin_data_id?n+=1:null!==(p=f)&&void 0!==p&&null!==(m=p.videos)&&void 0!==m&&m.video_list?r+=1:o+=1})),{storyPinCount:n,videoCount:r,adCount:i,imageCount:o,unknownCount:a}},S=(e,t)=>{const n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)};function T({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:v=!1,includeSections:T}){const b=(0,c.E)(),E=null==b?void 0:b.getId(),C=null==b?void 0:b.setVisuallyCompleteResult,[A,k]=(0,r.useState)({status:"DISABLED"});(0,r.useEffect)((()=>{k(C?{status:"LAYOUT",failedCount:0,numOfItemsChecked:0}:{status:"DISABLED"})}),[E,C]),(0,r.useEffect)((()=>{if("DISABLED"!==A.status&&(0,l.ZP)(`GridVisuallyCompleteProfiler_${A.status}`),_("new status",A),"LAYOUT"===A.status){const e=S("scroll",(()=>{(0,l.ZP)("scrollDuringLayout")}));return()=>{e()}}return()=>{}}),[A.status]),(0,d.Z)((()=>{if(!b||!C)return;const{abort:r,getMetricId:l}=b,c=l();switch(A.status){case"LAYOUT":{const t=w(A.numOfItemsChecked,e);t.complete?k({status:"TIMING",failedCount:0,pinElements:(0,a.cQ)(n,v,T)}):A.failedCount*p>g?((0,s.A9)(`images.${(0,i.KJ)(c)}.visuallyComplete.maxLayoutAttempt`),r("visuallyComplete_layoutTimeout"),k({status:"DISABLED"})):k({...A,failedCount:A.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{const e=(0,u.Cg)(),n=A.pinElements.length,a=[];let l=0,d=0,p=0;if(A.pinElements.forEach((({element:t,fileName:n})=>{const r=e.find((e=>e.name.endsWith(n)));r?r.responseEnd?(a.push(r),(0,o.v5)(t,"green")):(p+=1,(0,o.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(d+=1,(0,o.v5)(t,"red")):(l+=1,(0,o.v5)(t,"greenyellow"))})),l||p)A.failedCount*m>f?((0,s.A9)(`images.${(0,i.KJ)(c)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:l,noTimingCount:d,noTimingResponseEndCount:p}}),r("visuallyComplete_timingTimeout"),k({status:"DISABLED"})):k({...A,failedCount:A.failedCount+1});else{if(_(`All ${a.length} images are fetched`),t&&t.length){const e=h(t,A.pinElements);Object.entries(e).forEach((([e,t])=>{b.addBinaryAnnotation(e,t,"I16")})),(0,s.A9)(`${(0,i.KJ)(c)}.pinTypes`,{tags:e})}C({imageTimings:a}),k({status:"DISABLED"}),(0,s.A9)(`images.${(0,i.KJ)(c)}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:d}})}break}}}),y(A))}},763795:(e,t,n)=>{n.d(t,{A9:()=>p,DG:()=>u,H:()=>m,S$:()=>g,iF:()=>d});var r=n(40660),i=n(39008),o=n(30482),a=n(549201);const s=(0,o.XV)("logPwtStats");let l=null,c=!0;function u(e){l={browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,deviceType:(0,a.Mq)(e),isAuthenticated:e.isAuthenticated,isBot:e.isBot,isSocialBot:e.isSocialBot}}const d=e=>{l&&(l.historyAction=e)},p=(e,t={sampleRate:1},n=!0)=>{const o=i.DQ?1:t.sampleRate;if(!l)return s("pwt.metrics_quality.no_context"),void r.Z.increment("pwt.metrics_quality.no_context",o,{eventName:e});const{browserName:a,browserVersion:c,deviceType:u,isBot:d,isSocialBot:p}=l,m=`pwt.${(p?"socialBot":d&&"bot")||"nonbot"}.metrics_quality.${u}.${e}`,g={...t.tags||{},browserName:a,browserVersion:(null==c?void 0:c.split(".")[0])||"0"},{count:f}=t;n&&(s(`${m}: ${"number"==typeof f?f:1}`),t.tags&&s(Object.entries(t.tags))),i.is||r.Z.count(m,"number"==typeof f?f:1,o,g)},m=(e,t)=>p(`ERROR.${null!=t&&t.action?t.action+".":""}${e}`,{tags:t}),g=({appLoadName:e,clientNavName:t},n)=>{if(l){const r="APP_VOLUME.";c?(p(r.concat(e),{tags:{browserSupportsPwtProfiler:!!n}}),c=!1):"PUSH"===l.historyAction&&p(r.concat(t),{tags:{browserSupportsPwtProfiler:!!n}})}else r.Z.increment("pwt.metrics_quality.no_context",1,{eventName:e.concat(`.${t}`)})}},39983:(e,t,n)=>{n.d(t,{Ao:()=>l,BA:()=>c,L8:()=>d,ZP:()=>p,at:()=>i,gQ:()=>s,tl:()=>u});var r=n(622200);const i="masonryPagination";let o={};const a=e=>`📌 ${e}`,s=()=>{const e={};return Object.keys(o).forEach((t=>{(o[t]||[]).slice(0,3).forEach(((n,r)=>{e[r?`${t}_${r+1}`:t]=n}))})),e},l=(e,t)=>(o[e]||[]).filter((e=>e<t)).length,c=(e,t)=>l(e,t)>0,u=()=>{r.Z&&Object.keys(o).forEach((e=>((e,t)=>{const n=a(t);e.clearMarks(n),e.clearMeasures(n)})(r.Z,e))),o={}},d=e=>{r.Z&&(o[e]=(o[e]||[]).concat([r.Z.now()]),((e,t,n,r)=>{const i=a(t);e.measure(i,n,r)})(r.Z,e))},p=e=>{r.Z&&(o[e]=(o[e]||[]).concat([r.Z.now()]),((e,t)=>{const n=a(t);e.mark(n)})(r.Z,e))}},486986:(e,t,n)=>{n.d(t,{cC:()=>o,jy:()=>i,qr:()=>s,sk:()=>a});const r=e=>"number"==typeof e?Math.round(e):e,i=e=>({type:"I16",value:r(e)}),o=e=>({type:"I32",value:r(e)}),a=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},372453:(e,t,n)=>{n.d(t,{ng:()=>v,rA:()=>w});var r=n(93501),i=n(39983),o=n(486986),a=n(335741),s=n(353335),l=n(910673);const c=(e,t)=>(e||[]).reduce(((e,n)=>({...e,[`experiment.${n}`]:(0,o.sk)(t(n))})),{}),u=(e,t)=>"number"==typeof t?e(t):null,d=e=>e.reduce(((e,t)=>e+t),0),p=(e,t)=>Object.keys(t).reduce(((n,r)=>({...n,[`${e}${r}`]:t[r]})),{}),m=e=>{if(!e.length)return{};const t=e.map((({startTime:e,requestStart:t,responseStart:n,responseEnd:r})=>{const i=t||e;return{startTime:e,requestStart:i,responseStart:n||i,responseEnd:r}})),n=d(t.map((e=>e.requestStart-e.startTime))),r=d(t.map((e=>e.responseStart-e.requestStart))),i=d(t.map((e=>e.responseEnd-e.responseStart))),a=n+r+i,s=d(e.map((e=>e.decodedBodySize||0)));return{decodedBodySize:(0,o.cC)((l=s,Number(Number(l/1024).toFixed(3)))),"duration.all":(0,o.cC)(a),"duration.requestStartToResponseStart":(0,o.cC)(r),"duration.responseStartToResponseEnd":(0,o.cC)(i),"duration.startToRequestStart":(0,o.cC)(n)};var l},g=e=>{const t=e.filter((e=>!!e.responseEnd));return{...e.length?{...m(t),"count.completed":(0,o.cC)(t.length)}:{},"count.all":(0,o.cC)(e.length)}},f=e=>{const t=["timeSecond1","timeSecond2","timeSecond3"],n={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},r={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){const{requestStart:i,startTime:o}=e[0].timing,a=i||o;n.timeSecond1.start=a,n.timeSecond1.end=a+1e3,n.timeSecond2.start=a+1e3,n.timeSecond2.end=a+2e3,n.timeSecond3.start=a+2e3,n.timeSecond3.end=a+3e3,e.forEach((e=>{const{timing:i}=e;r[e.category]=r[e.category].concat([i]),e.isDeferred&&(r.script_deferred=r.script_deferred.concat([i])),e.isExternal&&(r.external=r.external.concat([i])),e.isVisuallyCompleteRequired&&(r.visually_complete=r.visually_complete.concat([i]));const{requestStart:o,startTime:a,responseEnd:s}=i,l=o||a;t.forEach((e=>{const{start:t,end:r}=n[e];(l>=t&&l<r||l<t&&s>t)&&(n[e].count+=1)}))}))}const i={...p("concurrentRequests.",Object.keys(n).reduce(((e,t)=>e={...e,[t]:(0,o.cC)(n[t].count)}),{}))};return{...Object.keys(r).reduce(((e,t)=>({...e,...p(`resource.${t}.`,g(r[t]))})),i)}},_=(e,t,n)=>{var i;const{devicePixelRatio:a,navigator:c,innerWidth:d,innerHeight:p,performance:m}=window,{deviceMemory:g,hardwareConcurrency:f,platform:_,userAgent:v,connection:y}=c,{memory:w}=m,{appType:h,appVersion:S,browserName:T,browserVersion:b,deviceType:E,isAppShell:C,isAuthenticated:A,isBot:k,isSocialBot:I,locale:L,osName:$,stageName:Z}=t,O="desktop"===E?h||5:h||6;let D;const{navigationType:M}=e;let B=null;if("initial_app_load"===M){var x;D=1;const e=null===(x=(0,l.Z)("navigation")[0])||void 0===x?void 0:x.transferSize;B=e?parseFloat((.001*e).toFixed(1)):null}else D=4;return{"app.type":(0,o.jy)(O),"app.version":(0,o.sk)(S),"browser.name":(0,o.sk)(T),"browser.version":(0,o.sk)(b),"cpu.speed":(0,o.jy)(f),"device.memory":(0,o.jy)(g),"device.type":(0,o.jy)(0),"device.typeName":(0,o.sk)(E),"device.version":(0,o.sk)("unknown"),"pwt.cause":(0,o.jy)(D),"net.effectiveType":(0,o.sk)((null==y?void 0:y.effectiveType)||null),"net.downlink":(0,o.cC)(u((e=>10*Math.round(e/10)),null==y?void 0:y.downlink)),"net.downlinkMax":(0,o.cC)(u((e=>10*Math.round(e/10)),null==y?void 0:y.downlinkMax)),"net.rtt":(0,o.cC)(u((e=>10*Math.round(e/10)),null==y?void 0:y.rtt)),"net.speed":(0,o.cC)((0,s.Hv)(n,!1)),"pwt.result":(0,o.jy)(1),"view.type":(0,o.cC)(0),"viewport.height":(0,o.cC)(p||0),"viewport.width":(0,o.cC)(d||0),devicePixelRatio:(0,o.cC)(a||0),isAppShell:(0,o.qr)(C),isAuthenticated:(0,o.qr)(A),isBot:(0,o.qr)(k),isSocialBot:(0,o.qr)(I),locale:(0,o.sk)(L),osName:(0,o.sk)($),...null!==B&&{htmlResponseSize:(0,o.cC)(B)},nextHopProtocol:(0,o.sk)((null===(i=(0,l.Z)("navigation")[0])||void 0===i?void 0:i.nextHopProtocol)||null),platform:(0,o.sk)(_||null),profilerVersion:(0,o.sk)("3"),pwtActionName:(0,o.jy)((0,r.Rp)(e)),stageName:(0,o.sk)(Z),userAgent:(0,o.sk)(v),usedJSHeapSize:(0,o.cC)((null==w?void 0:w.usedJSHeapSize)||0),totalJSHeapSize:(0,o.cC)((null==w?void 0:w.totalJSHeapSize)||0),jsHeapSizeLimit:(0,o.cC)((null==w?void 0:w.jsHeapSizeLimit)||0)}},v=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:r={},performanceResourceTimings:i=[]})=>({...c(e,n.getExperimentGroup),..._(t,n,i),...r,stopwatchVersion:(0,o.jy)(1)}),y=(e,t)=>{var n;const{navigator:r}=window,{serviceWorker:s}=r,{surface:l,navigationType:c,isAuthenticated:u}=e,{cumulativeLayoutShiftScore:p,longTaskDurations:m}=(0,a.v2)();return{...m.length?{"longTask.count":(0,o.cC)(m.length),"longTask.maxDuration":(0,o.cC)(Math.max(...m)),"longTask.totalDuration":(0,o.cC)(d(m))}:{},cumulativeLayoutShiftScore:(0,o.cC)(100*p),"masonry.paginationMarkCount":(0,o.cC)((0,i.Ao)(i.at,t)),"metricId.isAuthenticated":(0,o.qr)(u),"metricId.navigationType":(0,o.sk)(c),"metricId.surface":(0,o.sk)(l),resourceBufferClearedCount:(0,o.jy)((0,i.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,o.qr)((0,i.BA)("scrollDuringLayout",t)),serviceWorker:(0,o.qr)(s?!!s.controller:null),serviceWorkerState:(0,o.sk)((null==s||null===(n=s.controller)||void 0===n?void 0:n.state)||null)}},w=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:r,performanceResources:i,pwtEndTime:o,pwtStaticContext:a})=>({...t,...f(i),...c(e,a.getExperimentGroup),..._(r,a,n),...y(r,o)})},363959:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(622200);const i=()=>{const[e]=r.Z?r.Z.getEntriesByType("navigation"):[];return e}},324e3:(e,t,n)=>{n.d(t,{i:()=>r,p:()=>a});const r=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov","ts","m3u8"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}},i=e=>{const t=e.replace(new RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`script[src='${t}']`);return!!n&&n.hasAttribute("defer")},o=e=>["pinimg","pinterest","pinterdev"].every((t=>!e.includes(`${t}`))),a=(e,t)=>{const n=r(e),{name:a}=e;return{category:n,isDeferred:"script"===n&&i(a),isExternal:o(a),isVisuallyCompleteRequired:"image"===n&&t.includes(a),timing:e}}},591614:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(334130),i=n(39008),o=n(93501),a=n(30482),s=n(763795);let l=null;const c=(e,t)=>(l=l||{results:[],context:t},l.results.push(e),l);var u=n(486986),d=n(363959),p=n(769916),m=n(910673);const g=(e,t)=>Object.keys(e).reduce(((n,r)=>{const i=e[r];return i?{...n,[r]:{timestamp:t+i}}:n}),{}),f=({span:e,timeOrigin:t})=>{return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:g(e.annotationMap,t),binary_annotations:(n=e.binaryAnnotationMap,Object.keys(n).reduce(((e,t)=>{const r=n[t];if(!r)return e;const{value:i,type:o}=r;return null==i?e:e.concat({name:t,value:i,annotation_type:o})}),[]))};var n},_=(e,{startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:i,parentId:o,traceId:a})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:i,parentId:o,id:a}),v=({annotations:e})=>e.reduce(((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}})),{}),y=(e,t)=>({...e,annotations:{...v(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),w=({traceId:e,actionName:t,result:n,timeOrigin:r,serverDataToJoin:i})=>{let o=f({span:_(t,n),timeOrigin:r}),a=null;return i&&(o=y(o,i),a=((e,t,n)=>{var r;const i=(0,d.Z)();return(null==i?void 0:i.responseEnd)?y(f({span:{name:"html",startTime:0,endTime:(null==i?void 0:i.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,u.sk)((null===(r=(0,m.Z)("navigation")[0])||void 0===r?void 0:r.nextHopProtocol)||null)},id:e.server_span_id||(0,p.Z)(),parentId:t},timeOrigin:n}),e):null})(i,e,r)),{trace_id:e,spans:[o,...a?[a]:[],...n.spans.map((e=>f({span:e,timeOrigin:r})))]}},h=e=>({debugTrace:i.eD,locale:e.locale,stageName:e.stageName}),S=(0,a.XV)("reportResult"),T=()=>{var e;return null!==(e=window.performance)&&void 0!==e&&e.now?Date.now()-window.performance.now():"unknown"};function b({metricId:e,pwtStaticContext:t,result:n,isAuth:a}){const{serverData:l}=t,u=(0,o.KJ)(e),d=`${n.type}.${u}`,p=`${n.type}.sampled.${u}`,m=void 0!==a&&{tags:{isAuth:a}}||void 0;if((0,s.A9)(n.reason?d.concat(`.${n.reason}`):d,m),(0,s.A9)(n.reason?p.concat(`.${n.reason}`):p,{...m,sampleRate:.5}),"COMPLETE"!==n.type)return void S(`Abort metric ${u}`,n);const g=T();if("unknown"===g)return S(`Unable to convert to absolute times for ${u} due to missing time origin`),void(0,s.A9)(`missingTimeOrigin.${u}`,m);if(i.is&&(window.PWT_LAB_DATA=c(n,t)),n.spans.length&&(n.spans=n.spans.map((e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e)))),!i.is){const i=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:o}=n,a=w({traceId:o,actionName:u,result:n,timeOrigin:g,serverDataToJoin:i&&l||null});(0,r.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(a),report_context:JSON.stringify(h(t))}}),S(`PinTrace ${u} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${o.toString(16)}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},335741:(e,t,n)=>{n.d(t,{Af:()=>_,Bn:()=>g,Kj:()=>p,PJ:()=>l,UQ:()=>v,Ux:()=>c,on:()=>a,v2:()=>u});var r=n(545225),i=n(55941);const o={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},a=()=>{o.longTaskDurations=[]},s=(0,r.Z)((()=>o.elementTimings)),l=()=>s.get(),c=e=>{e&&s.save(),o.elementTimings=[]},u=()=>o;let d=0;const p=()=>d;let m;const g=()=>m;let f;const _=()=>f,v=()=>{(0,i.Z)({type:"element",buffered:!0},(e=>{o.elementTimings=o.elementTimings.concat(e.getEntries().reduce(((e,{identifier:t,loadTime:n,renderTime:r})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof r?[{identifier:t,loadTime:n,renderTime:r}]:[])),[]))})),(0,i.Z)({entryTypes:["longtask"]},(e=>{e.getEntries().map((e=>o.longTaskDurations.push(e.duration)))}),(()=>a())),(0,i.Z)({type:"first-input",buffered:!0},((e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(o.firstInputDelay={startTime:n.startTime,endTime:n.processingStart},f=o.firstInputDelay.startTime),t.disconnect()}),(()=>{o.firstInputDelay=null})),(0,i.Z)({type:"largest-contentful-paint",buffered:!0},(e=>{const t=e.getEntries(),n=t.length,r=t[n-1];r&&(d=n,o.largestContentfulPaint=r.renderTime||r.loadTime||null,m=r.renderTime||r.loadTime||null)})),(0,i.Z)({type:"layout-shift",buffered:!0},(e=>{e.getEntries().forEach((e=>{e.hadRecentInput||(o.cumulativeLayoutShiftScore+=e.value)}))}))}},545225:(e,t,n)=>{n.d(t,{Z:()=>r});const r=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},55941:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{const r=new window.PerformanceObserver(t);return r.observe(e),window.addEventListener("beforeunload",(()=>{r.disconnect()})),n&&window.addEventListener("popstate",(()=>{n()})),r}catch(r){return null}}},769916:(e,t,n)=>{function r(){let e="";for(let t=0;t<15;t+=1){e+="0123456789"[Math.floor(10*Math.random())]}return Number(e)}n.d(t,{Z:()=>r})},353335:(e,t,n)=>{n.d(t,{Cg:()=>f,Eg:()=>v,Hv:()=>w,LH:()=>y,MM:()=>h,X_:()=>p,y0:()=>_});var r=n(39008),i=n(763795),o=n(39983),a=n(324e3),s=n(545225),l=n(55941),c=n(910673);let u;function d(){window.performance&&window.performance.clearResourceTimings&&((0,o.ZP)("resourceBufferCleared"),r.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,i.A9)("resourceBufferSize",{count:(0,c.Z)("resource").length}),window.performance.clearResourceTimings())}const p=({size:e})=>{if(window.performance){window.PerformanceObserver?(u=(0,c.Z)("resource"),(0,l.Z)({entryTypes:["resource"]},(t=>{u=(u||[]).concat(t.getEntries()),u.length>e&&(u=u.slice(-e))}))):(window.addEventListener("popstate",(()=>{(0,c.Z)("resource").length>e&&d()})),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{u||d()}}catch(t){}}},m=()=>u||(0,c.Z)("resource"),g=(0,s.Z)(m),f=m,_=()=>g.get(),v=e=>{e&&g.save(),u&&((0,i.A9)("customBufferSize",{count:u.length}),u=[]),d()},y=()=>({customBufferSize:u?u.length:0,defaultBufferSize:(0,c.Z)("resource").length}),w=(e,t=!0)=>{let n=0,r=0;const o=(s=e.filter((e=>t?!("image"!==(0,a.i)(e)||(e.responseEnd||(n+=1),e.transferSize||(r+=1),!e.responseEnd||!e.transferSize)):!!e.responseEnd&&!!e.transferSize)).map((e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3))).length?s.reduce(((e,t)=>e+t),0)/s.length:null;var s;return t&&(n>0&&(0,i.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),r>0&&(0,i.A9)("images.downloadSpeed.transferSize",{tags:{count:r}},!1)),o},h=e=>{if(!e)return"unknown";const t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},910673:(e,t,n)=>{function r(e){var t,n;return(null===(t=window)||void 0===t||null===(n=t.performance)||void 0===n?void 0:n.getEntriesByType)&&window.performance.getEntriesByType(e)||[]}n.d(t,{Z:()=>r})},622200:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(i=window.performance)&&i.clearMarks&&i.clearMeasures&&i.clearResourceTimings&&i.getEntries&&i.getEntriesByName&&i.getEntriesByType&&i.mark&&i.measure&&i.now&&i.setResourceTimingBufferSize?i:null;var i},456453:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(667294);const i=(e,t)=>{const n=(0,r.useRef)((()=>{}));(0,r.useEffect)((()=>{n.current=e}),[e]),(0,r.useEffect)((()=>{if(null===t)return()=>{};const e=setInterval((()=>n.current()),t);return()=>clearInterval(e)}),[t])}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/14324-26336f4f732b7110.mjs.map