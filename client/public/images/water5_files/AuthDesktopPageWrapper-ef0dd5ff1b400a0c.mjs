(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[16115,97776,78369,76295],{727561:(e,t,n)=>{var s=n(567990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,s(e)+1).replace(i,""):e}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var s=n(513218),i=n(707771),o=n(14841),r=Math.max,a=Math.min;e.exports=function(e,t,n){var l,c,d,u,p,h,_=0,g=!1,m=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,s=c;return l=c=void 0,_=t,u=e.apply(s,n)}function f(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-_>=d}function y(){var e=i();if(f(e))return b(e);p=setTimeout(y,function(e){var n=t-(e-h);return m?a(n,d-(e-_)):n}(e))}function b(e){return p=void 0,x&&l?v(e):(l=c=void 0,u)}function w(){var e=i(),n=f(e);if(l=arguments,c=this,h=e,n){if(void 0===p)return function(e){return _=e,p=setTimeout(y,t),g?v(e):u}(h);if(m)return clearTimeout(p),p=setTimeout(y,t),v(h)}return void 0===p&&(p=setTimeout(y,t)),u}return t=o(t)||0,s(n)&&(g=!!n.leading,d=(m="maxWait"in n)?r(o(n.maxWait)||0,t):d,x="trailing"in n?!!n.trailing:x),w.cancel=function(){void 0!==p&&clearTimeout(p),_=0,l=h=c=p=void 0},w.flush=function(){return void 0===p?u:b(i())},w}},707771:(e,t,n)=>{var s=n(555639);e.exports=function(){return s.Date.now()}},14841:(e,t,n)=>{var s=n(727561),i=n(513218),o=n(733448),r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):r.test(e)?NaN:+e}},442279:(e,t)=>{function n(e,t){return e===t}function s(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],s=null,i=null;return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return null!==s&&s.length===o.length&&o.every((function(e,n){return t(e,s[n])}))||(i=e.apply(void 0,o)),s=o,i}}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return function(){for(var t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];var o=0,r=s.pop(),a=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(s),l=e.apply(void 0,[function(){return o++,r.apply(void 0,arguments)}].concat(n)),c=function(e,t){for(var n=arguments.length,s=Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];var o=a.map((function(n){return n.apply(void 0,[e,t].concat(s))}));return l.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o))};return c.resultFunc=r,c.recomputations=function(){return o},c.resetRecomputations=function(){return o=0},c}}var o=t.P1=i(s)},100634:e=>{var t,n,s={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[t,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};s.hash="ba7787ee8344e34b151f6a5f633c4170",e.exports=s},58041:e=>{var t,n,s={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarketingPixelQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetThirdPartyTrackingSettingsQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,concreteType:"PrivacyPolicyRules",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sendEventsToFacebook",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sendPixel",storageKey:null}],storageKey:null}],type:"V3GetThirdPartyTrackingSettings",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MarketingPixelQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetThirdPartyTrackingSettingsQuery",plural:!1,selections:[t,{kind:"InlineFragment",selections:[n],type:"V3GetThirdPartyTrackingSettings",abstractKey:null}],storageKey:null}]},params:{id:"0af0ebc3d1bdfa898b3fb7209156a29f43e45a5762ade8f5909b21f8930336ca",metadata:{},name:"MarketingPixelQuery",operationKind:"query",text:null}};s.hash="4cbfbeb13b6d75d6f6b35f16cd250f54",e.exports=s,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(s)},322748:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),i=n(616550),o=n(604094),r=n(282802),a=n(643183),l=n(371783),c=n(785893);const d=(0,s.lazy)((()=>n.e(27805).then(n.bind(n,227805))));function u(e){const{removeInSiteFeedbackModal:t,submitInSiteFeedback:n,inSiteFeedback:s}=(0,l.y)(),{actionFrom:u,isSubmitting:p,modalOpen:h,modalTitle:_,nextPageToRedirect:g,prompt:m,submissionComplete:x,submissionFailure:v}=s,f=(0,i.useLocation)(),y=(0,r.B)();return h?(0,c.jsx)(o.Z,{name:"SafeSuspense_InSiteFeedbackManager_InSiteFeedbackManagerInternal",children:(0,c.jsx)(a.Z,{children:(0,c.jsx)(d,{...e,actionFrom:u,hideModal:()=>t(),isSubmitting:p,location:f,modalOpen:h,nextPageToRedirect:g,prompt:m,requestContext:y,submissionComplete:x,submissionFailure:v,submitFeedback:e=>n(e),title:_})})}):null}},95385:(e,t,n)=>{function s(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}n.d(t,{Z:()=>s})},340906:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(245410),i=n(549201),o=n(802071),r=n(329689),a=n(384722);const l="sce_lightswitch_organic",c="sce_lightswitch_monetized",d=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function u(e){const t=(0,i.HG)(),{checkExperiment:n}=(0,s.F)(),u=(0,r.Z)(),p=(0,o.Z)(),h=(0,a.lJ)(p,u),_=d[t?"dweb":"mweb"];return e&&!h&&(n(l),n(c)),!h&&(n(_.organic).anyEnabled||n(_.monetized).anyEnabled)}},52050:(e,t,n)=>{n.d(t,{Z:()=>p});var s=n(667294),i=n(883119),o=n(24286),r=n(833122),a=n(802071),l=n(313398),c=n(157987),d=n(785893);const u=80;function p({contextLogData:e,dominantColor:t,handleReport:n,height:p,id:h,image:_,isDarkRep:g=!1,isHovered:m,name:x,onMouseEnter:v,onMouseLeave:f,onTap:y,searchBoxRenderStopwatch:b,slotIndex:w,url:S,viewParameter:I,viewType:P,width:A}){const E=(0,r.Z)({contextLogData:e,impressionType:"Article",loggingId:h,slotIndex:w,viewParameter:I,viewType:P}),C=(0,a.Z)(),[T,j]=(0,s.useState)(!1),k=T||m,R=p||u;let D,L;!A||A>=200?(D=3,L="300"):A>=150?(D=2,L="200"):(D=2,L="100");const Z=()=>{v?v():j(!0)},O=()=>{f?f():j(!1)};return(0,d.jsx)(i.xu,{height:R,ref:E,width:A||"100%",children:(0,d.jsx)(i.zd,{wash:!g,rounding:4,children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:g?{__style:{backgroundColor:k?"var(--color-gray-roboflow-600)":"var(--color-gray-roboflow-700)"}}:{__style:k?l.A.lightHoverOverlay:{}},children:(0,d.jsx)(i.st,{children:(0,d.jsxs)(i.iP,{href:S,onBlur:O,onFocus:Z,onMouseEnter:Z,onMouseLeave:O,onTap:y,role:"link",rounding:4,children:[(0,d.jsxs)(i.kC,{direction:"row",children:[(0,d.jsx)(i.zd,{height:R,wash:!0,width:R,children:(0,d.jsx)(i.Ee,{alt:"",color:t,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{null==b||b.stop()},role:"presentation",src:_})}),(0,d.jsx)(i.xu,{alignItems:"center",display:"flex",maxHeight:R,maxWidth:A?A-R:o.yF-u,padding:4,children:(0,d.jsx)(i.xv,{color:g?"light":void 0,lineClamp:D,size:L,weight:"bold",children:x})})]}),n&&C.isAuth&&C.isEmployee?(0,d.jsx)(i.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,d.jsx)(c.Z,{handleReport:n,imgSignature:_,isVisible:null!=k&&k})}):null]})})})})})}},542529:(e,t,n)=>{n.d(t,{Z:()=>_});var s=n(969327),i=n(965533);let o;const r={},a="https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",l="https://assets.pinterest.com/ext/Pinterest_Firefox.xpi",c="https://safari-extensions.apple.com/details/?id=com.pinterest.extension-HWZFLG9PNK",d="https://about.pinterest.com/assets/ext/Pinterest-IE-0.0.4.exe",u="https://addons.opera.com/en/extensions/details/pinterest-8/?display=en",p="https://microsoftedge.microsoft.com/addons/detail/pinterest-save-button/bkgoflemacdadndiohhdnphcmdhacabg/",h={[s.oi.CHROME]:{url:a,newWindow:!0},[s.oi.FIREFOX]:{url:l,newWindow:!1},[s.oi.SAFARI]:{url:c,newWindow:!0},[s.oi.IE]:{url:d,newWindow:!1},[s.oi.OPERA]:{url:u,newWindow:!0},[s.oi.EDGE]:{url:p,newWindow:!0}};r.handleExtensionInstall=(e,t)=>{const n=(0,s.u$)(e),o=function(e){return e?h[e].url:void 0}(n);o&&((0,i.Z)(o,function(e){return e?h[e].newWindow:void 0}(n)),t())},r.isExtensionInstalled=()=>o,r.isBrowserExtensionSupported=e=>(0,s.i7)(e)||(0,s.vU)(e)||(0,s.un)(e),r.extensionReady=(e,t=100)=>new Promise((n=>{setTimeout((()=>{document.body&&(o=document.body.hasAttribute("data-pinterest-extension-installed"),r.isBrowserExtensionSupported(e)||(o=!0),n(o))}),t)})),r.initBrowserExtension=()=>{Promise.resolve().then(n.bind(n,585095)).then((({default:e})=>{e.logToServer(e.SERVER_LOG_TYPE.BROWSER_EXTENSION,e.HTTP_METHOD.POST,{browser_extension_installed:o})}))};const _=r},243600:(e,t,n)=>{n.d(t,{Z:()=>s});const s=["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto","Oxygen-Sans","Ubuntu","Cantarell",'"Fira Sans"','"Droid Sans"','"Helvetica Neue"',"Helvetica",'"ヒラギノ角ゴ Pro W3"','"Hiragino Kaku Gothic Pro"',"メイリオ","Meiryo",'"ＭＳ Ｐゴシック"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},949137:(e,t,n)=>{n.d(t,{Z:()=>ce});var s=n(667294),i=n(616550),o=n(883119),r=n(583592),a=n(604094),l=n(643183),c=n(785893);const d=(0,s.lazy)((()=>n.e(58769).then(n.bind(n,958769)))),{Provider:u}=(0,r.Z)("LinkedBusinessAccountConfirmationModal");function p({children:e,onDismiss:t}){const[n,i]=(0,s.useState)(!1),o=(0,s.useMemo)((()=>({showLinkedBusinessAccountConfirmationModal:()=>{i(!0)}})),[]);return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(u,{value:o,children:e}),n&&(0,c.jsx)(a.Z,{name:"SafeSuspense_LinkedBusinessAccountConfirmationModalContextProvider_LinkedBusinessAccountConfirmationModal",children:(0,c.jsx)(l.Z,{children:(0,c.jsx)(d,{onDismiss:()=>{i(!1),t()}})})})]})}var h=n(297776),_=n(536042),g=n(630089);const m=()=>{const e=(0,_.ZP)();return(0,c.jsx)(o.J0,{iconAccessibilityLabel:e._('Info message', 'header.accountsOptionsMenu.info.icon', 'ally label for the info icon on a Gestalt SlimBanner'),message:(0,c.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,g.nk)(e._('Business Access {{ isNow }} Business Manager {{ restOfMsg }}', 'header.accountsOptionsMenu.newEntryPtBold', 'Message informing of change in menu item. isNow: english words "is now" but not in bold, restOfMsg: rest of message but not in bold'),{isNow:(0,c.jsx)(o.xv,{inline:!0,children:e._('is now', 'header.accountsOptionsMenu.newEntryPtIsNow', 'Message informing of change in menu item')}),restOfMsg:(0,c.jsx)(o.xv,{inline:!0,children:e._('and can now be found in the Business drop-down menu.', 'header.accountsOptionsMenu.newEntryPtRestOfMsg', 'Message informing of change in menu item')})})}),type:"info"})};var x=n(388011),v=n(133636),f=n(11724),y=n(963574);function b(){const e=(0,_.ZP)();return{addAccount:{value:"add-account",label:e._('Add account', 'header.accountsOptionsMenu.addSecondaryAccountButton', 'Short text on the button that allows a user to add a new account or log in to another Pinterest account')},businessAccess:{value:"business-access",label:e._('Business Access', 'Link to business Access Landing Page', 'A button that links to business access')},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),contentClaiming:{value:"content-claiming",label:e._('Content claiming portal', 'header.accountsOptionsMenu.contentManagementPortal', 'menu item linking to the content management portal')},convertToBusiness:{value:"convert-to-business",label:e._('Convert to business', 'header.accountsOptionsMenu.addAccountButton', 'Short upsell text on the button that allows a user to convert to a Pinterest business account')},currentAccount:{value:"current-account",label:e._('Current account', 'SwitchAccountsList.CurrentlyInItem', 'The account the user is currently logged into')},failedAccount:{value:"failed-account",label:e._('Failed to log into this account', 'header.accountsOptionsMenu.failedAccountItem', 'Explanation for which account the user could not log into')},getHelp:{value:"get-help",label:e._('Get help', 'header.accountsOptionsMenu.getHelp', 'menu item linking to the help center')},homefeedTuner:{value:"homefeed-tuner",label:e._('Tune your home feed', 'header.accountsOptionsMenu.homefeedTuner', 'menu item linking to home feed editor')},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e._('Log out', 'header.accountsOptionsMenu.logout', 'menu item that logs you out of your Pinterest account')},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e._('See terms of service', 'header.accountsOptionsMenu.termsOfService', 'menu item linking to our terms of service')},privacyPolicy:{value:"privacy-policy",label:e._('See privacy policy', 'header.accountsOptionsMenu.Privacy', 'menu item linking to our privacy policy')},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e._('Reports and violations center', 'header.accountsOptionsMenu.reportsAndViolationsCenter', 'menu item linked to the reports and violations center')},reportBug:{value:"report-bug",label:e._('Report a bug', 'header.accountsOptionsMenu.reportBug', 'menu item to show employee-only report bug modal')},settings:{value:"settings",label:e._('Settings', 'header.accountsOptionsMenu.settings', 'menu item linking to your settings')},settingsPrivacy:{value:"settingsPrivacy",label:e._('Your privacy rights', 'header.accountsOptionsMenu.settingsPrivacy.label', 'menu item linking to privacy settings')},adsSupport:{value:"ads-support",label:e._('Ads support', 'header.accountsOptionsMenu.adsSupport', 'menu item linking to ads support')},requestFeature:{value:"request-a-feature",label:e._('Request a feature', 'header.accountsOptionsMenu.requestAFeature', 'menu item linking to request a feature page in help center')},pinterestTvStudio:{value:"pinterest-tv-studio",label:e._('Pinterest TV Studio', 'Link to Pinterest Tv Creator Studio', 'a link menu item that links to creator stuido')},betaTester:{value:"be-a-beta-tester",label:e._('Be a beta tester', 'header.accountsOptionsMenu.beBetaTesterProgram', 'A link to Pinterest Beta Tester program')}}}var w=n(480327),S=n(931916),I=n(36521),P=n(53023),A=n(245410),E=n(282802),C=n(819079),T=n(306597),j=n(837792),k=n(800591),R=n(802071),D=n(965533),L=n(563962),Z=n(500797),O=n(402094),M=n(493851),z=n(361952);const B=["chrome","windows"];var N=n(88622);const F=(0,s.lazy)((()=>n.e(54613).then(n.bind(n,754613)))),{Provider:H,useHook:U}=(0,r.Z)("reportBugModalContext");function q({children:e}){const t=(0,_.ZP)(),[n,i]=(0,s.useState)(!1),o=(0,R.Z)(),r=(0,s.useCallback)((()=>{i(!0)}),[]),d=(0,s.useMemo)((()=>({handleShowReportBugModal:r})),[r]);return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(H,{value:d,children:e}),n&&o.isAuth&&(0,c.jsx)(N.ZP,{accessibilityModalLabel:t._('Report bug', 'header.accountsOptionsMenu.logout', 'Modal accessibility label for reporting a bug'),onDismiss:()=>{i(!1)},children:(0,c.jsx)(a.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,c.jsx)(l.Z,{children:(0,c.jsx)(F,{onDismiss:()=>{i(!1)},username:o.username})})})})]})}function G({onDismiss:e,advertiser:t,showAdsSupportOption:n,isWwwSite:i}){var r,a;const l=(0,R.Z)(),d=(0,_.ZP)(),{logContextEvent:u}=(0,x.v)(),{isLoaded:p,data:h}=(0,C.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),g=(0,E.B)(),{country:N,countryFromIp:F,isAuthenticated:H}=g,q=H&&k.gs.indexOf(N)>-1||k.gs.indexOf(F)>-1,{content_claiming_access:G=!1}=h||{},{handleShowReportBugModal:V}=U(),W=(0,w.Z)(),$=function(){const e=(0,_.ZP)(),t=(0,s.useContext)(z.Z),n=(0,Z.kM)(window,t),i=(0,L.Z)(),o=e=>{i({component:247,element:e,event_type:101})},r=()=>{if("windows"===n)o(11409),(0,D.Z)(`${j.TM}&cid=flyout_cta`,!0);else if("chrome"===n&&t){const e=t();e&&(o(11410),e.prompt())}},a=(0,M.Z)(e._('Install the {{appName}} app', 'header.accountsOptionsMenu.installApp', 'menu item linking app that can be installed'),{appName:(0,O.Z)(n)});return B.includes(n)?{onClick:r,text:a}:null}(),{checkExperiment:Y}=(0,A.F)(),K=l.isAuth&&!!l.isEmployee,X=!!l.isAuth&&l.isPartner,J=!!l.isAuth&&!l.isLimitedLogin,Q=(0,v.Z)(),{fetchedUserAccounts:ee,handleAccountRepClick:te,handleAddSecondaryAccount:ne,handleClick:se,handleLinkedAccountSwitch:ie,handleUnlockBusinessTools:oe,isLoading:re,showUnlockBusinessTools:ae}=(0,S.Z)(e,i),le=b(),{anyEnabled:ce}=Y("web_pinterest_tv_creator_studio_entry_points"),{anyEnabled:de}=Y("digital_services_act_portal");let ue=ee.filter((e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness));const pe=ee.find((e=>e.id===(l.isAuth&&l.id)));l.isAuth&&(null===(r=l.partner)||void 0===r?void 0:r.is_linked_business)&&(ue=ue.sort((e=>{var t;return null!=pe&&null!==(t=pe.owners)&&void 0!==t&&t.some((t=>t.id===e.id))?-1:1})));const he=(0,T.Z)({isUnder16:!!l.isAuth&&l.isUnder16,isPrivateProfile:!!l.isAuth&&l.isPrivateProfile}),_e=!he||he&&(ue.length>1||1===ue.length&&ue[0].businesses.length>0),ge=re&&(0,c.jsx)(I.Z,{}),me=null!=pe&&null!==(a=pe.businesses)&&void 0!==a&&a.length?pe.businesses.map((e=>l.id!==e.id&&(0,c.jsx)(o.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ie(e,pe.id),option:le.lbaAccountSwitch(e),children:(0,c.jsx)(y.Z,{user:e},e.id)},e.id))):null,xe=ue.map((e=>{var t;return e.id!==(l.isAuth&&l.id)?[(0,c.jsx)(o.Lt.Item,{onSelect:()=>te(e),option:le.parentAccount(e),children:(0,c.jsx)(y.Z,{user:e,isCurrentAccount:(l.isAuth&&l.id)===e.id})},e.id),...null!=e&&null!==(t=e.businesses)&&void 0!==t&&t.length?e.businesses.map((t=>l.id!==t.id&&(0,c.jsx)(o.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ie(t,e.id),option:le.businessAccount(t),children:(0,c.jsx)(y.Z,{user:t},t.id)},t.id))):[]]:null})),ve=i&&(0,c.jsx)(o.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:ne,option:le.addAccount}),fe=(0,c.jsx)(o.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:ne,option:le.addAccount}),ye=ae&&(0,c.jsx)(o.Lt.Item,{dataTestId:"header-menu-business-account",onSelect:oe,option:le.convertToBusiness}),be=p&&G&&(0,c.jsx)(o.Lt.Link,{href:"/content-claiming",onClick:()=>se(13606),option:le.contentClaiming}),we=K&&(0,c.jsx)(o.Lt.Item,{onSelect:()=>{V(),se(13607),e()},option:le.reportBug}),Se=(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-settings",onClick:({event:e})=>{if(Q)return e.stopPropagation(),void Q();se(247)},href:J?`https://${(0,f.Z)()}/settings`:"",option:le.settings}),Ie=Y("aid_exp_business_manager_dropdown_entrypoint").anyEnabled;let Pe=null;X&&(Pe=Ie?(0,c.jsx)(m,{}):(0,c.jsx)(o.Lt.Link,{onClick:()=>se(11719),href:`https://${(0,f.Z)()}/business/business-access/`,dataTestId:"header-menu-options-business-access",option:le.businessAccess}));const Ae=!q&&X&&ce&&(0,c.jsx)(o.Lt.Link,{onClick:()=>{u({event_type:10218,view_type:588,element:13290,aux_data:{elementId:"header-menu-options-creator-studio"}}),se(13290)},href:`https://${(0,f.Z)()}/tv/studio/`,dataTestId:"header-menu-options-creator-studio",badge:{text:"Beta",type:"info"},option:le.pinterestTvStudio}),Ee=(0,c.jsx)(o.Lt.Link,{onClick:({event:e})=>{if(Q)return e.stopPropagation(),void Q();se(11345)},href:J?"/edit":"",option:le.homefeedTuner}),Ce=!X&&$?(0,c.jsx)(o.Lt.Item,{onSelect:()=>{$.onClick(),e()},option:le.installApp($.text)}):null,Te=(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-privacy",option:le.settingsPrivacy,onClick:({event:e})=>{if(Q)return e.stopPropagation(),void Q();se(13334)},href:J?`https://${(0,f.Z)()}/settings/privacy`:""}),je=de?(0,c.jsx)(o.Lt.Link,{onClick:({event:e})=>{if(Q)return e.stopPropagation(),void Q();se(14618)},href:J?"/reports-and-violations":"",option:le.reportsAndViolationsCenter}):null,ke=X&&n&&(Re=7,!t||(0,P.Z)((t||{}).actions||[],Re))&&(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-ads-support",isExternal:!0,onClick:()=>se(10106),href:j.Jb,option:le.adsSupport});var Re;const De=X?(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",isExternal:!0,onClick:()=>se(11345),href:j.W3+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",option:le.requestFeature}):null,Le=(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-help",isExternal:!0,onClick:()=>se(8002),href:`${j.gO}?source=gear_menu_web`,option:le.getHelp}),Ze=(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-tos",isExternal:!0,onClick:()=>se(61),href:j.dQ,option:le.termsOfService}),Oe=(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-policy",isExternal:!0,onClick:()=>se(8004),href:j.R_,option:le.privacyPolicy}),Me=(0,c.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-beta-tester",isExternal:!0,onClick:()=>se(13613),href:j.LO,option:le.betaTester}),ze=(0,c.jsx)(o.Lt.Item,{dataTestId:"header-menu-options-logout",onSelect:W,option:le.logOut}),Be=_e?(0,c.jsxs)(o.Lt.Section,{label:d._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[ge,me,xe,!he&&ve,!he&&ye]},"your-accounts"):null,Ne=(0,c.jsxs)(o.Lt.Section,{label:d._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[ge,me,xe,!he&&fe,!he&&ye,Se,Pe]},"your-accounts"),Fe=(0,c.jsxs)(o.Lt.Section,{label:d._('Content', 'header.accountsOptionsMenu.contentHeader', 'header for content section of menu'),children:[be,je,Ae,Ce]}),He=(0,c.jsxs)(o.Lt.Section,{label:d._('Help', 'header.accountsOptionsMenu.helpHeader', 'header for help section of menu'),children:[Le,ke,De,we]}),Ue=(0,c.jsxs)(o.Lt.Section,{label:d._('Privacy', 'header.accountsOptionsMenu.privacyHeader', 'header for privacy section of menu'),children:[Oe,Te]}),qe=(0,c.jsxs)(o.Lt.Section,{label:"",children:[Ze,ze]}),Ge=(0,c.jsxs)(o.Lt.Section,{label:d._('More options', 'header.accountsOptionsMenu.optionsHeader', 'header for options section of menu'),children:[be,je,we,Se,Pe,Ae,Ee,Ce,Te,ke,De,Le,Ze,Oe,Me,ze]});return{yourAccount:X?Ne:Be,moreOptions:X?[Fe,He,Ue,qe]:Ge}}function V({failedAccount:e,handleReauthAccount:t,handleRemoveUnauthAccount:n}){const i=(0,_.ZP)();return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(o.xu,{marginTop:4,children:(0,c.jsx)(o.zx,{fullWidth:!0,text:i._('Log in again', 'header.accountsOptionsMenu.failedAccountLoginButton', 'Text on button allowing user to log into an account after failing to switch to that account'),color:"red",onClick:t})}),(0,c.jsx)(o.xu,{marginTop:3,children:(0,c.jsx)(o.zx,{fullWidth:!0,text:i._('Remove account', 'header.accountsOptionsMenu.failedAccountRemoveButton', 'Text on button allowing user to remove an account from their account switcher after failing to switch to it'),onClick:()=>n(e.id)})})]})}var W=n(3060),$=n(930317);function Y({anchor:e,onDismiss:t,advertiser:n,showAccountSwitcher:s,showAdsSupportOption:i,isWwwSite:r}){var a;const l=(0,R.Z)(),d=(0,_.ZP)(),{failedAccount:u,fetchedUserAccounts:p,handleAccountRepClick:h,handleLinkedAccountSwitch:g,handleReauthAccount:m,handleRemoveUnauthAccount:x}=(0,S.Z)(t,r),v=b(),f=p.find((e=>e.id===(l.isAuth&&l.id))),w=l.isAuth&&(null===(a=l.partner)||void 0===a?void 0:a.is_linked_business),{yourAccount:I,moreOptions:P}=G({onDismiss:t,advertiser:n,showAdsSupportOption:i,isWwwSite:r});return(0,c.jsx)($.Z,{children:(0,c.jsxs)(o.Lt,{anchor:e,idealDirection:"down",onDismiss:t,id:"HeaderAccountOptionsFlyout",zIndex:new o.Ry(1e3),isWithinFixedContainer:!0,children:[s&&(u?(0,c.jsxs)(o.Lt.Section,{label:d._('Oh no! You\'re no longer logged into', 'header.accountsOptionsMenu.failedAccount', 'Full sentence: "Oh no! You\'re no longer logged into <user\'s account>". Text telling user that they are no longer logged into an account after trying to switch to it'),children:[(0,c.jsx)(o.Lt.Item,{onSelect:()=>{},option:v.failedAccount,children:(0,c.jsx)(y.Z,{user:u})}),(0,c.jsx)(V,{failedAccount:u,handleReauthAccount:m,handleRemoveUnauthAccount:x})]}):[(0,c.jsx)(o.Lt.Section,{label:d._('Currently in', 'SwitchAccountsList.CurrentlyInTitle', 'Title for currently logged in account on Switch Account Page'),children:!!f&&(0,c.jsx)(o.Lt.Item,{onSelect:()=>w?g(f,void 0):h(f),option:v.currentAccount,selected:v.currentAccount,children:(0,c.jsx)(o.rU,{href:r?`/${f.username}/`:`${W.C0}/${f.username}/`,underline:"none",children:(0,c.jsx)(y.Z,{user:f,isCurrentAccount:!0})})})},"currently-in"),I]),P]})})}const K="MOBILE",X="DESKTOP",J=e=>[K,X].includes(e),Q=e=>"STERLING"===e,ee=e=>"ANALYTICS"===e;var te=n(550941),ne=n(988014),se=n(441330),ie=n(846226),oe=n(63262),re=n(8915),ae=n(435399),le=n(589665);function ce({currentSite:e,isSterlingOnSteroids:t,isAdsNavMenuEnabled:n,advertiser:r}){const a=(0,_.ZP)(),{showAccountMenuFlyout:l,updateHeaderState:d}=(0,ae.J)(),u=e=>{d({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},[g,m]=(0,s.useState)(!1),x=(0,i.useHistory)(),v=(0,R.Z)(),f=(0,C.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:v.isAuth?v.id:""}}),y=(0,s.useRef)(),b=J(e)&&!t||ee(e)||Q(e),w=Q(e)||n,S=(0,i.useLocation)(),I=(0,oe.F9)();(0,s.useEffect)((()=>{(0,te.rL)({showOneToast:I.showOneToast,i18n:a,location:S,history:x,username:v.username||"",fullName:v.fullName||"",avatarUrl:v.imageMediumUrl||""})}),[]),(0,s.useEffect)((()=>(v.isAuth&&v.partner&&(0,se.Mt)(v,f.data),()=>{v.isAuth&&v.partner&&(0,se.CV)("flyout.dismiss")})),[]);const P=()=>{u(!1)};(0,s.useEffect)((()=>{var e,t;(null!==(e=null===(t=f.data)||void 0===t?void 0:t.businesses)&&void 0!==e?e:[]).length>0&&m(!0)}),[f]);const{pathname:A}=S,E=!(A.startsWith("/settings")||A.startsWith("/edit"))&&(v.username&&A.startsWith(`/${v.username}`)||A.startsWith("/news_hub"));return(0,c.jsx)(re.T,{children:(0,c.jsx)(q,{children:(0,c.jsxs)(p,{onDismiss:P,children:[(0,c.jsx)(o.xu,{ref:y,"data-test-id":"header-accounts-options-button",children:(0,c.jsx)(o.hU,{accessibilityLabel:a._('Accounts and more options', 'header.accountsOptionsMenu.accountsOptionsMenuButton', 'accessibility label for the button that shows the accounts/options menu'),icon:"arrow-down",iconColor:l?"darkGray":"gray",onClick:()=>{u(!l),m(!1)},size:"xs",tooltip:{accessibilityLabel:"",text:a._('Accounts and more options', 'navbar.actionsOptionsButton.tooltip', 'Tooltip text for icon button to open accounts/options menu'),zIndex:new o.H3([new o.Ry(le.fe)])}})}),l&&(0,c.jsx)(ie.Z,{id:"HeaderAccountsOptionsFlyout",children:(0,c.jsx)(Y,{anchor:y.current,onDismiss:P,showAccountSwitcher:b,showAdsSupportOption:w,advertiser:r,isWwwSite:J(e)})}),g&&(0,c.jsx)(ie.Z,{id:"LinkedBusinessAccountFlyout",children:(0,c.jsx)(h.default,{anchor:y.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,ne.LO)(S)&&(0,c.jsx)(h.default,{anchor:y.current,idealDirection:"left",experienceIds:[503137],placementId:1000303}),v.isAuth&&!v.partner?(0,c.jsx)(h.default,{anchor:y.current,experienceIds:[503893,503602],onClickComplete:()=>x.push("/settings"),placementId:1000109,showCaret:!0}):null,E&&(0,c.jsx)(h.default,{anchor:y.current,experienceIds:[505283],onClickComplete:()=>{x.push("/settings/privacy/")},placementId:1000109,showCaret:!0,textWeight:"bold",hasFullWidthButton:!1,textAlign:"center",flyoutSize:"md"})]})})})}},963574:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(883119),i=n(621699),o=n(536042),r=n(785893);function a(e){var t;return null!==(t=e.partner)&&void 0!==t&&t.isLinkedBusiness?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function l(e){const{imageMediumUrl:t}=e;return t&&!t.includes("static/images/user/default")?t:""}function c({user:e,isCurrentAccount:t}){var n,c;const d=(0,o.ZP)(),u=e.partner,p=null===(n=e.partner)||void 0===n?void 0:n.isLinkedBusiness;return(0,r.jsxs)(s.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginEnd:4,rounding:2,"data-test-id":"HeaderAccountsOptionsMenuAccountRep",children:[(0,r.jsx)(s.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,r.jsx)(i.Z,{accessibilityLabel:"",name:a(e),src:l(e)})}),(0,r.jsxs)(s.xu,{maxWidth:176,children:[(0,r.jsx)(s.xv,{lineClamp:1,weight:"bold",children:a(e)}),(0,r.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,r.jsx)(s.xv,{color:"subtle",size:"200",lineClamp:1,children:u?d._('Business', 'SwitchAccountsListItem.BusinessAccount.label', 'Label shown for business account in the Account Switcher'):d._('Personal', 'SwitchAccountsListItem.PersonalAccount.label', 'Label shown for personal account in the Account Switcher')})}),t&&(0,r.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,r.jsx)(s.xv,{color:"subtle",size:"200",lineClamp:1,children:p?null===(c=e.partner)||void 0===c?void 0:c.bizOwnershipEmail:e.email})})]})]})}},480327:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(563962),i=n(441330),o=n(814247),r=n(514316),a=n(802071),l=n(188533);function c(){const e=(0,a.Z)(),t=(0,s.Z)(),n=(0,o.aU)(),c=(0,l.a)(),{headerVisible:d,activeClient:u,changeClient:p}=c||{};return function(){t({event_type:101,component:8,element:8005}),d&&u?p():(0,r.lv)()>1?(e.isAuth&&((0,i.RD)(e.id),(0,i.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,r.Q)()})):((0,i.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}},931916:(e,t,n)=>{n.d(t,{Z:()=>x});var s=n(667294),i=n(616550),o=n(40660),r=n(690108),a=n(876936),l=n(388011),c=n(759495),d=n(906215),u=n(121633),p=n(441330),h=n(837792),_=n(802071),g=n(8915),m=n(515640);function x(e,t){const{flushContextEvents:n,logContextEvent:x}=(0,l.v)(),[v,f]=(0,s.useState)(!1),[y,b]=(0,s.useState)(null),w=(0,i.useHistory)(),S=(0,_.Z)(),{showAccountSwitcherLoginModal:I}=(0,g.g)(),{userAccounts:P}=(0,m.N)(),{data:A}=(0,a.iY)(),E=(0,c.Z)(),C=!(!S.isAuth||S.partner||null==A||!A.businesses)&&0===A.businesses.length;(0,s.useEffect)((()=>(S.isAuth&&(0,p.Mt)(S,A),()=>{(0,p.CV)("flyout.dismiss")})),[]),(0,s.useEffect)((()=>((0,p.CV)("modal.shown"),()=>{(0,p.CV)("modal.dismiss")})),[]),(0,s.useEffect)((()=>{P.length>1&&x({event_type:13,view_type:234,component:13369,element:12722})}),[x,P]);const T=(e,t)=>{throw(0,p.z3)(e,"account_switcher_flyout"),f(!1),t};return{failedAccount:y,fetchedUserAccounts:P,handleAccountRepClick:e=>{S.isAuth&&e.id!==S.id&&(e=>{const{id:t}=e;f(!0),x({event_type:101,component:13369,element:11196}),(0,p.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout");const s={get_user:!0,switch_account:t};d.Z.pause(u.LU),n(!0),E({creds:s,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(((n={})=>{var s,i;null!=n&&null!==(s=n.resource_response)&&void 0!==s&&null!==(i=s.data)&&void 0!==i&&i.user?(0,p.iS)("/",t,"account_switcher_flyout"):((0,p.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,p.z3)(t,"account_switcher_flyout"),b(e),f(!1))}),(e=>{T(t,e)}))})(e)},handleAddSecondaryAccount:()=>{(0,p.CV)("add_account_click",null,"account_switcher_flyout"),x({event_type:101,component:8,element:12756}),e(),w.push(h.rO)},handleClick:t=>{13290!==t&&x({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:(e,s)=>{const{partner:i}=e;if(f(!0),x({event_type:101,component:13369,element:null!=i&&i.isLinkedBusiness?11195:11194}),d.Z.pause(u.LU),n(!0),null!=i&&i.isLinkedBusiness){const t={business_id:e.id,get_user:!0,owner_id:s};o.Z.increment("web.partner.linked_business_account.switch_account_attempt",1),E({creds:t,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then((t=>{o.Z.increment("web.partner.linked_business_account.switch_account_success",1),(0,p.iS)("/",e.id,"account_switcher_flyout")}),(t=>{T(e.id,t)}))}else r.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then((()=>{S.isAuth&&((0,p.RD)(S.id),(0,p.iS)(t?`/${e.username}`:"/",S.id,"account_switcher_flyout"))}),(e=>{S.isAuth&&T(S.id,e)}))},handleReauthAccount:()=>{(0,p.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),b(null),I("account_switcher_flyout",null==y?void 0:y.email)},handleRemoveUnauthAccount:e=>{(0,p.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,p.RD)(e),b(null)},handleUnlockBusinessTools:()=>{e(),S.isAuth?window.location.href="https://www.pinterest.com/convert-business":w.push(`${h.ms}?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings`),x({event_type:101,component:8,element:10299})},isLoading:v,showUnlockBusinessTools:C}}},874261:(e,t,n)=>{n.d(t,{Z:()=>o});n(441143);var s=n(785893);class i{static factory(e){return e instanceof i?e:new i(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function o(e){const{css:t,unsafeCSS:n,...o}=e,r=String(t||"")||n||"";return!!r?(0,s.jsx)("style",{...o,dangerouslySetInnerHTML:{__html:String(i.factory(r))}}):null}},53023:(e,t,n)=>{function s(e,t){return e.includes(t)||e.includes(80)}n.d(t,{Z:()=>s})},306597:(e,t,n)=>{n.d(t,{Z:()=>s});const s=({isUnder16:e,isPrivateProfile:t})=>e||t},846226:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(883119),i=n(785893);function o(e){const{children:t,display:n,id:o}=e;return(0,i.jsx)(s.xu,{"data-test-id":o,display:n,children:t})}},268422:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(78309),i=n(198541);const o={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},r=e=>{let t={};return e&&(t={objectiveTypes:[e]}),t},a={overview:()=>"/",reporting:e=>{const t=e.objectiveType||null;delete e.objectiveType;const n={...e,...r(t)};return(0,i.Z)("/reporting/campaigns/",n)},reportingAdGroup:e=>{const{campaignId:t,objectiveType:n,showAllEntities:s,adGroupId:a,message:l}=e,c=a?{adGroupIds:[a]}:{},d={campaignIds:[t],...s?o:{},...r(n),...c,message:l};return(0,i.Z)("/reporting/adgroups/",d)},campaign:e=>{const{id:t,objectiveType:n}=e;return(0,i.Z)("/reporting/adgroups/",{campaignIds:[t],...r(n)})},editCampaign:e=>e.isAutomatedCampaign?a.editAutomated({campaignId:e.id,view:"campaign"}):a.editV2({campaignId:e.id,view:"campaign"}),adgroup:e=>{const{id:t,objectiveType:n,showAllEntities:s,pinPromotionId:a,campaignId:l}=e;if("TEMPORARY_SHOPPING"===n||"CATALOG_SALES"===n)return(0,i.Z)("/reporting/productgroups/",{adGroupIds:[t],...r(n)});{const e=s?o:{},c=l?{campaignIds:[l]}:{},d=a?{pinPromotionIds:[a]}:{};return(0,i.Z)("/reporting/ads/",{adGroupIds:[t],...r(n),...e,...d,...c})}},editAdGroup:e=>e.isAutomatedCampaign?a.editAutomated({campaignId:e.id,view:"campaign"}):a.editV2({adGroupId:e.id,view:"adgroup"}),pinPromotion:e=>{const{id:t,adFilter:n}=e,s=n?{adFilter:n}:{};return(0,i.Z)("/reporting/ads/",{pinPromotionIds:[t],...s})},editPinPromotion:e=>{const t=e.isCreatingPins?{isCreatingPins:!0}:{},n=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return a.editV2({adGroupId:e.adGroupId,view:"ad",...n,...t})},productGroup:e=>{const{id:t,name:n}=e;return(0,i.Z)("/reporting/productgroups/",{productGroupIds:[t],name:n})},campaigns:()=>"/reporting/campaigns/",adgroups:()=>"/reporting/adgroups/",ads:()=>"/reporting/ads/",productgroups:()=>"/reporting/productgroups/",campaignNegativeKeywords:()=>"/reporting/campaignNegativeKeywords/",campaignSearchQueries:()=>"/reporting/campaignSearchQueries/",adGroupNegativeKeywords:()=>"/reporting/adGroupNegativeKeywords/",adGroupPositiveKeywords:()=>"/reporting/adGroupPositiveKeywords/",adGroupSearchQueries:()=>"/reporting/adGroupSearchQueries/",ad:e=>a.pinPromotion(e),campaignMode:e=>(0,i.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),create:e=>{const{campaignId:t,objectiveType:n,partialCreate:s,catalogsFeedId:o,managedClientId:r,productGroupId:a,resumeLastDraft:l}=e,c={};return t&&s&&(c.campaignId=t),n&&(c.objectiveType=n),"CATALOG_SALES"===n&&o&&(c.catalogsFeedId=o),a&&(c.productGroupId=a),r&&(c.managedClientId=r),l&&(c.resumeLastDraft=!0),(0,i.Z)("/ads/create/",c)},createAutomated:e=>(0,i.Z)("/automated/ads/create/",e),editV2:e=>(0,i.Z)("/ads/edit/",e),editAutomated:e=>(0,i.Z)("/automated/ads/edit/",e),editDraftCampaign:e=>(0,i.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"}),duplicateCampaign:e=>(0,i.Z)("/ads/duplicate/",e),audiences:e=>(0,i.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),audience_debug:()=>"/audience_debug/",prepaid_spend_campaign_breakdown:()=>"/billing/prepaid_spend_campaign_breakdown/",billing:e=>{const{page:t,subSection:n,nextStepUrl:o}=e;switch(t){case s.kM.BILLING_HISTORY:return"/billing/history/";case s.kM.ORDER_LINES:return"/billing/order_lines/";case s.kM.PROMOTIONS:return"/billing/promotions/";case s.kM.DOCUMENTS:return"/billing/documents/";case s.kM.PREPAID_CAMPAIGN_SPEND:return"/billing/prepaid_campaign_spend_summary/";default:const e={};return n&&(e.section=n),o&&(e.next_step_link_url=o),(0,i.Z)("/billing/",e)}},bulk:e=>{const{subSection:t,page:n,jobStarted:o}=e||{};switch(n){case s.fm.UPLOAD_TEMPLATE:return(0,i.Z)("/bulk_editor/upload_template/",{section:t});case s.fm.DOWNLOAD_TEMPLATE:return(0,i.Z)("/bulk_editor/download_template/",{section:t});case s.fm.HISTORY:return(0,i.Z)("/bulk_editor/history/",{section:t,job_started:o});case s.fm.RESOURCES:return(0,i.Z)("/bulk_editor/resources/",{section:t});default:return"/bulk_editor/"}},history:e=>(0,i.Z)("/history/",e),shopping:e=>a.reporting(r("TEMPORARY_SHOPPING")),pinterest_tag:e=>{const{page:t,subSection:n,platform:o,source:r,origin:a}=e;switch(t){case s.qp.PINTEREST_EVENT_HISTORY:return r?(0,i.Z)("/conversions/event-history/",{source:r}):"/conversions/event-history/";case s.qp.CONVERSION_HEALTH:return"/conversions/health/";case s.qp.PINTEREST_TAG:return(0,i.Z)("/conversions/tag/",{subPage:n,platform:o});case s.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:return o?(0,i.Z)("/conversions/tag_manual_setup/",{platform:o,source:r}):"/conversions/tag_manual_setup/";case s.qp.PINTEREST_TAG_EVENTS:return"/conversions/tag-events/";case s.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case s.qp.CONVERSION_UPLOAD:return(0,i.Z)("/conversions/upload/",{subPage:n});case s.qp.UPLOAD_HISTORY:return(0,i.Z)("/conversions/history/",{subPage:n});case s.qp.PCA_UPLOAD_HISTORY:return(0,i.Z)("/conversions/pca_history/",{subPage:n});case s.qp.PCA_UPLOAD:return(0,i.Z)("/conversions/pca_upload/",{subPage:n});case s.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:return r||a?(0,i.Z)("/conversions/api_manual_setup/",{source:r,origin:a}):"/conversions/api_manual_setup/";case s.qp.CONVERSIONS_API_PARTNER_SETUP_FLOW:return r||a?(0,i.Z)("/conversions/api_partner_setup/",{source:r,origin:a}):"/conversions/api_partner_setup/";case s.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case s.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";default:return"/conversions/tag/"}},"pin-builder":e=>(0,i.Z)("/pin-builder/",e),purchases:()=>a.reporting(r("PURCHASE")),awareness_reserved:()=>a.reporting(r("IMPRESSION")),engagement:()=>a.reporting(r("BILLABLE_ENGAGEMENT")),videos:()=>a.reporting(r("TEMPORARY_BIDDED_CPM_VIDEO")),videos_reserved:()=>a.reporting(r("TEMPORARY_IMPRESSION_VIDEO")),videos_cpv:()=>a.reporting(r("TEMPORARY_MRC_CPV_VIDEO")),conversions:()=>a.reporting(r("WEB_CONVERSION")),accounts_manager:()=>"/accounts_manager/",reporting_preferences:e=>(0,i.Z)("/reporting/preferences/",e),report_builder:e=>(0,i.Z)("/report-center/builder/",e),report_history:e=>(0,i.Z)("/report-center/history/",e),report_unsubscribe:e=>(0,i.Z)("/report-center/unsubscribe/",e),report_download:e=>(0,i.Z)("/report-center/download/",e),media_planner:()=>"/media_planner/",awareness:()=>a.reporting(r("AWARENESS")),traffic:()=>a.reporting(r("TRAFFIC")),app_installs:()=>a.reporting(r("APP_INSTALL")),catalog_sales:()=>a.reporting(r("CATALOG_SALES")),web_conversion:()=>a.reporting(r("WEB_CONVERSION")),video_view:()=>a.reporting(r("VIDEO_VIEW")),quick_promote:e=>(0,i.Z)("/quick-promote/",e),quick_promote_on_www:()=>"/advertiser/quick-promote/",recommendations:e=>(0,i.Z)("/recommendations/",e),catalog_view:()=>"/product-catalogs/data-source",campaign_insights:e=>`/campaign-insights/${e.campaignId}/`},l=a},468e3:(e,t,n)=>{function s(e){return[0,24,21,26].includes(e)}function i({articleType:e,id:t,title:n}){const s=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${s}/${t}/`:`/discover/article/${s}/${t}/`}n.d(t,{x:()=>i,y:()=>s})},824433:(e,t,n)=>{function s(e){return"object"==typeof e&&null!==e&&"url"in e&&"media"in e}n.d(t,{Z:()=>s})},463310:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(965533),i=n(98736),o=n(799665);const r=(e,t)=>{null!=t&&t.disableOriginCheck||(0,o.Z)(e)||(e="/",(0,i.My)("url_reset")),(0,s.Z)(e)}},519677:(e,t,n)=>{n.d(t,{Z:()=>s});const s={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},980124:(e,t,n)=>{function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});class i{static reportGoogleConversion(e,t,n,s){s||(void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,n):i.queuedGoogleConversions.push({id:e,label:t,url:n}))}static reportFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("track",t,n):window.fbq("track",t):i.queuedFacebookConversions.push({id:e,event:t,data:n})}static reportCustomFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t):i.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n})}static reportPinterestConversion(e,t,n){void 0!==window.pintrk?n?window.pintrk("track",t,n):window.pintrk("track",t):i.queuedPinterestConversions.push({id:e,event:t,data:n})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):i.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("role","presentation"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){const n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("role","presentation"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){const s=1e13*Math.random(),i=document.createElement("iframe");i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("frameborder","0"),i.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${s}?`),i.style.display="none",document.body.insertBefore(i,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){const n=document.createElement("script");t||(n.setAttribute("async",""),n.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),n.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};const n=i.queuedGoogleConversions;for(let s=0;s<n.length;s+=1){const o=n[s];o.id===e&&i.reportGoogleConversion(o.id,o.label,o.url,t)}}),document.body.insertBefore(n,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,s,o,r,a;t=window,n=document,s="script",t.fbq||(o=t.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},t._fbq||(t._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(r=n.createElement(s)).async=!0,r.src="//connect.facebook.net/en_US/fbevents.js",(a=n.getElementsByTagName(s)[0]).parentNode.insertBefore(r,a)),window.fbq("init",e),window.fbq("track","PageView");const l=i.queuedFacebookConversions;for(let c=0;c<l.length;c+=1){const t=l[c];t.id===e&&(t.isCustomEvent?i.reportCustomFacebookConversion(e,t.event,t.data):i.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,n,s,i,o,r;t=window,n=document,s="script",t.twq||(i=t.twq=function(){i.exe?i.exe.apply(i,arguments):i.queue.push(arguments)},i.version="1.1",i.queue=[],(o=n.createElement(s)).async=!0,o.src="//static.ads-twitter.com/uwt.js",(r=n.getElementsByTagName(s)[0]).parentNode.insertBefore(o,r)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}(),window.pintrk("load",e),window.pintrk("page");const t=i.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){const s=t[n];s.id===e&&i.reportPinterestConversion(e,s.event,s.data)}}}s(i,"queuedGoogleConversions",[]),s(i,"queuedFacebookConversions",[]),s(i,"queuedPinterestConversions",[]),s(i,"queuedTwitterConversions",[]);const o=i},876936:(e,t,n)=>{n.d(t,{OS:()=>o,iY:()=>r});var s=n(819079),i=n(802071);const o=4;function r(){const e=(0,i.Z)();return(0,s.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}},777610:(e,t,n)=>{n.d(t,{Q:()=>c,Z:()=>d});var s=n(667294),i=n(682492),o=n.n(i),r=n(563962),a=n(788241),l=n(282802);function c(e,t){const{setViewContextData:n}=(0,a.sV)(),{requestIdentifier:i}=(0,l.B)(),c=(0,r.Z)(),{viewData:d}=(0,a.SU)();(0,s.useEffect)((()=>{var t;e&&(n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?o()(d,e.view_data):o()({},d),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:i}))}),[t])}function d(e){const{children:t,log:n}=e;return c(n),t||null}},877388:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(667294),i=n(388011),o=n(788241);const r=e=>{const t=(0,s.useRef)(!1),{logContextEvent:n}=(0,i.v)(),{viewType:r,viewParameter:a}=(0,o.SU)();(0,s.useEffect)((()=>{Object.entries(e).length>0&&!t.current&&r&&(n({event_type:13,view_type:r,view_parameter:a,...e}),t.current=!0)}))}},758360:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(667294),i=n(973935);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends s.Component{constructor(...e){super(...e),o(this,"observer",null),o(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=i.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return s.Children.only(this.props.children)}}const a=r},583462:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(883119),i=n(536042),o=n(785893);function r(){const e=(0,i.ZP)();return(0,o.jsx)(s.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(s.$j,{accessibilityLabel:e._('Loading signup form', ' - ', ' -- '),show:!0})})}},550496:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(240684),i=n(883119),o=n(785893);const r=(0,s.ZP)({resolved:{},chunkName:()=>"LimitedLoginModalCommon",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(40738).then(n.bind(n,382538)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 382538}});function a(){return(0,o.jsx)(r,{fallback:(0,o.jsx)(i.xu,{})})}},583121:(e,t,n)=>{n.d(t,{Bx:()=>i,N4:()=>r,is:()=>a,lt:()=>s,oM:()=>o});const s=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),o=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),r=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),a=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},759495:(e,t,n)=>{n.d(t,{Z:()=>b});var s=n(667294),i=n(690108),o=n(388011),r=n(457628),a=n(791045),l=n(231652),c=n(669894),d=n(315219),u=n(814247),p=n(440534),h=n(950861),_=n(617285),g=n(499441),m=n(785629),x=n(626389),v=n(98736),f=n(284814),y=n(890415);function b(){const e=(0,u.hq)(),t=(0,_.Z)(),{logContextEvent:n}=(0,o.v)(),b=(0,f.Z)();return(0,s.useCallback)((({creds:s,isAccountSwitch:o,loggingOptions:{loggingData:u=Object.freeze({}),loginAttemptContextEvent:_},recaptchaV2Token:f,recaptchaV3Token:w})=>{t();const S=!(!s.facebook_autologin&&!s.autologin),I=(0,h.eD)(s),P=e=>{const t=s.google_open_id_token?"google":"facebook";S&&(0,v.dy)({event:e,provider:t})},A=e=>{S||(0,v.EX)({event:e,provider:(0,h.nY)(s)})};n({..._,event_type:7534}),b({action:S?"autologin":"login",event:"attempt",trigger:u.trigger,type:I});const E=e=>{let t="referrer_unknown";try{const e=document.referrer;t=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(a){}const i=u===Object(u)?u.container:"container_unknown";(0,v.My)("login.referrer."+t+"."+I),(0,v.My)("login.container."+String(i)+"."+I),(0,v.My)("login.type."+I);const o=I||"method_unknown",r=u.page||"page_unknown";s.facebook_autologin?((0,v.My)("web_autologin_facebook"),(0,v.My)("new_web_autologin_facebook",{page:r,referrer:t,container:i})):((0,v.My)(`web_login.${o}.success.${r}.${String(i)}.${t}.tier1`),(0,v.My)(`new_web_login.${o}.success`,{page:r,referrer:t,container:i})),(0,g.ko)({country:null==e?void 0:e.country,countryFromHostName:null==e?void 0:e.countryFromHostName,countryFromIp:null==e?void 0:e.countryFromIp,regionFromIp:null==e?void 0:e.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),n({..._,event_type:7536}),b({action:S?"autologin":"login",event:"success",trigger:u&&u.trigger,type:I})},C=({error:e,isCrossDomain:t})=>{if(!e)return;const s=e.http_status===m.Ej?m.Ej:e.api_error_code;let i=s;s&&d.qF.has(s)&&(i=d.qF.get(s));const{container:o,trigger:r}=u;(0,v.My)(`${t?"unauth_web_client_cctld_login_api_error":"unauth_web_client_login_api_error"}.${String(i)}.${o||"unknow_container"}.${I}`),n({..._,event_type:7535}),b({action:S?"autologin":"login",event:"fail",trigger:r,type:I})};if(s.username_or_email&&!s.mfa_resend&&e&&-1!==p.Z.indexOf(e.origin)){const t=e=>(0,v.My)(`web_cross_domain_login.${e}.${(0,h.eD)(s)}`);t("attempt");const{referrer:n,facebookToken:i,unauthId:o}=e;return(0,l.pH)(s,{recaptchaV3Token:w,referrer:n,facebookToken:i,unauthId:o}).then((e=>{const n=e&&e.data;if(n)return t("success_with_token"),(0,l.kv)(n).then((e=>(t("success_token_exchanged"),E(),Promise.resolve())),(e=>{throw t("success_token_not_exchanged"),e}));throw t("success_without_token"),new Error}),(e=>{throw t("failure"),C({error:e,isCrossDomain:!0}),e}))}P("login_api_call_start"),A("login_api_call_start");const T=(0,y.OJ)();return i.Z.create("UserSessionResource",{...s,...T?{referrer:T}:Object.freeze({}),get_user:s.get_user||s.switch_account&&o,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,y.t_)()||null,recaptchaV2Token:f,recaptchaV3Token:w}).callCreate({showError:!1,async:!0}).then((e=>{const{country:t,country_from_hostname:n,country_from_ip:s,region_from_ip:i}=(null==e?void 0:e.client_context)||Object.freeze({});return E({country:t,countryFromHostName:n,countryFromIp:s,regionFromIp:i}),P("login_api_call_success"),A("login_api_call_success"),(0,c.B)(!1),r.zN(a.e7.name),r.zN(a.x3.name),(0,x.D)("login").then((()=>e))}),(e=>(C({error:e,isCrossDomain:!1}),P("login_api_call_failure"),A("login_api_call_failure"),Promise.reject(e))))}),[e,t,n,b])}},133636:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(583121),i=n(536042),o=n(393599);const r=()=>{const{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,o.H)(),r=(0,i.ZP)();return"AUTH"===t.type?null:t=>{null==e||e.setVisible(!0),null==n||n.setText((null==t?void 0:t.loginModalHeader)||(0,s.lt)(r))}}},669894:(e,t,n)=>{n.d(t,{B:()=>r,a:()=>o});var s=n(860438),i=n(619277);const o=()=>!!s.Z.getItem(i.WM),r=e=>{s.Z.setItem(i.WM,!!e)}},655082:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(667294),i=n(883119),o=n(388011),r=n(820997),a=n(88622),l=n(536042),c=n(785893);function d(){const{logContextEvent:e}=(0,o.v)(),t=(0,l.ZP)(),[n,d]=(0,s.useState)(),[u,p]=(0,s.useState)(),[h,_]=(0,s.useState)();(0,s.useEffect)((()=>{const n=t._('Sorry! Something went wrong on our end.', ' - ', ' -- '),s=t._('Something went wrong', ' - ', ' -- ');return r.Z.setShowHtmlErrorCallback(((t=n,i,o=s)=>{t===n&&o===s&&e({event_type:13,component:9,view_type:17,view_parameter:3237});const r=t.replace(/&#x27;/g,"'").replace(/&#39;/g,"'");d(i),p(o||""),_(r)})),()=>{r.Z.setShowHtmlErrorCallback((()=>{}))}}),[e,d,p,_,t]);const g=()=>{"function"==typeof n&&n(),d(null),p(null),_(null)};return h?(0,c.jsx)(a.ZP,{accessibilityModalLabel:t._('An error occurred', ' - ', ' -- '),heading:u,onDismiss:g,size:"sm",footer:(0,c.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,c.jsx)(i.zx,{color:"red",onClick:g,text:t._('Okay', ' - ', ' -- ')})}),children:(0,c.jsx)(i.xu,{margin:5,"data-test-id":"error-modal",children:(0,c.jsx)(i.xv,{children:h})})}):null}},33476:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(667294),i=n(702664),o=n(527386),r=n(216702),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends s.Component{constructor(...e){super(...e),l(this,"state",{hasCompleted:[],hasDismissed:[]}),l(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:n,viewExperience:s,viewExperienceObject:i}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",i(e)):n?s(e.placement_id,e.experience_id,n):s(e.placement_id,e.experience_id))})),l(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:s,isBackendExperience:i,preventRemoval:o,targeting:r}=this.props,a=e||1;if(s&&!this.state.hasCompleted.includes(s.experience_id)){const{placement_id:e,experience_id:l}=s||{},c=o||2===a;(1===a||c)&&e&&l&&(i?n(s,c):r?t(e,l,c,r):t(e,l,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),l(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:s,preventRemoval:i,targeting:o}=this.props,{placement_id:r,experience_id:a}=n||{};n&&!this.state.hasDismissed.includes(a)&&(s?t(n):o?e(r,a,!!i,o):e(r,a,!!i),this.setState((e=>({hasDismissed:[...e.hasDismissed,a]}))))})),l(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:s,transitionType:i}=this.props,{experience_id:o,type:r}=e;if(t&&t.includes(o))return!0;if(null==t||!t.length){if(s&&s(e))return!0;if(n&&n.includes(r))return!0;if(i&&i===r)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):s.Children.only(e):null}}function d(e){const t=(0,i.useSelector)((({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0))),n=(0,i.useDispatch)();return(0,a.jsx)(c,{...e,experience:t,completeExperience:(e,t,s,i)=>n((0,o.CK)(e,t,s,!1,{},i)),completeExperienceObject:(e,t)=>n((0,r.Tl)(e,t)),dismissExperience:(e,t,s,i)=>n((0,o.Qu)(e,t,s,void 0,i)),dismissExperienceObject:e=>n((0,r.CF)(e)),viewExperience:(e,t,s)=>n((0,o.UT)(e,t,!1,!1,void 0,s)),viewExperienceObject:e=>n((0,r.dy)(e))})}l(c,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},959346:(e,t,n)=>{n.d(t,{Z:()=>_});var s=n(667294),i=n(883119),o=n(133149),r=n(785893);class a extends s.Component{renderPulsar(){const{anchor:e,handleComplete:t,handlePulsarCompleteOnHover:n,zIndex:s}=this.props;return(0,r.jsx)(o.Z,{anchor:e,onTouch:t,onMouseEnter:n,zIndex:s})}renderFlyout(){const{anchor:e,tooltip:t,handleDismiss:n,handleComplete:s}=this.props;if(!t)return null;const{cancelButtonText:o,confirmButtonText:a,mainText:l,idealDirection:c="down"}=t,d=o&&n&&a&&s;return(0,r.jsx)(i.Li,{anchor:e,idealDirection:c,onDismiss:n,size:"flexible",message:l,primaryAction:{onClick:d?e=>n(e):s,text:String(d?o:a)}})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}var l=n(220590),c=n(703688),d=n(279409),u=n(716793);const p=({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null),h=e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),(0,d.Z)(u.Z,!0)(t)};function _({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:o,experience:d,isHidden:u,onCompleteClick:_,zIndex:g}){var m;const{completeExperience:x,dismissExperience:v,experiences:f,viewExperience:y}=(0,l.M)(),b=Object.values(f).reduce(((e,t)=>(8===t.type&&(e[(0,c.A0)(t)]=t),e)),{}),w=p({anchor:e,anchorExperiences:b,passedExperience:d}),S=(null==w||null===(m=w.display_data)||void 0===m?void 0:m.delay)||0,[I,P]=(0,s.useState)(!!S);if((0,s.useEffect)((()=>{if(S>0&&I){const e=setTimeout((()=>{P(!1)}));return()=>clearTimeout(e)}return()=>{}}),[S,I]),(0,s.useEffect)((()=>{!I&&w&&y(w.placement_id,w.experience_id)}),[I,w]),!w||I||u)return s.Children.only(n);const A=h(w),E=()=>{var e;null!==(e=w.display_data)&&void 0!==e&&e.complete_on_hover&&x(w.placement_id,w.experience_id)};return(0,r.jsxs)(i.xu,{position:"relative",height:null==o?void 0:o.height,display:null==o?void 0:o.display,children:[(0,r.jsx)(i.iP,{onMouseEnter:E,onTap:()=>{_&&_(),A.skipComplete||x(w.placement_id,w.experience_id)},children:s.Children.only(n)}),(0,r.jsx)(a,{anchor:t||null,handlePulsarCompleteOnHover:E,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),v(w.placement_id,w.experience_id)},pulserOnly:!!A.pulserOnly,tooltip:A.tooltip,zIndex:g})]})}},297776:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(667294),i=n(883119),o=n(33476),r=n(785893);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends s.PureComponent{constructor(...e){super(...e),a(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),a(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:s}=this.props,o=n.slice(-3);return(0,r.jsx)(i.J2,{anchor:e,color:"white",idealDirection:s,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,r.jsxs)(i.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,r.jsx)(i.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,r.jsx)(i.xv,{color:"default",weight:"bold",children:t})}),(0,r.jsx)(i.xu,{display:"flex",marginEnd:-2,paddingX:2,children:o.map((e=>(0,r.jsx)(i.xu,{height:60,width:50,paddingX:1,children:(0,r.jsx)(i.zd,{rounding:2,height:60,children:(0,r.jsx)(i.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}var c=n(133149);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends s.Component{constructor(...e){super(...e),d(this,"dismissRef",(0,s.createRef)()),d(this,"state",{paused:!1}),d(this,"dismissCb",(()=>{var e,t;null===(e=(t=this.dismissRef).current)||void 0===e||e.call(t)})),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){const{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:a,flyoutSize:d,fontSize:u,hasFullWidthButton:p=!0,idealDirection:h,useMasonryFlyout:_,noClickToDismiss:g,onClickComplete:m,onClickDismiss:x,placementId:v,positionRelativeToAnchor:f,shouldTimeoutDismiss:y,showCaret:b,textAlign:w,textOverflow:S,textOverrideFn:I,textWeight:P,customizedComplete:A,pulsarZIndex:E,advertiserId:C}=this.props,T=t||(({children:e})=>_?(0,r.jsx)(i.mh,{children:e}):e),j="blue";return(0,r.jsx)(o.Z,{eligibleIds:n,placementId:v,eligibleTypes:[8],targeting:C?{advertiserId:parseInt(C,10)}:null,children:({complete:t,dismiss:n,experience:o})=>{const{display_data:{scroll_to_dismiss:v,scroll_to_dismiss_delay_in_seconds:C=0,...k}}=o,R=v&&e,D=()=>{L(),setTimeout(n,1e3*C)},L=()=>{R&&(window.removeEventListener("scroll",D),window.removeEventListener("touchmove",D))},Z=()=>{L(),t()};if(R&&(window.addEventListener("scroll",D),window.addEventListener("touchmove",D)),this.setDefaultPulsarTooltip(k),!k.has_pulsar&&!k.has_tooltip)return Z(),null;y&&k.disappearTime&&k.disappearTime>0&&(this.timer=setTimeout((()=>(D(),null)),k.disappearTime));const O=501041===o.experience_id||505086===o.experience_id;return k.has_tooltip&&!k.has_pulsar&&(this.dismissRef.current=D,null==e||e.addEventListener("click",this.dismissCb)),(0,r.jsxs)(s.Fragment,{children:[k.has_pulsar&&(0,r.jsx)(c.Z,{anchor:e,leftOverride:O?342:void 0,onTouch:()=>this.handlePulsarClick(k.has_tooltip,Z),paused:this.state.paused,topOverride:O?-5:void 0,zIndex:E&&E.index()}),k.has_tooltip&&(!k.has_pulsar||this.state.paused)&&(k.thumbnail_urls?(0,r.jsx)(l,{anchor:e,dismiss:D,idealDirection:h||"down",text:k.text,thumbnails:k.thumbnail_urls}):(0,r.jsx)(T,{children:(0,r.jsx)(i.J2,{anchor:e,color:j,idealDirection:h||"down",onDismiss:g?()=>{}:D,positionRelativeToAnchor:!_&&f,shouldFocus:!1,showCaret:b,size:d,children:(0,r.jsxs)(i.xu,{column:12,padding:3,children:[(0,r.jsxs)(i.xv,{align:"right"===w?"end":w,color:"inverse",overflow:S,size:u,weight:P||"bold",children:[this.getText(k,a,I),k.secondary_cta_link&&(0,r.jsx)(i.xu,{display:"inlineBlock",marginStart:1,children:(0,r.jsx)(i.xv,{size:u,weight:"bold",color:"inverse",children:(0,r.jsx)(i.rU,{display:"inlineBlock",target:"blank",href:k.secondary_cta_link.url,underline:"hover",children:k.secondary_cta_link.text})})})]}),k.sub_text&&(0,r.jsx)(i.xu,{paddingY:2,children:(0,r.jsx)(i.xv,{color:"inverse",size:u,children:k.sub_text})}),(k.dismiss_button_text||k.complete_button_text)&&(0,r.jsxs)(i.xu,{display:"flex",alignItems:"center",marginTop:2,children:[k.dismiss_button_text&&(0,r.jsx)(i.xu,{marginEnd:1,column:6,children:(0,r.jsx)(i.zx,{fullWidth:p,color:j,onClick:()=>{x&&x(),D()},size:"md",text:k.dismiss_button_text})}),k.complete_button_text&&(0,r.jsx)(i.xu,{column:k.dismiss_button_text?6:12,children:A?(0,r.jsx)(i.iP,{fullHeight:!0,onTap:()=>{Z(),m&&m()},rounding:2,children:(0,r.jsx)(i.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,r.jsx)(i.xv,{color:"shopping",weight:"bold",children:k.complete_button_text})})}):(0,r.jsx)(i.kC,{justifyContent:"center",children:(0,r.jsx)(i.zx,{fullWidth:p,color:"white",href:k.complete_button_cta_url,role:k.complete_button_cta_url?"link":"button",size:"md",target:k.complete_button_cta_url?"blank":null,text:k.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),Z(),m&&m()}})})})]})]})})}))]})}})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},696508:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(667294),i=n(883119),o=n(33476),r=n(785893);class a extends s.Component{constructor(...e){var t,n,s;super(...e),s={paused:!1,showPulsar:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s}componentDidMount(){this.mountPulsar(),this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}componentWillUnmount(){clearTimeout(this.timer)}mountPulsar(){if(!this.experience)return;const{display_data:e}=this.experience;e.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){const{anchor:e}=this.props,{paused:t}=this.state;if(!e)return null;const n=e.getBoundingClientRect(),{height:s,width:o}=n,a=-(68+s/2),l=-(68-o/2);return(0,r.jsx)(i.xu,{position:"absolute",zIndex:new i.Ry(1),dangerouslySetInlineStyle:{__style:{marginTop:a,marginLeft:l,cursor:"pointer",pointerEvents:"none"}},children:(0,r.jsx)(i.o3,{paused:t})})}renderFlyout(e){const{anchor:t,flyoutSize:n,idealDirection:s}=this.props;return(0,r.jsx)(i.Li,{anchor:t,idealDirection:s||"down",onDismiss:()=>{},size:n,message:e})}render(){const{experienceIds:e,placementId:t,shouldTimeoutDismiss:n}=this.props,{showPulsar:s}=this.state;return(0,r.jsx)(o.Z,{eligibleIds:e,placementId:t,eligibleTypes:[8],children:({complete:e,dismiss:t,experience:o})=>{this.experience=o;const{display_data:a}=o;return a.has_pulsar||a.has_tooltip?(n&&a.disappearTime&&a.disappearTime>0&&(this.timer=setTimeout((()=>(t(),null)),a.disappearTime)),(0,r.jsxs)(i.xu,{zIndex:new i.Ry(10),children:[s&&this.renderPulsar(),a.has_tooltip&&(!a.has_pulsar||this.state.paused)&&this.renderFlyout(a.text)]})):(e(),null)}})}}},216702:(e,t,n)=>{n.d(t,{CF:()=>a,Tl:()=>r,dy:()=>l});var s=n(690108),i=n(527386);const o=(e,t)=>(n,o)=>r=>{if(n&&n.id){const a=s.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":a.callDelete().then((()=>{r((0,i.fO)())}));break;case"completed":a.callUpdate().then((()=>{o||r((0,i.fO)())}));break;case"viewed":a.callUpdate()}}},r=o("UserExperienceCompletedResource","completed"),a=o("UserExperienceResource","dismissed"),l=o("UserExperienceViewedResource","viewed")},133149:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(883119),i=n(667294),o=n(785893);const r=(e,t,n,s)=>({horizontalOffset:-(s/2-t/2),verticalOffset:-(n/2-e/2)});function a({anchor:e,children:t,zIndex:n,leftOverride:a,topOverride:l}){const c=(0,i.useRef)(null),[d,u]=(0,i.useState)(0),[p,h]=(0,i.useState)(0),{height:_,width:g}=e.getBoundingClientRect();(0,i.useEffect)((()=>{const{current:t}=c;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:s,verticalOffset:i}=r(_,g,e,n);u(s),h(i)}}));const m=a||d,x=l||p;return(0,o.jsx)(s.xu,{position:"absolute",zIndex:n?new s.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:m,top:x}},ref:c,children:t})}const l=function(e){const{anchor:t,leftOverride:n,onTouch:i,onMouseEnter:r,paused:l,size:c,topOverride:d,zIndex:u}=e;return t?(0,o.jsx)(a,{anchor:t,leftOverride:n,topOverride:d,zIndex:u,children:(0,o.jsx)(s.iP,{fullWidth:!1,onTap:({event:e})=>i(e),onMouseEnter:r,rounding:"circle",children:(0,o.jsx)(s.o3,{paused:l,size:c})})}):null}},359209:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),i=n(702664),o=n(442279),r=n(40660),a=n(220590),l=n(282802);const c=(0,o.P1)((e=>e.experiences),((e,t)=>t),((e,t)=>e[t])),d=(e,t)=>"function"==typeof t?t(e):t,u=(e,t={},n=!1)=>{const[o,u]=(0,s.useReducer)(d,t),{isBot:p}=(0,l.B)(),{fetchExperienceForPlacements:h,mountPlacement:_,triggerExperimentsForPlacement:g,unmountPlacement:m}=(0,a.M)();(0,s.useDebugValue)(`Placement Hook ID - ${e}`),(0,s.useEffect)((()=>{const t={...o},s=n&&null!=t&&t.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return _(e,t,s),()=>{m(e)}}),[]),(0,s.useEffect)((()=>{Object.keys(o).length>0&&h([e],p,o)}),[o]);const x=(0,i.useSelector)((t=>c(t,e))),v=(0,i.useSelector)((t=>t.experiencesMulti[e])),f=x?x.triggerable_placed_exps:[];(0,s.useEffect)((()=>{((e,t,n={})=>{r.Z.increment(`${e}.${t}`,1,n)})("experienceservice","placementHookExperimentTrigger.1",{platform:"web",placement_id:e,...f}),g(e,o)}),[JSON.stringify(f)]);return{experience:x,experiencesMulti:v,setExtraContext:u}}},621699:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(883119),i=n(785893);const o=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function r({accessibilityLabel:e,name:t,outline:n,size:r,src:a,verified:l}){return(0,i.jsx)(s.qE,{accessibilityLabel:e,name:t,outline:n,size:r,src:o(a,t)?void 0:a,verified:l})}r.displayName="Avatar";const a=r},550140:(e,t,n)=>{n.d(t,{UZ:()=>d,Vg:()=>c,ZP:()=>u});var s=n(667294),i=n(883119),o=n(549201),r=n(272109),a=n(785893);const l=2e3,c=200,d=({deviceType:e,hiding:t,visible:n})=>{const s="desktop"===e;let i=0,o=s?"translateY(200px)":"translateY(-200px)",r="opacity 0.1s ease-in-out",a="hidden";return n&&!t&&(i=1,o="translateY(0)",r="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",a="visible"),n&&t&&(o="scale(1.1)",r="opacity transform 0.2s"),{opacity:i,pointerEvents:"auto",position:"relative",marginTop:s?10:0,transform:o,transition:r,visibility:a}};function u({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:n,primaryAction:u,dismissButton:p,helperLink:h,thumbnail:_,type:g,dataTestId:m,duration:x=l,onHide:v,href:f,onClick:y,openNewPage:b,imageUrl:w}){var S;const I=(0,o.ZP)(),[P,A]=(0,s.useState)(!1),[E,C]=(0,s.useState)(!1),T=(0,s.useRef)(),j=()=>{A(!0),T.current=setTimeout(v,c)},k=()=>{T.current=setTimeout(j,x)},R=()=>{T.current&&clearTimeout(T.current)};let D;(0,r.Z)((()=>(setTimeout((()=>C(!0)),100),k(),R))),w&&(D={image:(0,a.jsx)(i.Ee,{alt:"string"==typeof n?n:`${n[0]} ${n[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:w})});const L=(0,a.jsx)(i.FN,{_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,primaryAction:u,text:n,thumbnail:null!==(S=D)&&void 0!==S?S:_,type:g,dismissButton:p,helperLink:h}),{marginTop:Z,opacity:O,pointerEvents:M,position:z,transform:B,transition:N,visibility:F}=d({deviceType:I,hiding:P,visible:E});return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transform:B,transition:N,visibility:F,pointerEvents:M}},"data-test-id":null!=m?m:"toast",onMouseEnter:R,onMouseLeave:k,opacity:O,position:z,marginTop:Z,display:"flex",children:f?(0,a.jsx)(i.iP,{role:"link",href:f,onTap:({event:e})=>null==y?void 0:y(e),target:b?"blank":null,rounding:"pill",children:L}):L})}},11724:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(3060);const i=()=>{const{hostname:e}=window.location;return e.includes("pinterdev")&&!e.includes("ads.pinterdev")?e:e.includes("ads-latest")?"latest.pinterest.com":s.Vi}},24286:(e,t,n)=>{n.d(t,{$H:()=>r,$q:()=>f,D6:()=>c,KN:()=>y,Lo:()=>i,OS:()=>h,P2:()=>m,ZZ:()=>u,g5:()=>p,jC:()=>a,lX:()=>g,nW:()=>_,oX:()=>x,qG:()=>v,tG:()=>o,yF:()=>s,yc:()=>d,yt:()=>l});const s=236,i=2*s/3,o=175,r=24,a=4,l=8,c=2,d=2,u=14,p=16,h=5,_=12,g=16,m=24,x=16,v=-1,f=(e=!1,t=!1)=>e?t?g:_:m,y=(e,t,n,s,i=u)=>{const o=e+i;return`\n@media (min-width: ${t*o}px) and (max-width: ${(n+1)*o-1}px) {\n  ${s}\n}\n`}},833122:(e,t,n)=>{n.d(t,{F:()=>l,Z:()=>a});var s=n(667294),i=n(388011),o=n(906215);const r={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function a({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:a,contextLogData:l,clientTrackingParams:c,elementType:d,impressionAuxFields:u,inImpressionExp:p,impressionType:h,impressionsFramework:_,isPaused:g,loggingId:m,objectIdStr:x,slotIndex:v,trackCarousel:f,viewData:y,viewParameter:b,viewType:w}){const{logContextEvent:S}=(0,i.v)(),I=_||o.Z,P=(0,s.useRef)(null),A=s=>{const i=r[h],o=i.idType;let p={clientTrackingParams:c,endTime:s.endTime,[o]:m,slotIndex:v,time:s.startTime,renderDuration:s.endTime-s.startTime,type:t,...u,forcedExit:"removed"===s.forcedExit?0:void 0};var _,g,I,A;"Pin"===h&&(p={...p,pinCellWidth:(null===(_=P.current)||void 0===_?void 0:_.getBoundingClientRect().width)||0,pinCellHeight:(null===(g=P.current)||void 0===g?void 0:g.getBoundingClientRect().height)||0,windowWidth:null===(I=window)||void 0===I?void 0:I.innerWidth,windowHeight:null===(A=window)||void 0===A?void 0:A.innerHeight});const E={component:a,object_id_str:x,view_type:w,view_data:y||{},view_parameter:b};if(f){if(e){var C,T,j;S({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...p,carouselDataId:Number(e.id),carouselSlotId:(null===(C=e.carousel_slots)||void 0===C?void 0:C[null!==(T=e.index)&&void 0!==T?T:0])&&Number(e.carousel_slots[null!==(j=e.index)&&void 0!==j?j:0].id),slotIndex:e.index}]},...E,aux_data:{...l}})}}else S({clientTrackingParams:c,event_type:i.eventType,...E,element:d,event_data:{[i.impressionType]:"Story"===h?p:[p]},aux_data:{closeup_navigation_type:n,...l}})},E=(0,s.useCallback)((()=>{try{P.current instanceof HTMLElement&&I.start(P.current).onExitViewport(A).setDebugId(m||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[P.current]);(0,s.useEffect)((()=>(p&&!I.inExperiment&&I.setExperimentStatus(!0),g||E(),()=>{P.current instanceof HTMLElement&&I.stop(P.current)})),[E]);const C=(0,s.useRef)(g);return(0,s.useEffect)((()=>{C.current&&!g&&E(),C.current=g}),[g,E]),P}const l=({children:e,...t})=>e({impressionTrackerRef:a(t)})},183929:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),i=n(973935),o=n(388011),r=n(906215),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class d extends s.Component{constructor(e){super(e),l(this,"trackImpression",(()=>{try{this.node=(0,i.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),l(this,"logImpression",(e=>{const{carouselData:t,closeupImpressionType:n,closeupNavigationType:s,componentType:i,contextLogData:o,elementType:r,impressionAuxFields:a,impressionType:l,loggingId:d,objectIdStr:u,slotIndex:p,trackCarousel:h,viewData:_,viewParameter:g,viewType:m,logContextEvent:x}=this.props,v=c[l],f=v.idType,y=e.forcedExit&&"removed"===e.forcedExit?0:void 0;let b={endTime:e.endTime,[f]:d,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...a,forcedExit:y};var w,S;"Pin"===l&&(b={...b,pinCellWidth:this.node.offsetWidth,pinCellHeight:this.node.offsetHeight,windowWidth:null===(w=window)||void 0===w?void 0:w.innerWidth,windowHeight:null===(S=window)||void 0===S?void 0:S.innerHeight});if(h||x({event_type:v.eventType,component:i,element:r,event_data:{[v.impressionType]:"Story"===l?b:[b]},object_id_str:u,view_type:m,view_data:_||{},view_parameter:g,aux_data:{...o,closeup_navigation_type:s}}),t&&h){const{carousel_slots:e,index:n=0,id:s}=t;x({event_type:7352,component:i,event_data:{pinCarouselSlotImpressions:[{...b,carouselDataId:Number(s),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},object_id_str:u,view_type:m,view_data:_||{},view_parameter:g,aux_data:{...o}})}})),this.impressionsFramework=e.impressionsFramework||r.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return s.Children.only(this.props.children)}}function u(e){const{logContextEvent:t}=(0,o.v)();return(0,a.jsx)(d,{...e,logContextEvent:t})}},110417:(e,t,n)=>{n.d(t,{Rq:()=>s,Vf:()=>i,jd:()=>o,oy:()=>r});const s=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,i=28,o=e=>window.innerHeight>=748&&s(e),r=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},550941:(e,t,n)=>{n.d(t,{Di:()=>p,Jl:()=>c,R:()=>d,ZP:()=>x,aU:()=>h,j2:()=>u,pN:()=>_,rL:()=>v,vW:()=>m});var s=n(883119),i=n(621699),o=n(550140),r=n(630089),a=n(739425),l=n(785893);const c=7e3,d="permanent_account_closure",u="account_deletion_email_sent",p="account_deactivated",h="unlink_successful",_="account_switch_to_settings";function g(e,t,n){return(0,l.jsx)(s.xv,{align:n||"center",children:(0,r.nk)(e,{username:(0,l.jsx)(s.xv,{inline:!0,weight:"bold",children:t})})})}function m({i18n:e,message:t,multipleAccounts:n,username:s=""}){switch(t){case d:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case u:return g(n?e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'):e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),s);case p:return g(n?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),s);case h:return g(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),s,"start");case _:return g(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),s,"start");default:return""}}function x(e,t,n=""){if(!t||!t.search)return"";const{message:s}=(0,a.mB)(t.search),i=(0,a.mB)(t.search).username||n;return m({i18n:e,message:s,multipleAccounts:"true"===(0,a.mB)(t.search).multiple_accounts,username:i})}function v({showOneToast:e,i18n:t,location:n,history:s,username:r,fullName:d,avatarUrl:u}){if(!n||!n.search)return;const p=x(t,n,r||""),{message:g}=(0,a.mB)(n.search),m=g===_||g===h;p&&(e((({hideToast:e})=>(0,l.jsx)(o.ZP,{duration:c,onHide:e,text:p,thumbnail:m?{avatar:(0,l.jsx)(i.Z,{name:d||"",src:u||"",size:"md"})}:void 0}))),s.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}},441330:(e,t,n)=>{n.d(t,{CV:()=>a.Z,Mt:()=>d,RD:()=>c,iS:()=>u,z3:()=>p});var s=n(965533),i=n(906215),o=n(121633),r=n(752977),a=n(840093),l=n(514316);const c=e=>{const t={...(0,l.rl)()};delete t[e],(0,l.r8)(t)},d=(e,t)=>{if(!(0,l.PE)()||e&&!(e.id in(0,l.rl)())){if(e.partner&&e.partner.is_linked_business&&t)return void(0,r.Z)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});(0,r.Z)(e)}},u=(e,t,n)=>{(0,a.Z)("switch_account_success",{destination_user_id:t},n),(0,s.Z)(e)},p=(e,t)=>{i.Z.resume(o.Z3),(0,a.Z)("switch_account_failure",{destination_user_id:e},t)}},752977:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(840093),i=n(514316);const o=e=>{var t;const n={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return n.fullName&&n.imageMediumUrl&&n.imageLargeUrl||(0,s.Z)("utils.incomplete_user_values"),null!==(t=e.partner)&&void 0!==t&&t.is_create?{...n,partner:{is_create:!0}}:n},r=(e,t,n)=>{(0,i.r8)({...(0,i.rl)(),[e.id]:o(e)}),t&&n&&(0,s.Z)("new_account_add_success",{method:t,user_added:e.id},n)}},840093:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(172045),i=n(514316),o=n(98736);const r="web_account_switcher",a=(e,t,n)=>{let a=(0,i.yW)();a||(a=(()=>{const e=(0,s.Z)();return(0,o.tj)(`${r}.utils.group_created`,{group_id:e,group_count:(0,i.lv)()}),e})(),(0,i.M3)(a));const l={group_count:(0,i.lv)()};let c="";n&&(c="account_switcher_modal"===n?"modal.":"flyout."),(0,o.tj)(`${r}.${c}${e}`,{...t,...l})}},279409:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(948196);function i(e,t=!1){return n=>{if(!(0,s.Z)(n))return t&&Array.isArray(n)?n.map(i(e,t)):n;const o={};return Object.keys(n).forEach((r=>{const a=e(n[r],r);(0,s.Z)(n[r])||t&&Array.isArray(n[r])?o[a]=i(e,t)(n[r]):o[a]=n[r]})),o}}function o(e,t=!1){const n=(t,n)=>e(n);return e=>i(n,t)(e)}},130971:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(690108);const i=e=>s.Z.create("UserPasswordResource",e).callUpdate({showError:!1})},950861:(e,t,n)=>{n.d(t,{Ny:()=>u,ZP:()=>h,eD:()=>g,lp:()=>_,nY:()=>m});var s=n(463310),i=n(675689),o=n(860438),r=n(837792),a=n(98736),l=n(198541),c=n(911386),d=n(619277);const u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class p{static defaultLoginRedirectUrl(){return window.location.pathname===r.lf||window.location.pathname===r.ZE||window.location.pathname.startsWith(r.rO)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(r.rO)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){const e=o.Z.getItem(d.kl);if(e&&e.indexOf("|")>-1){const t=e.split("|");return 3===t.length&&(new Date).getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){const e=o.Z.getItem(d.kl);let t=[];e&&(t=e.split("|"),3===t.length&&t.shift());const n=((new Date).getTime()/1e3).toString();t.push(n);const s=t.join("|");o.Z.setItem(d.kl,s)}static isFullyLoggedIn(e,t){return e&&t===i.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";const t=(0,c.Z)();if(t){const n=t.next;n&&(e=n,delete t.next),e=(0,l.Z)(e,t)}}(0,s.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){o.Z.setItem(d.F6,Date.now()),!t&&e&&"/"!==e?p.handleRedirect(e):p.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){const t=window.navigator.credentials;if(t&&e.username_or_email)try{const n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then((()=>{(0,a.My)("navigatorCredentials.store.success")}))}catch(n){(0,a.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,a.My)("multi_step_login"),p.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,a.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}const h=p;function _(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function g(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":_(e)}function m(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},685225:(e,t,n)=>{n.d(t,{I:()=>d,L:()=>l,Z:()=>p,getGPCSignalState:()=>u,getThirdPartyMarketingTrackingEnabledAfterGPC:()=>h,mO:()=>c,setThirdPartyMarketingTrackingEnabledAfterGPC:()=>_,w0:()=>a});var s=n(690108),i=n(970588),o=n(677180);const r=async e=>{var t;const n=(null===(t=(await(0,i.Z)({url:`/v3/ppm/advertiser_kpis/${e}/no_micro/`})).resource_response)||void 0===t?void 0:t.data)||null;return!!(n&&Object.keys(n).length>0)};async function a(e,t,n){if(!e)return;const s=t?t.toString():"",i=n?n.toString():"";(0,o.tr)(s,i);await r(e)&&(0,o.lV)(s,i)}const l=async e=>{var t;const n=(null===(t=(await(0,i.Z)({url:`/v3/ppm/advertiser_kpis/${e}/ever_spend/`})).resource_response)||void 0===t?void 0:t.data)||null;n&&Object.keys(n).length>0&&"0"===n[e]&&(0,o.eP)(e)},c=async e=>{const t=await(async e=>{var t;const n=(null===(t=(await(0,i.Z)({url:`/v3/ppm/advertiser_kpis/${e}/spend/`})).resource_response)||void 0===t?void 0:t.data)||{};return n&&Object.keys(n).length>0?n:{}})(e);t&&Object.keys(t).length>0&&(0,o.M7)(t,e)},d=async e=>{const t=await(async e=>{var t;const n=(null===(t=(await(0,i.Z)({url:`/v3/ppm/advertiser_kpis/${e}/catalog/`})).resource_response)||void 0===t?void 0:t.data)||{};return n&&Object.keys(n).length>0?n:{}})(e);t&&Object.keys(t).length>0&&(0,o.F8)(t,e)},u=async()=>{var e;return 1===((null===(e=(await s.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED"}).callGet()).resource_response)||void 0===e?void 0:e.data)||null)},p=async()=>{const e=(await s.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED",value:1}).callCreate()).resource_response;return!!(e&&Object.keys(e).length>0)},h=async()=>{var e;return 1===((null===(e=(await s.Z.create("UserStateResource",{state:"SELECTED_THIRD_PARTY_SHARING_AFTER_GPC"}).callGet()).resource_response)||void 0===e?void 0:e.data)||null)},_=async()=>{const e=(await s.Z.create("UserStateResource",{state:"SELECTED_THIRD_PARTY_SHARING_AFTER_GPC",value:1}).callCreate()).resource_response;return!!(e&&Object.keys(e).length>0)}},352182:(e,t,n)=>{n.d(t,{Z:()=>i});const s="web.com.pinterest.www";function i(e){if(window.safari&&window.safari.pushNotification&&e.isAuth)try{if("default"===window.safari.pushNotification.permission(s).permission){const t=e.push_package_user_id;window.safari.pushNotification.requestPermission("https://"+window.location.hostname+"/_/_/push",s,{uid:t},(()=>{}))}}catch(t){}}},643183:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n(497088).Z},660774:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(667294),i=n(785893);function o({searchDelightText:e,searchDelightConfig:t}){const{text_background_color:n,text_colors:s=[]}=t,o=n?{backgroundColor:n,margin:"-2px",padding:"2px"}:void 0;if(s.length>1){let t=0;return(0,i.jsx)("span",{style:{whiteSpace:"pre-wrap",...o},children:e.split("").map(((e,n)=>{const o=s[t];return" "!==e&&(t=(t+1)%s.length),(0,i.jsx)("span",{style:{color:o},children:e},`searchDelight-${n}`)}))})}return(0,i.jsx)("span",{style:{color:s[0],whiteSpace:"pre-wrap",...o},children:e},`searchDelight-${e}`)}var r=n(883119);const a=({children:e,gray:t,weight:n="normal"})=>(0,i.jsx)(r.xv,{color:t?"subtle":void 0,inline:!0,weight:n,children:(0,i.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:e})}),l=({allBold:e,searchDelightParts:t,searchDelightConfig:n,text:r,weightPivot:l})=>{const c=t[1],d=r.indexOf(c),u=d+c.length;return l<=d?(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(a,{gray:!0,weight:e?"bold":"normal",children:r.substring(0,l)}),(0,i.jsxs)(a,{weight:"bold",children:[r.substring(l,d),(0,i.jsx)(o,{searchDelightText:c,searchDelightConfig:n}),r.substring(u)]})]}):l<=u?(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(a,{gray:!0,weight:e?"bold":"normal",children:r.substring(0,d)}),(0,i.jsxs)(a,{weight:"bold",children:[(0,i.jsx)(o,{searchDelightText:c,searchDelightConfig:n}),r.substring(u)]})]}):(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(a,{gray:!0,weight:e?"bold":"normal",children:r.substring(0,d)}),(0,i.jsx)(a,{weight:"bold",children:(0,i.jsx)(o,{searchDelightText:c,searchDelightConfig:n})}),(0,i.jsx)(a,{gray:!0,weight:e?"bold":"normal",children:r.substring(u,l)}),(0,i.jsx)(a,{weight:"bold",children:r.substring(l)})]})},c=(e,t)=>t.map((t=>((e,t)=>{const n=new RegExp("\\b"+t+"\\b","i");if(!e.match(n))return null;const s=e.toLowerCase().indexOf(t.toLowerCase());return[e.slice(0,s),e.slice(s,s+t.length)]})(e,t))).filter(Boolean).sort(((e,t)=>e&&t?e[0].length-t[0].length:0)).shift();function d({allBold:e,searchDelightConfig:t,query:n="",text:o}){const r=(o.toLowerCase().startsWith(n.toLowerCase())?n:"").length,d=t?c(o,t.search_query_list):null;return d&&t?(0,i.jsx)(l,{allBold:e,searchDelightParts:d,searchDelightConfig:t,text:o,weightPivot:r}):(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(a,{gray:!0,weight:e?"bold":"normal",children:o.substr(0,r)}),(0,i.jsx)(a,{weight:"bold",children:o.substr(r)})]})}},369840:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(667294),i=n(883119),o=n(243600),r=n(536042),a=n(785893);function l({dataTestId:e,focusOptionId:t,isFocused:n,name:l,onBlur:c,onChange:d,onClick:u=(()=>{}),onFocus:p,onKeyDown:h,onSearchTrigger:_,placeholder:g,value:m,disabled:x=!1}){const v=(0,r.ZP)(),f=(0,s.useRef)(null);return(0,s.useEffect)((()=>{f.current&&_&&f.current.addEventListener("searchTrigger",_)}),[]),(0,s.useEffect)((()=>{if(!f.current)return;document.activeElement===f.current!==n&&(n?f.current.focus():f.current.blur())}),[n]),(0,a.jsxs)(i.xu,{height:"100%",flex:"grow",children:[(0,a.jsx)("input",{autoCapitalize:"off",autoCorrect:"off",autoComplete:"off","aria-activedescendant":t,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-label":v._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),"aria-expanded":n,"data-test-id":e,name:l,onBlur:c,onChange:e=>{d(e.target.value)},onClick:u,onFocus:p,onKeyDown:h,placeholder:g||v._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),ref:f,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:o.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:m,disabled:x}),(0,a.jsx)(i.xu,{display:"none",id:"searchBoxAccessibleText",children:v._('When autocomplete results are available use up and down arrows to\n                review and enter to select. Touch device users, explore by touch or\n                with swipe gestures.', 'searchBox.searchInput.accessibleText', 'Accessible text for search input')})]})}},181437:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(970588);function i({report:e,query:t,suggestions:n,type:i}){return(0,s.Z)({url:"/v3/search/suggestion/report/",method:"POST",data:{report:e,query:t,suggestions:n,type:i}})}},833603:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),i=n(690108);const o=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new o(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};const a=r,l=5,c=0;function d({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:l},s=i.Z.create(e,n),o=new a,r=()=>{s.abort()};return async function(e,t){const n=o.get(`${t}-${e}`);if(n){const{items:t}=n;if(t&&t.length){r();const{hint:s}=n;return{hint:s,items:t,term:e}}}return e.length>=c?(async(e,t)=>{var n;if(s.isCalling()){var i,a;const n=null===(i=s.options)||void 0===i?void 0:i.term,o=null===(a=s.options)||void 0===a?void 0:a.pin_scope;if(e===n&&t===o)return;r()}const{bookmarks:l,...c}=s.options||{};s.options={...c,term:e,pin_scope:t};const d=null===(n=(await s.callGet({showError:!1})).resource_response)||void 0===n?void 0:n.data,u=null==d?void 0:d.items,p=(null==d?void 0:d.hint)||{},h={hint:p,items:u};return o.set(`${t}-${e}`,h),{term:e,items:u,hint:p}})(e,t):{hint:{},items:[],term:e}}}function u({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:i}){const o=(0,s.useRef)(!1),r=(0,s.useRef)({}),[a,l]=(0,s.useState)([]),c=function({resourceName:e,resourceOptions:t}){const n=(0,s.useRef)();return n.current||(n.current=d({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n}),u=n.pin_scope||"pins",p=`${u}-${i}`;return(0,s.useEffect)((()=>{(async()=>{if(null!=i&&(e||o.current))if(p in r.current)l(r.current[p]);else try{const e=await c(i,u);if(e){const{items:t}=e;r.current[p]=t,l(t)}}catch(t){if("Resource call aborted"===t)return;throw t}o.current||(o.current=!0)})()}),[i,u,p]),a}},207732:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(845098);function i(e){const{query:t,rs:n,scope:i,guideAdded:o,filters:r,user:a}=e;if(!t)return"/";const l={q:t,rs:n};if(r&&(l.filters=r),a&&(l.user=a),o&&o.term&&(l.add_refine=`${o.term}|guide|word|${o.index}`),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,s.Z)(l)}`;let c=i;return["pins","buyable_pins","my_pins","boards","users","idea_pins"].includes(c)||(c="pins"),c?`/search/${c}/?${(0,s.Z)(l)}`:`${window.location.pathname}?${(0,s.Z)(l)}`}},118482:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(739425);function i(e){const t=(0,s.mB)(e.search)||{};let n;if(t.q){const t=e.pathname.split("/");n=t.length>2?t[2]:"pins"}if(t.q&&n){const e=Array.isArray(t.q)?t.q.join(" "):t.q,s=Array.isArray(t.rs)?"":t.rs,i=Array.isArray(t.user)?"":t.user;return{filters:t.filters||"",user:i,query:e||"",rs:s||"",scope:"pins"===n||"buyable_pins"===n||"my_pins"===n||"boards"===n||"users"===n||"videos"===n||"idea_pins"===n?n:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},511139:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(468e3),i=n(845098);function o({bubbleId:e,pinId:t,query:n,referringSource:o,storyCategory:r,storyId:a,title:l}){const c=[0,24,21,26].includes(r),d=(0,i.Z)({q:n,rs:o||void 0,b_id:e,source_id:a,top_pin_id:t}),u=c&&l?(0,s.x)({title:l,id:e,articleType:"discover"}):`/discover/article/${e}/`;return c?u:"/search/pins/"+(d?"?"+d:"")}},649715:(e,t,n)=>{function s(e){return(e||"").trim().replace(/\s+/g," ")}n.d(t,{Z:()=>s})},453972:(e,t,n)=>{n.d(t,{i:()=>s});const s={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",UNKNOWN:"unknown"}},637362:(e,t,n)=>{n.d(t,{J:()=>s,Z:()=>i});const s=-1;function i(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},402094:(e,t,n)=>{n.d(t,{Z:()=>s});const s=e=>Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")},729522:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(540975);const i=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>(0,s.Z)(i,e,t)},686473:(e,t,n)=>{n.d(t,{Z:()=>s});const s=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},540975:(e,t,n)=>{n.d(t,{Z:()=>s});const s=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},493851:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(729522),i=n(686473);const o=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,i.Z)(t[e].toString()):""})),(0,s.Z)(e,n)}},371362:(e,t,n)=>{n.d(t,{ZP:()=>r});const s=80,i="…",o=!1;function r(e,t=s,n=i,r=o){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||r)a=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);a=e.substring(0,n)}return a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),a+n}},716793:(e,t,n)=>{function s(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>s})},99220:(e,t,n)=>{n.d(t,{Z:()=>v});var s=n(667294),i=n(758360),o=n(310561),r=n(282802),a=n(114935),l=n(291986),c=n(583592);const{Provider:d,useMaybeHook:u}=(0,c.Z)("timeSpentContext");var p=n(393729),h=n(525104),_=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends s.Component{constructor(e){super(e),g(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),g(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:n,objectId:s,timeSpentContext:i,view:o,viewParameter:r}=this.props;return{view:o||i&&i.view,viewParameter:r||i&&i.viewParameter,component:t||i&&i.component,element:n,objectId:s||i&&i.objectId,clientTrackingParams:e||i&&i.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),g(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),g(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),g(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),g(this,"getTimedPair",(()=>this.state.timedPair)),g(this,"setTimedPair",(e=>this.setState({timedPair:e}))),g(this,"isRegistered",!1),g(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),g(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),g(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:n,left:s,right:i,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===s&&0===i&&0===o?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new l.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,a.Z)(e.auxData,this.props.auxData)&&(0,a.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,_.jsx)(d,{value:this.getContext(),children:(0,_.jsx)(i.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:s.Children.only(e)})})}}function x(e){var t;const n=(0,o.Hv)(),i=u(),a=(0,p.w)(),l=(0,h.H0)(),{requestIdentifier:c=""}=(0,r.B)(),d={app_instance_id:c.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,s.useEffect)((()=>{null==a||a.setHistoryStackContext(n)}),[n,a]),(0,s.useEffect)((()=>{null==a||a.setPins(null!=l?l:{})}),[l,a]),a?(0,_.jsx)(m,{...e,auxData:d,timeSpentContext:i,timeSpentManager:a,children:e.children}):e.children}x.displayName="TimeSpent";const v=x},800591:(e,t,n)=>{n.d(t,{$J:()=>s,Ct:()=>h,Dm:()=>p,Ff:()=>u,Md:()=>l,My:()=>r,Rp:()=>a,ak:()=>o,d0:()=>_,gs:()=>g,jm:()=>c,oo:()=>i,vw:()=>d});const s={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",MOBILE_SMALL:"MOBILE_SMALL",MOBILE_LARGE:"MOBILE_LARGE"},i=2,o=6,r=3,a=1.5,l=16,c=8,d=16/9,u=25,p="Includes Paid Promotion #Ad",h={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},_={TRUE:!0,FALSE:!1,UNKNOWN:void 0},g=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"]},190581:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(667294),i=n(883119),o=n(959346),r=n(536042),a=n(874261),l=n(785893);function c({color:e,completeButtonText:t,completeUrl:n,dismissButtonText:c,experienceId:d,external:u,message:p,onComplete:h,onDismiss:_}){const g=(0,r.ZP)(),m=(0,s.useRef)(null),x=({event:e})=>{h&&h(e)},v=({event:e})=>{_&&_(e)},f=p&&!t,y=500735===d,b=t&&(!n||y)&&(0,l.jsx)(i.zx,{color:"white",onClick:x,text:t}),w=t&&n&&(0,l.jsx)(o.Z,{anchor:".HomeButton2",anchorElementRef:m.current,containerBoxConfig:{display:"flex",height:"100%"},children:(0,l.jsx)(i.zx,{accessibilityLabel:t,ref:m,role:"link",href:n,onClick:({event:e})=>x({event:e}),rel:u?"nofollow":"none",size:"md",color:"white",text:t},"naglink")}),S=c&&_&&(0,l.jsx)(i.xu,{mdPaddingX:2,children:(0,l.jsx)(i.zx,{color:e&&"default"!==e?"white":"gray",onClick:v,text:c})}),I=f&&!y&&_&&!c&&(0,l.jsx)(i.hU,{accessibilityLabel:g._('Close', 'accessibility close label', 'accessibility close label'),bgColor:"lightGray",onClick:v,icon:"cancel",iconColor:"gray",size:"md"});return(0,l.jsxs)(i.xu,{display:"flex",direction:"column",smDirection:"row",color:null!=e?e:"dark",paddingY:3,paddingX:6,alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(i.xu,{column:12,smColumn:f?11:8,children:(0,l.jsxs)(i.xv,{color:"inverse",weight:y?"normal":"bold",children:[(0,l.jsx)(a.Z,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,l.jsx)("div",{className:"Banner--message",children:(0,l.jsx)("span",{dangerouslySetInnerHTML:{__html:p}})})]})}),(0,l.jsxs)(i.kC,{alignItems:"center",justifyContent:"end",children:[S,b||w,I]})]})}},713999:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(667294),i=n(883119),o=n(536042),r=n(785893);const a=new i.Ry(1e4);function l(){const[e,t]=(0,s.useState)(!1),[n,l]=(0,s.useState)(null),c=(0,o.ZP)(),d=(0,s.useCallback)((()=>{null==n||n.removeAttribute("tabindex"),null==n||n.removeEventListener("blur",d),null==n||n.removeEventListener("focusout",d)}),[n]);(0,s.useEffect)((()=>(n||l(document.querySelector('[role="main"]')),()=>{null==n||n.removeEventListener("blur",d),null==n||n.removeEventListener("focusout",d)})),[n,d]);const u=(0,r.jsx)(i.xu,{color:"primary",children:(0,r.jsx)(i.kC,{width:"100%",alignItems:"center",justifyContent:"center",height:75,children:(0,r.jsx)(i.xv,{underline:e,align:"center",color:"inverse",weight:"bold",children:c._('Skip to content', 'SkipToContent.Message', 'Skip to content accessibility feature messge ')})})});return(0,r.jsx)(i.iP,{onBlur:()=>t(!1),onFocus:()=>t(!0),onTap:()=>{null==n||n.setAttribute("tabindex","-1"),null==n||n.focus({preventScroll:!0}),null==n||n.addEventListener("blur",d),null==n||n.addEventListener("focusout",d)},children:e?(0,r.jsx)(i.xu,{"data-test-id":"skipToContentContainer",position:"fixed",width:"100%",zIndex:a,children:u}):(0,r.jsx)(i.xu,{"data-test-id":"hiddenSkipToContentContainer",height:1,width:1,margin:-1,overflow:"hidden",position:"absolute",children:u})})}},726667:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(883119),i=n(785893);const o=18;function r({accessibilityLabel:e,color:t,count:n,icon:r,iconSize:a}){const l=n<100?`${n}`:"99+";return(0,i.jsxs)(s.xu,{position:"relative",children:[(0,i.jsx)(s.JO,{accessibilityLabel:e,color:t,icon:r,size:a}),n>0&&(0,i.jsx)(s.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{right:-6-2*l.length,top:-8,padding:`0 ${3===l.length?"2px":"3px"} 0 2px`}},display:"flex",height:o,justifyContent:"center",minWidth:o,position:"absolute",rounding:"pill",children:(0,i.jsx)(s.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,i.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:l})})})]})}},286354:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(911386);const i=({url:e})=>{if(e){const t=e.split("?");if(t[1])return(0,s.Z)(t[1])}return(0,s.Z)()}},779839:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(198541),i=n(3060);function o({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:o,advertiserId:r}){const a=`${e||t||n?`${i.C0}`:""}${o}`;return r?(0,s.Z)(a,{advertiserId:r}):a}},806681:(e,t,n)=>{n.d(t,{Z:()=>r,q:()=>o});var s=n(667294);const i=()=>{const[e,t]=(0,s.useState)(!1),[n,i]=(0,s.useState)(!1),[o,r]=(0,s.useState)(!1);return{active:e,focused:n,hovered:o,onBlur:()=>{i(!1),t(!1)},onFocus:()=>i(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function o({children:e}){return e(i())}const r=i},930317:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(272109),i=n(886365);function o({children:e}){const{setAppFocusState:t}=(0,i.I)();return(0,s.Z)((()=>(t(!1),()=>{t(!0)}))),e}},62456:(e,t,n)=>{n.d(t,{By:()=>i,di:()=>r,s8:()=>o});var s=n(970588);const i=async({limit:e,sortBy:t="FULL_NAME",sortDirection:n="ASCENDING",searchBy:i="FULL_NAME",searchTerm:o="",startIndex:r=0})=>(await(0,s.Z)({url:"ads/v4/business_access/businesses/me/get_pinterest_support_businesses",data:{sort_by:t,sort_ascending:"ASCENDING"===n,search_by:i,search_value:o,start_index:r,page_size:e}})).resource_response,o=async e=>(await(0,s.Z)({url:`ads/v4/business_access/businesses/${e}/get_pinterest_support_access`})).resource_response,r=async()=>(await(0,s.Z)({url:"ads/v4/pinterest_support_managed_advertisers",data:{add_fields:"advertiser.owner_user()"}})).resource_response},68123:(e,t,n)=>{n.d(t,{A6:()=>o,AJ:()=>d,Eq:()=>p,F$:()=>i,H:()=>l,Iv:()=>I,Ix:()=>w,LN:()=>v,Mr:()=>r,NM:()=>s,Pc:()=>b,ZH:()=>x,bH:()=>h,bn:()=>m,c:()=>c,eE:()=>a,eZ:()=>f,he:()=>g,kG:()=>u,kS:()=>P,nM:()=>y,rl:()=>S,sC:()=>_});const s="/product-catalogs/",i="/business/catalogs/",o="/business/catalogs/data-sources/",r="/business/catalogs/product-groups/",a="/business/catalogs/diagnostics/",l="/business/catalogs/product-listings/",c="/business/catalogs/trends",d="/business/catalogs/:catalog_id/data-sources/feed-debugger/",u="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/",p="/business/catalogs/:catalog_id/product-groups/edit/:product_group_id/",h="/business/catalogs/:catalog_id/product-groups/create/",_="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/",g="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/alert/:event_type_id",m="/business/catalogs/:catalog_id/product-groups/:product_group_id/",x="/business/catalogs/:catalog_id/product-groups/bulk/",v="/business/catalogs/:catalog_id/data-sources/",f="/business/catalogs/:catalog_id/product-groups/",y="/business/catalogs/:catalog_id/data-sources/regions/",b=[o,v],w=[r,f],S=[a,"/business/catalogs/:catalog_id/diagnostics/"],I=[l,"/business/catalogs/:catalog_id/product-listings/"],P=[c,"/business/catalogs/:catalog_id/data-sources/:feed_profile_id/trends/"]},209660:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(68123);function i({isPartner:e,location:t}){return e&&(t.pathname.includes(s.NM)||t.pathname.includes(s.F$))}},732192:(e,t,n)=>{n.r(t),n.d(t,{RoleBasedAccessControlProvider:()=>f,useRoleBasedAccessControlContext:()=>v});var s=n(667294),i=n(583592),o=n(245410),r=n(819079),a=n(802071),l=n(771799),c=n(173085),d=n(716793);const u=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,d.Z)(n)]=e[n]:t[(0,d.Z)(n)]=u(e[n]));return t},p=(e,t)=>{const n=[];for(const o in e)o!==t&&n.push({id:o,...u(e[o])});const s=n.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),i=new Map;for(const o of s)i.set(o.id,o);return i},h={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},_=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},g=e=>{const[t,n]=(0,s.useReducer)(_,h),i=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:i,disableProfileChanger:o,headerVisible:r}=n;return{changeProfile:(0,s.useCallback)((n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})}),[t,e]),toggleORBACVisibility:(0,s.useCallback)((n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!i})}),[t,e,i]),toggleDisableProfileChanger:(0,s.useCallback)((n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!o})}),[t,e,o]),toggleHeaderVisibility:(0,s.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!r})}),[t,e,r])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:o,orbacVisibility:r}=t;(0,s.useEffect)((()=>{const e=(0,c.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,s.useEffect)((()=>{const e=(0,c.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,s.useEffect)((()=>{(0,c.Nh)("orbacVisibility",r)}),[r]),(0,s.useEffect)((()=>{(0,c.Nh)("orbacActiveProfile",o)}),[o]);return{state:t,actions:i,receiveProfiles:(0,s.useCallback)(((e,t)=>{n({type:"LOAD_PROFILES",payload:p(e,t)})}),[n])}};var m=n(785893);const{Provider:x,useMaybeHook:v}=(0,i.Z)("RoleBasedAccessControlContext"),f=({children:e})=>{const{checkExperiment:t}=(0,o.F)(),n=(0,a.Z)(),i=Boolean(n.isAuth&&n.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:d,receiveProfiles:u}=g(i),{activeProfile:p,headerVisible:h,profiles:_=[]}=c,v=_?Array.from(_.values()):[],f=(0,l.Z)(v),y=!!(n.isAuth&&v.length>0)&&f,b=n.isAuth?n.id:"",w=n.isAuth?n.username:"",{changeProfile:S,toggleORBACVisibility:I,toggleDisableProfileChanger:P,toggleHeaderVisibility:A}=d;(0,s.useEffect)((()=>{i&&("string"!=typeof f?p||S(b):S(f))}),[f,b,i,S,p]),(0,s.useEffect)((()=>{i&&(y&&!h&&A(!0),!y&&h&&A(!1))}),[A,y,i,h,_]);const{data:E}=(0,r.Z)(i?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),C=null==E?void 0:E.profiles;let T;n&&n.isAuth&&c.activeProfile===n.id?T={id:n.id,permissions:["OWNER"],user:{username:w,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:p&&c.profiles&&(T=c.profiles.get(p)),(0,s.useEffect)((()=>{C&&u(C,b)}),[u,C,b]);const j=c.profiles?Array.from(c.profiles.values()):[];return(0,m.jsx)(x,{value:{profiles:j,headerVisible:c.headerVisible,activeProfile:T,changeProfile:S,toggleORBACVisibility:I,toggleDisableProfileChanger:P,toggleHeaderVisibility:A},children:e})}},863801:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(240684),i=n(245410),o=n(802071),r=n(785893);const a=(0,s.ZP)({resolved:{},chunkName:()=>"RoleBasedAccessControlProvider",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.resolve().then(n.bind(n,732192)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 732192}},{resolveComponent:e=>e.RoleBasedAccessControlProvider}),l=({children:e})=>{const t=(0,o.Z)(),{checkExperiment:n}=(0,i.F)();return t.isAuth&&t.isPartner&&n("web_m10n_business_access_orbac_www").anyEnabled?(0,r.jsx)(a,{fallback:e,children:e}):e},c=l},329689:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(245410),i=n(732192),o=n(771799);const r=()=>{const{checkExperiment:e}=(0,s.F)(),t=(0,i.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,a=(0,o.Z)((null==t?void 0:t.profiles)||[]),{anyEnabled:l}=e("useorbacroutematcher_in_useorbacactingas");return r?l&&!a?Object.freeze({}):n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({}):Object.freeze({})}},771799:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(616550),i=n(988014),o=n(245410),r=n(802071),a=n(525104);const l=e=>{var t,n,l,c;const d=(0,s.useLocation)(),u=(0,r.Z)(),p=(0,a.S6)(),{anyEnabled:h}=(0,o.F)().checkExperiment("web_m10n_business_access_orbac_www"),_=(0,s.useRouteMatch)("/:username"),g=null==_||null===(t=_.params)||void 0===t?void 0:t.username,m=(0,s.useRouteMatch)("/pin/:id"),x=!(null==m||null===(n=m.params)||void 0===n||!n.id)&&(null===(l=p(m.params.id))||void 0===l||null===(c=l.pinner)||void 0===c?void 0:c.id);if((0,i.ej)(d))return!1;if((0,i.RU)(d))return!0;if((0,i.mY)(d))return h;const v=e.concat(u.isAuth?{user:{username:u.username},id:u.id}:{}).find((e=>{const{user:t={},id:n}=e||{},{username:s}=t;return!!(s&&g||x&&n)&&(s===g||x===n)}));return!!v&&v.id}},384722:(e,t,n)=>{n.d(t,{D3:()=>c,DX:()=>a,KY:()=>d,Ms:()=>s,N1:()=>u,_P:()=>r,lJ:()=>o,nl:()=>i,q6:()=>l});const s=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},i=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,n)=>{var s;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(s=e.advertiser)||void 0===s?void 0:s.merchant_id},a=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,l=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),c=(e,t,n)=>!!(l(e,t,n)||e&&e.isAuth&&t===e.id),d=(e,t,n)=>{const s=t&&t.owner&&t.owner.id||"";return c(e,s,n)};function u(e,t,n){const s=t?t.id:"";return c(e,s,n)}},188533:(e,t,n)=>{n.d(t,{I:()=>_,a:()=>h});var s=n(667294),i=n(616550),o=n(676650),r=n(583592),a=n(245410),l=n(802071),c=n(525138),d=n(481172),u=n(785893);const{Provider:p,useMaybeHook:h}=(0,r.Z)("PinSupportToolContext"),_=({children:e,viewerAdvertiser:t})=>{const{checkExperiment:n}=(0,a.F)(),r=(0,l.Z)(),h=r.isAuth&&r.isPartner&&n("web_m10n_pin_support_tool").anyEnabled,{state:_,actions:g}=(0,d.Z)(h),m=(0,c.Z)(),{sterling_on_steroids_ldap:x}=(0,o.u)(),{activeAdAccount:v,headerVisible:f}=_,y=r.isAuth&&!!x&&m.size>0,{changeClient:b,changeAdAccount:w,toggleHeaderVisibility:S}=g;(0,s.useEffect)((()=>{h&&(y&&!f&&r.has_mfa_enabled&&S(!0),!y&&f&&r.has_mfa_enabled&&S(!1))}),[S,y,h,f,r.has_mfa_enabled]);const I=(()=>{const{search:e}=(0,i.useLocation)();return(0,s.useMemo)((()=>new URLSearchParams(e)),[e])})(),P=I.get("managedClientId"),A=I.get("advertiserId")||(null==t?void 0:t.id);(0,s.useEffect)((()=>{P&&A?w(A,P):P&&b(P)}),[b,w,P,A]);const E=m.get((null==v?void 0:v.clientId)||""),C=((null==E?void 0:E.managedAdAccounts)||new Map).get((null==v?void 0:v.adAccountId)||""),T=[...m.values()];return(0,u.jsx)(p,{value:{managedBusinesses:T,headerVisible:_.headerVisible,activeClient:E,activeAdAccount:C,viewerAdvertiser:t,changeClient:b,changeAdAccount:w,toggleHeaderVisibility:S},children:e})}},574926:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(245410),i=n(802071),o=n(188533),r=n(785893);const a=({children:e,viewerAdvertiser:t})=>{const n=(0,i.Z)(),{checkExperiment:a}=(0,s.F)();return n.isAuth&&n.isPartner&&a("web_m10n_pin_support_tool").anyEnabled?(0,r.jsx)(o.I,{viewerAdvertiser:t,children:e}):e}},525138:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(667294),i=n(245410),o=n(802071),r=n(62456),a=n(481172);const l=()=>{const{checkExperiment:e}=(0,i.F)(),t=(0,o.Z)(),n=Boolean(t.isAuth&&t.isPartner&&e("web_m10n_pin_support_tool").anyEnabled),{state:l,receiveAdAccounts:c}=(0,a.Z)(n),{managedBusinessesMap:d,error:u,fetching:p}=l,h=Boolean(u)||d.size>0,_=(0,s.useCallback)((async()=>{var e;const t=await(0,r.di)();c(null!==(e=null==t?void 0:t.data)&&void 0!==e?e:[])}),[c]);return(0,s.useEffect)((()=>{h||p||_()}),[_,h,p]),d}},481172:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(667294),i=n(173085);const o=e=>[...e.map((e=>({id:e.business.id,ownedAndManagedAdAccounts:e.business.ad_account_count,user:e.business.pinterest_support_business,managedAdAccounts:e.advertisers.reduce(((e,t)=>e.set(t.id,t)),new Map)})))].sort((({user:{username:e}},{user:{username:t}})=>e.localeCompare(t))).map((e=>{const t=[...e.managedAdAccounts.values()].sort((({name:e},{name:t})=>e.localeCompare(t)));return e.managedAdAccounts=t.reduce(((e,t)=>e.set(t.id,t)),new Map),e})).reduce(((e,t)=>e.set(t.id,t)),new Map),r={managedBusinessesMap:new Map,headerVisible:!1,activeAdAccount:{clientId:void 0,adAccountId:void 0},fetching:!1,error:!1},a=(e,t)=>{switch(t.type){case"LOAD_AD_ACCOUNTS":return{...e,managedBusinessesMap:t.payload.managedBusinesses};case"SET_ACTIVE_CLIENT":case"SET_ACTIVE_AD_ACCOUNT":return{...e,activeAdAccount:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};default:return e}},l=e=>{const[t,n]=(0,s.useReducer)(a,r),l=(({dispatch:e,isEnabled:t,state:n})=>{const{headerVisible:i}=n;return{changeClient:(0,s.useCallback)((n=>{t&&e({type:"SET_ACTIVE_CLIENT",payload:{clientId:n,adAccountId:null}})}),[t,e]),changeAdAccount:(0,s.useCallback)(((n,s)=>{t&&e({type:"SET_ACTIVE_AD_ACCOUNT",payload:{adAccountId:n,clientId:s}})}),[t,e]),toggleHeaderVisibility:(0,s.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!i})}),[t,e,i])}})({dispatch:n,isEnabled:e,state:t}),{activeAdAccount:c}=t;(0,s.useEffect)((()=>{const e=JSON.parse((0,i.qn)("psToolAdAccount",!1));e&&n({type:"SET_ACTIVE_AD_ACCOUNT",payload:e})}),[]),(0,s.useEffect)((()=>{(0,i.Nh)("psToolAdAccount",JSON.stringify(c))}),[c]);return{state:t,actions:l,receiveAdAccounts:(0,s.useCallback)((e=>{const t=o(e);n({type:"LOAD_AD_ACCOUNTS",payload:{managedBusinesses:t}})}),[n])}}},377282:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(240684),i=n(883119),o=n(583462),r=n(536042),a=n(962466),l=n(785893);const c=(0,s.ZP)({resolved:{},chunkName:()=>"FullPageSignup",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(16458)]).then(n.bind(n,912127)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 912127}});function d(e){const t=(0,r.ZP)();return(0,l.jsx)(a.Z,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>(0,l.jsx)(i.xu,{display:"flex",justifyContent:"center",flex:"grow","data-test-id":"account-switcher-modal",children:(0,l.jsx)(c,{fallback:(0,l.jsx)(o.Z,{}),container:e.container,hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,signupFlow:{type:"login",email:e.email},isAccountSwitch:!0,signupSource:"login",customLoginTagline:e.customTaglineText||t._('Add account', 'Short text on the button that allows a user to log in to another Pinterest account', 'Short text on the button that allows a user to log in to another Pinterest account')})})})}},8915:(e,t,n)=>{n.d(t,{T:()=>c,g:()=>l});var s=n(667294),i=n(583592),o=n(377282),r=n(785893);const{Provider:a,useHook:l}=(0,i.Z)("AccountSwitcherLoginModal");function c({children:e}){const[t,n]=(0,s.useState)(!1),[i,l]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),u=(0,s.useCallback)(((e,t)=>{d(e),t&&l(t),n(!0)}),[]),p=(0,s.useMemo)((()=>({showAccountSwitcherLoginModal:u})),[u]);return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(a,{value:p,children:e}),t&&(0,r.jsx)(o.Z,{container:c,email:null!=i?i:"",onClose:()=>n(!1)})]})}},962466:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(883119),i=n(536042),o=n(874261),r=n(98736),a=n(785893);const l="\n.AccountSwitcherModal {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n",c={mask:{backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},scroller:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},modalContainer:{display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},closeButton:{backgroundColor:"Transparent",backgroundRepeat:"no-repeat",border:"none",outline:"none",overflow:"hidden",padding:"10px",position:"fixed",right:"24px",top:"24px"}};function d(e){const t=(0,i.ZP)(),n=e=>{(0,r.My)(`unauth.account_switcher_modal.${e}`)},{renderContent:d}=e;return(0,a.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:c.mask},children:[(0,a.jsx)(o.Z,{unsafeCSS:l}),(0,a.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{n("empty_space_click");const{onCloseClick:t}=e;t()},role:"dialog",style:c.scroller,children:(0,a.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:c.modalContainer,children:[d(),(0,a.jsx)("button",{"aria-label":t._('close', 'accessible label for close button', 'accessible label for close button'),onClick:()=>{n("close_button_click");const{onCloseClick:t}=e;t()},style:c.closeButton,children:(0,a.jsx)(s.JO,{accessibilityLabel:t._('close', 'accessible label for close button', 'accessible label for close button'),color:"inverse",icon:"cancel",inline:!0})})]})})]})}},515640:(e,t,n)=>{n.d(t,{N:()=>p,t:()=>g});var s=n(667294),i=n(690108),o=n(463310),r=n(980124),a=n(519677),l=n(583592),c=n(245410),d=n(785893);const{Provider:u,useHook:p}=(0,l.Z)("LinkedAccount"),h=e=>{(0,o.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},_=e=>{r.Z.reportFacebookConversion(a.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),r.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),r.Z.reportLinkedInConversion(a.Z.LINKEDIN_PARTNER_ID,a.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),r.Z.reportGoogleConversion(a.Z.GOOGLE_ADWORDS_ID,a.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e)};function g({children:e}){const[t,n]=(0,s.useState)(!1),[o,r]=(0,s.useState)([]),{checkExperiment:a}=(0,c.F)(),l=a("ppm_p_gate").anyEnabled,p=(0,s.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:s,nextUrl:o})=>{n(!0);const r={business_name:e,third_party_apps:t};return i.Z.create("BusinessOwnershipResource",r).callCreate({showError:!0}).then((()=>{s&&_(l),n(!1),h(o)})).catch((e=>(n(!1),Promise.reject({error:e}))))}),[n,l]),g=(0,s.useMemo)((()=>({createLinkedBusinessAccount:p,linkedBusinessCreationLoading:t,userAccounts:o,userAccountsRetrieved:r})),[p,t,r,o]);return(0,d.jsx)(u,{value:g,children:e})}},940784:(e,t,n)=>{n.d(t,{Z:()=>m});var s=n(702664),i=n(616550),o=n(240684),r=n(883119),a=n(282802),l=n(739425),c=n(549201),d=n(447174),u=n(820152),p=n(785893);const h=(0,o.ZP)({resolved:{},chunkName:()=>"ProPartnerHeaderDesktop",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(30381),n.e(67123)]).then(n.bind(n,74710)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 74710}}),_=(0,o.ZP)({resolved:{},chunkName:()=>"ProAdvertiserSwitcherDropdown",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(6743),n.e(14447),n.e(89980)]).then(n.bind(n,241926)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 241926}}),g=(0,o.ZP)({resolved:{},chunkName:()=>"PinSupportToolHeader",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(6743),n.e(14447),n.e(77726)]).then(n.bind(n,785679)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 785679}});function m({isBPMPage:e,isShoppingCatalogs:t,isVMPStatusPage:n,viewer:o}){const m=(0,c.ZP)(),x=(0,i.useLocation)(),{advertiser:v}=(0,a.B)(),f="desktop"===m?"DESKTOP":"MOBILE",y=(0,s.useSelector)((({experiences:e})=>e)),b=o.isAuth&&o.isPartner,w=9===(y[11]||{}).type?null:(0,p.jsx)(u.Z,{experience:y[30],nags:o.nags||[]}),S=x.search&&(0,l.mB)(x.search).advertiserId;return(0,p.jsx)(r.xu,{"data-test-id":"header-"+(b?"PartnerHeader":"Header"),children:b?t||n&&S||e?(0,p.jsxs)(r.xu,{"data-test-id":"pro-partner-header",children:[(0,p.jsx)(g,{isWwwSite:!0}),(0,p.jsx)(h,{currentSite:f,isShoppingCatalogs:t,suppressSearchBox:!0,advertiserSwitcherDropdown:v?(0,p.jsx)(_,{activeAdvertiser:v,isAdsSite:!1,isAnalyticsSite:!1,isWwwSite:!0,showCreateButton:!1,showViewAllButton:!0,userId:o.id||""}):null})]}):(0,p.jsxs)(r.xu,{"data-test-id":"pro-partner-header",children:[(0,p.jsx)(g,{}),(0,p.jsx)(h,{currentSite:f,nags:w})]}):(0,p.jsx)(d.Z,{currentSite:f,nags:w,viewer:o})})}},413533:(e,t,n)=>{n.d(t,{FT:()=>p,GW:()=>l,HW:()=>d,PX:()=>m,V3:()=>c,Wo:()=>h,XA:()=>A,bJ:()=>_,cZ:()=>S,dF:()=>w,f6:()=>P,jY:()=>E,k:()=>f,kV:()=>y,nP:()=>b,nY:()=>x,pg:()=>I,qc:()=>g,tR:()=>v});var s=n(268422),i=n(371362),o=n(837792),r=n(198541),a=n(3060);const l="/branded-pins",c={PENDING:"PENDING",APPROVED:"APPROVED",DENIED:"DENIED"},d=(u={REQUESTED:0,APPROVED:1,REJECTED:2},Object.keys(u).reduce(((e,t)=>{const n={...e};return n[t]=t,n}),{}));var u;const p=e=>{let t;switch(e){case c.PENDING:t=d.REQUESTED;break;case c.APPROVED:t=d.APPROVED;break;case c.DENIED:t=d.REJECTED;break;default:t=d.REQUESTED}return t},h={APPROVED:"APPROVED",REJECTED:"REJECTED",ERROR:"ERROR"},_=(e,t,n)=>{let s;const i={[h.APPROVED]:{icon:"workflow-status-ok",displayText:e._('Approved', 'brandedContentPinCard.footer.approvedIcon', 'Branded Pin card status text on bizhub widget'),color:"success"},[h.REJECTED]:{icon:"workflow-status-problem",displayText:e._('Denied', 'brandedContentPinCard.footer.deniedIcon', 'Branded Pin card status text on bizhub widget'),color:"error"},[h.ERROR]:{icon:"workflow-status-problem",displayText:e._('Try again', 'brandedContentPinCard.footer.errorIcon', 'Branded Pin card status text on bizhub widget'),color:"error"}};return 1===n&&(s=i.APPROVED),2===n&&(s=i.REJECTED),!0===t&&(s=i.ERROR),s},g=e=>{let t;return e===h.APPROVED?t=1:e===h.REJECTED&&(t=2),t},m=(e,t)=>(0,i.ZP)(e,t,"…",!0),x=`${a.C0}/branded-pins/`,v=(e,t)=>{const n=s.Z.create({entity:"campaign"});return e&&t?(0,r.Z)(o.au+"/advertiser/"+e+n,{pinId:t,from:"bpm"}):o.au},f={ERROR_APPROVING:"ERROR_APPROVING",ERROR_REJECTING:"ERROR_REJECTING",ERROR_DEFAULT:"ERROR_DEFAULT"},y=302,b=384,w=254,S=142,I=173,P=12,A=35,E=9},936677:(e,t,n)=>{n.d(t,{Z:()=>l,i:()=>a});var s=n(667294),i=n(583592),o=n(785893);const{Provider:r,useHook:a}=(0,i.Z)("ContentHeader");function l({children:e}){const[t,n]=(0,s.useState)(!1),i=(0,s.useMemo)((()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:n})),[t]);return(0,o.jsx)(r,{value:i,children:e})}},739782:(e,t,n)=>{n.d(t,{Z:()=>g});var s=n(667294),i=n(616550),o=n(737311),r=n(988014),a=n(245410),l=n(497088),c=n(846226),d=n(802071),u=n(209660),p=n(525104),h=n(785893);const _=(0,s.lazy)((()=>Promise.all([n.e(15071),n.e(27995)]).then(n.bind(n,427995)))),g=()=>{var e,t;const n=(0,d.Z)(),s=(0,i.useLocation)(),{checkExperiment:g}=(0,a.F)(),m=!!n.isAuth&&n.isPartner,x=(0,u.Z)({isPartner:m,location:s})||(0,r.rk)(s)||(0,r.dW)(s)||(0,r.bb)(s),v=(0,r.O7)(s)||(0,r.RU)(s)&&m,f=null===(e=(0,i.matchPath)(s.pathname,{path:"/pin/:id",exact:!0}))||void 0===e?void 0:e.params.id;let y;return!(null===(t=(0,p.S6)()(f||""))||void 0===t||!t.story_pin_data)&&(y=g("dweb_reactions_expansion_mvp_idea_video_pin").anyEnabled?172:124),(0,h.jsx)(c.Z,{id:"footer",children:(0,h.jsx)(o.Z,{name:"SafeSuspense_DesktopApp_Footer",children:(0,h.jsx)(l.Z,{children:(0,h.jsx)(_,{hideQuestionMarkButton:x,isPartner:m,liftFooterButtonByPx:y,showInsiteFeedback:v})})})})}},475190:(e,t,n)=>{n.d(t,{HW:()=>r,YW:()=>u,i3:()=>p,o2:()=>d});var s=n(667294),i=n(583592),o=n(785893);const r=660,a={educationId:null,paddingRight:0,zIndex:r};function l(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:n}=t.payload;return{...e,educationId:n};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:s}=t.payload;return{...e,paddingRight:s};case"FOOTER_SET_Z_INDEX":const{zIndex:i}=t.payload;return{...e,zIndex:i};default:return e}}const{Provider:c,Consumer:d,useHook:u}=(0,i.Z)("footerContext");function p({children:e}){const[t,n]=(0,s.useReducer)(l,a),i=(0,s.useCallback)((e=>n({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})),[]),r=(0,s.useCallback)((e=>n({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})),[]),d=(0,s.useCallback)((e=>n({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})),[]),u=(0,s.useMemo)((()=>({...t,setEducationId:r,setPaddingRight:i,setZIndex:d})),[t,r,i,d]);return(0,o.jsx)(c,{value:u,children:e})}},162664:(e,t,n)=>{n.d(t,{c:()=>i,t:()=>o});var s=n(435399);function i({children:e}){const{height:t}=(0,s.J)();return e(t)}function o(){const{height:e}=(0,s.J)();return e}},435399:(e,t,n)=>{n.d(t,{J:()=>c,Z:()=>h});var s=n(667294),i=n(583592),o=n(515640),r=n(589665),a=n(785893);const{Provider:l,useHook:c}=(0,i.Z)("Header"),d={childList:!0,attributes:!0,subtree:!0},u={height:r.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function p(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function h({children:e}){const t=(0,s.useRef)(null),[{height:n,isInBiznuxFullscreen:i,repinPinId:c,repinStartAnimation:h,showAccountMenuFlyout:_},g]=(0,s.useReducer)(p,u);(0,s.useEffect)((()=>{const e=document.getElementById(r.WZ),n=()=>{e&&g({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(n),t.current.observe(e,d)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const m=(0,s.useMemo)((()=>({height:n,isInBiznuxFullscreen:i,repinPinId:c,repinStartAnimation:h,showAccountMenuFlyout:_,updateHeaderState:g})),[g,n,i,c,h,_]);return(0,a.jsx)(l,{value:m,children:(0,a.jsx)(o.t,{children:e})})}},447174:(e,t,n)=>{n.d(t,{Z:()=>ce});var s=n(667294),i=n(616550),o=n(23279),r=n.n(o),a=n(883119),l=n(95385),c=n(340906),d=n(824433),u=n(297776),p=n(949137),h=n(536042),_=n(988014),g=n(365661),m=n(245410),x=n(282802),v=n(806685),f=n(98736),y=n(739425),b=n(515640),w=n(527136),S=n(388011),I=n(33476),P=n(563962),A=n(959346),E=n(624799),C=n(354428),T=n(599551),j=n(806681),k=n(785893);const R=48,D=60,L=505586,Z=1000109;function O(e,t,n){return e||t?"selected":n?"secondary":void 0}const M=({anchorElementRef:e,children:t,url:n})=>"/"===n?(0,k.jsx)(A.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,z=({children:e,role:t,url:n,contextData:i,onClick:o})=>{const r=(0,P.Z)(),l=(0,T.Z)({href:n||"",onHistoryChange:C.Jd}),c=(0,s.useRef)(null),{onBlur:d,onFocus:u,onMouseDown:p,onMouseEnter:h,onMouseLeave:_,onMouseUp:g}=(0,j.Z)(),m=e=>{if(i){const{event:e,component:t,element:n}=i;r({component:t,element:n,event_type:e})}o&&o(e)};return"link"===t?(0,k.jsx)(a.iP,{href:n||"",onBlur:d,onFocus:u,onMouseDown:p,onMouseEnter:h,onMouseLeave:_,onMouseUp:g,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),m(e),n&&l({event:e})},ref:c,role:"link",rounding:6,children:e}):(0,k.jsx)(a.iP,{onBlur:d,onFocus:u,onMouseDown:p,onMouseEnter:h,onMouseLeave:_,onMouseUp:g,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),m(e),n&&l({event:e})},ref:c,role:"button",rounding:6,children:e})};function B({contextData:e,exploreTabExperience:t=!1,iconEnd:n,isSelected:i,onClick:o=(()=>{}),role:r="link",showNotifBadge:l=!1,text:c,url:d}){const u=(0,h.ZP)(),p=(0,s.useRef)(null),{active:_,hovered:g}=(0,j.Z)(),m=(0,E.Z)(Z),x=()=>l&&(0,k.jsx)(a.xu,{"aria-label":u._('Notifications', 'header.headerTab.notifBadge', 'accessibility label for icon indicating the header tab has notifications'),color:"primary",height:6,marginStart:1,marginTop:-2,rounding:"circle",width:6});return(0,k.jsx)(a.xu,{flex:"none",height:R,minWidth:D,rounding:6,children:(0,k.jsx)(M,{url:d||"",anchorElementRef:p,children:(0,k.jsx)(z,{contextData:e,onClick:e=>{o(e),l&&m.completeExperience(Z,L)},role:r,url:d,children:(0,k.jsx)(a.xu,{color:O(i,_,g),dangerouslySetInlineStyle:{__style:{backgroundColor:_&&!i?"#D2D2D2":void 0,whiteSpace:"nowrap"}},flex:"none",height:R,minWidth:D,rounding:6,paddingX:4,children:(0,k.jsxs)(a.kC,{height:"100%",justifyContent:"center",alignItems:"center",children:[(0,k.jsx)(a.xv,{align:"center",color:i?"inverse":"default",inline:!0,overflow:"normal",weight:"bold",children:c}),n&&(0,k.jsx)(a.xu,{marginStart:2,children:(0,k.jsx)(a.JO,{icon:n,accessibilityLabel:"",color:i?"inverse":"default",size:12})}),t?(0,k.jsx)(I.Z,{eligibleIds:[L],placementId:Z,children:(0,k.jsx)(x,{})}):(0,k.jsx)(x,{})]})})})})})}const N=({isSelected:e})=>{const t=(0,h.ZP)(),{logContextEvent:n}=(0,S.v)(),o=(0,c.Z)(!0),r=(0,s.useRef)(null),d=(0,s.useRef)(null),[u,p]=(0,s.useState)(!1),_=(0,i.useHistory)(),g=e=>{n({event_type:101,component:13988,element:e}),p(!1)};return(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(a.xu,{ref:r,"data-test-id":"addPinButton",children:(0,k.jsx)(B,{contextData:{event:101,component:8,element:12969},onClick:e=>{o?(n({event_type:101,component:13988,element:10949}),e.preventDefault(),_.push({pathname:(0,l.Z)(o),state:{entry_type:"navbar_plus_button"}})):p((e=>!e))},isSelected:e,text:t._('Create', 'header.section.createTab', 'visual label for Create tab button in nav bar'),role:o?"link":"button",iconEnd:o?void 0:"arrow-down"})}),r&&(0,k.jsx)(I.Z,{eligibleIds:[504669],placementId:1000109,eligibleTypes:[8],children:({complete:e,dismiss:t,experience:n})=>{const{display_data:s}=n;return d.current={complete:e},null!=s&&s.disappear_time&&setTimeout((()=>{t()}),s.disappear_time),(0,k.jsx)(a.xu,{zIndex:new a.Ry(10),children:(0,k.jsx)(a.Li,{anchor:r.current,idealDirection:"down",onDismiss:()=>{},accessibilityLabel:"PopoverEducational",message:null==s?void 0:s.text})})}}),u&&(0,k.jsxs)(a.Lt,{anchor:r.current,idealDirection:"down",onDismiss:()=>{p(!1)},zIndex:new a.Ry(1e3),id:"header-create-dropdown",children:[(0,k.jsx)(a.Lt.Link,{dataTestId:"create-idea-pin",href:"/idea-pin-builder/",onClick:()=>g(10949),option:{value:"ideaPin",label:t._('Create Idea Pin', 'header.headerCreateMenu.ideaPinBtn', 'Create Idea Pin button')}}),(0,k.jsx)(a.Lt.Link,{dataTestId:"create-static-pin",href:"/pin-builder/",onClick:()=>g(10643),option:{value:"pin",label:t._('Create Pin', 'header.headerCreateMenu.pinBtn', 'Create Pin button')}})]})]})};var F=n(420711),H=n(981209),U=n(846226),q=n(589665);function G(e,t){return e?"dark":t?"secondary":void 0}function V({tabs:e}){var t;const n=(0,h.ZP)(),[i,o]=(0,s.useState)(!1),{hovered:r,onMouseEnter:l,onMouseLeave:c}=(0,j.Z)(),d=(0,s.useRef)();let u=e.find((e=>e.isSelected));u||(u=e.find((e=>"home"===e.key)));const p=()=>o(!1);return(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(a.xu,{color:G(i,r),flex:"none",display:"inlineBlock",height:48,minWidth:60,onMouseEnter:l,onMouseLeave:c,ref:d,rounding:6,marginStart:2,children:(0,k.jsx)(a.iP,{fullHeight:!0,onTap:()=>o(!i),rounding:6,children:(0,k.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"14px 14px",whiteSpace:"nowrap"}},display:"flex",flex:"none",justifyContent:"center",children:[(0,k.jsx)(a.xv,{align:"center",color:i?"inverse":"default",overflow:"normal",weight:"bold",children:null===(t=u)||void 0===t?void 0:t.text}),(0,k.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"1px"}},marginStart:2,children:(0,k.jsx)(a.JO,{accessibilityLabel:n._('Open tab menu', 'header.tabMenu.downArrow', 'accessibility label for icon indicating more tabs are available in a menu'),color:i?"inverse":"default",icon:"arrow-down",size:12})})]})})}),i&&(0,k.jsx)(U.Z,{id:"HeaderCollapsedTabsMenu",children:(0,k.jsx)(a.Lt,{anchor:d.current,id:"HeaderCollapsedTabsMenu",onDismiss:p,zIndex:new a.H3([new a.Ry(q.fe)]),children:e.map((({isSelected:e,key:t,text:s,url:i})=>(0,k.jsx)(a.Lt.Link,{href:i,option:{value:t,label:s},onClick:p,children:(0,k.jsxs)(a.kC,{alignItems:"center",width:"100%",children:[(0,k.jsx)(a.kC.Item,{flex:"grow",children:(0,k.jsx)(a.xv,{weight:"bold",children:s})}),(0,k.jsx)(a.JO,{accessibilityLabel:n._('Selected option', 'flyoutMenu.selectedOptionCheckmark', 'Accessibility label for checkmark icon indicating which option is currently selected'),color:"default",icon:e?"check":void 0,inline:!0})]})},t)))})})]})}var W=n(934211),$=n(3060),Y=n(802071);function K({headerIconExperience:e,isWwwSite:t=!0,onClick:n,url:i}){const o=(0,h.ZP)(),r=(0,Y.Z)(),l=(0,P.Z)(),[c,d]=(0,s.useState)(null),u=()=>{l({component:8,element:244,event_type:101}),n&&n()};let p=t?"/":$.C0;r.partner&&(p=t?"/":$.Ag);const _=t&&i?i:p;return(0,k.jsx)(A.Z,{anchor:".pinLogo",anchorElementRef:c,experience:e,onCompleteClick:u,children:(0,k.jsx)(a.hU,{role:"link",accessibilityLabel:o._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),href:_,iconColor:"brandPrimary",icon:"pinterest",onClick:u,padding:3,ref:e=>{null===e||c||d(e)},size:"xl",tabIndex:-1})})}var X=n(819079);function J({children:e,isSelected:t}){const{isLoaded:n,data:s}=(0,X.Z)({name:"HomefeedBadgingResource",noCache:!0});return e(Boolean(n&&s)&&!t)}function Q({anchor:e}){const t=(0,h.ZP)();return(0,k.jsx)(a.Li,{anchor:e,idealDirection:"down",onDismiss:()=>{},message:t._('Your home feed will show ideas for your new interests', 'Flyout message on Pinterest logo on Header', 'Flyout message on Pinterest logo on Header')})}var ee=n(246553),te=n(380751),ne=n(877388),se=n(578369);function ie({isSelected:e}){const t=(0,h.ZP)(),{anyEnabled:n}=(0,m.F)().checkExperiment("dweb_search_landing_page_refinements");(0,ne.Z)({component:8,element:11674});const s=n?t._('Explore', 'header.section.exploreTab', 'visual label for Explore tab button in nav bar'):t._('Today', 'header.section.todayTab', 'visual label for Today tab button in nav bar');return(0,k.jsx)(B,{contextData:{event:101,component:8,element:11674},exploreTabExperience:n,isSelected:e,showNotifBadge:n,text:s,url:(0,se.tG)()})}var oe=n(672632),re=(n(820152),n(55921));function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class le extends s.Component{constructor(e){super(e),ae(this,"mounted",!1),ae(this,"iconRoutes",{bag:"shop_pins",explore:"discover",home:"/",profile:this.props.viewer.username,search:"search",today:"today",create:"idea-pin-builder"}),ae(this,"logoButtonRef",(0,s.createRef)()),ae(this,"profileRef",(0,s.createRef)()),ae(this,"getCollapsedTabList",(()=>[{key:"home",text:this.props.i18n._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),url:"/"},...this.props.isTodayTabEligible?[{key:"today",text:this.props.i18n._('Today', 'header.section.todayTab', 'visual label for Today tab button in nav bar'),url:(0,se.tG)()}]:[],{key:"create",text:this.props.i18n._('Create', 'header.section.createTab', 'visual label for Create tab button in nav bar'),url:(0,l.Z)(this.props.isIdeaPinRenamingEnabled)}])),ae(this,"getSubpage",(e=>{if("/"===e||""===e)return"home";const t=e.split("/",2)[1];if(t&&this.iconRoutes)for(const n of Object.keys(this.iconRoutes))if(t===this.iconRoutes[n])return n;return null})),ae(this,"handleResize",r()((()=>{if(this.mounted){var e;const t=(null===(e=document.getElementById("searchBoxContainer"))||void 0===e?void 0:e.offsetWidth)||0;this.setState({searchIconOnly:t<=300}),window.innerWidth<850&&this.props.requestContext?this.setState({shrinkSearchbox:!0}):this.state.shrinkSearchbox&&this.setState({searchIconOnly:!1,shrinkSearchbox:!1})}}),100)),ae(this,"fetchUserAccounts",(()=>{const{userAccountsRetrieved:e,viewer:t}=this.props;(0,g.dD)(t).then((t=>{e(t)}))})),this.state={headerIconExperience:null,searchIconOnly:!1,selected:this.getSubpage(e.location.pathname),showLeftTabs:!0,showToolTip:!1,shrinkSearchbox:!1}}componentDidMount(){const{headerButtonContext:e}=this.props;this.mounted=!0,this.fetchUserAccounts(),this.handleResize(),window.addEventListener("resize",this.handleResize),(0,s.startTransition)((()=>{e.setLogoButtonRef(this.logoButtonRef.current)}))}componentDidUpdate(e){const{location:t,showToolTipExp:n}=this.props;if(e.location.pathname!==t.pathname){const e=this.getSubpage(t.pathname);this.setState({selected:e})}e.showToolTipExp!==n&&(this.state.showToolTip||this.setState({showToolTip:!0}))}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.mounted=!1}renderButtons(){const{currentSite:e,headerButtonContext:t,history:n}=this.props,{headerIconExperience:i,selected:o,searchIconOnly:r,showLeftTabs:l,showToolTip:c,shrinkSearchbox:d}=this.state;return(0,k.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,k.jsxs)(a.xu,{children:[(0,k.jsx)(a.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,k.jsx)(K,{headerIconExperience:i},"HomeButton")}),c&&(0,k.jsx)(u.default,{experienceIds:[500613],placementId:19,anchor:this.logoButtonRef.current,shouldTimeoutDismiss:!0,noClickToDismiss:!0}),t.isTooltipOnLogoButtonShown&&(0,k.jsx)(Q,{anchor:this.logoButtonRef.current})]}),!d&&l&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(J,{isSelected:"home"===o,children:e=>(0,k.jsx)(B,{isSelected:"home"===o,showNotifBadge:e,text:this.props.i18n._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),url:"/"})}),this.props.isTodayTabEligible&&(0,k.jsx)(ie,{isSelected:"today"===o}),(0,k.jsx)(N,{isSelected:"create"===o})]}),d&&l&&(0,k.jsx)(V,{tabs:this.getCollapsedTabList().map((e=>({isSelected:o===e.key,...e})))}),n.push&&(0,k.jsx)(w.Z,{handleIconOnlyChange:e=>this.setState({showLeftTabs:r&&e}),iconOnly:r,widthType:d?"shrink":void 0}),(0,k.jsxs)(a.xu,{display:"flex",alignItems:"center","data-test-id":"button-container",children:[(0,k.jsx)(te.F,{value:{currentSite:e},children:(0,k.jsx)(oe.Z,{})}),(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(a.xu,{ref:this.profileRef,children:(0,k.jsx)(ee.Z,{children:(0,k.jsx)(F.Z,{isSelected:"profile"===o})})}),(0,k.jsx)(p.Z,{currentSite:e})]})]})]})}renderHomeButtonAndAccountSwitcher(){const{currentSite:e,headerButtonContext:t}=this.props,{headerIconExperience:n,selected:i,showToolTip:o}=this.state;return(0,k.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,k.jsxs)(a.xu,{children:[(0,k.jsx)(a.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,k.jsx)(K,{headerIconExperience:n},"HomeButton")}),o&&(0,k.jsx)(u.default,{experienceIds:[500613],placementId:19,anchor:this.logoButtonRef.current,shouldTimeoutDismiss:!0,noClickToDismiss:!0}),t.isTooltipOnLogoButtonShown&&(0,k.jsx)(Q,{anchor:this.logoButtonRef.current})]}),(0,k.jsx)(a.xu,{flex:"grow"}),(0,k.jsx)(a.xu,{display:"flex",alignItems:"center","data-test-id":"button-container",children:(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(a.xu,{ref:this.profileRef,children:(0,k.jsx)(ee.Z,{children:(0,k.jsx)(F.Z,{isSelected:"profile"===i})})}),(0,k.jsx)(p.Z,{currentSite:e})]})})]})}renderUnsubscribePageHeader(){const{headerIconExperience:e}=this.state,{history:t,i18n:n}=this.props;return(0,k.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,k.jsx)(a.xu,{children:(0,k.jsx)(K,{headerIconExperience:e},"HomeButton")}),(0,k.jsx)(a.xu,{flex:"grow"}),(0,k.jsx)(a.xu,{display:"flex",alignItems:"center","data-test-id":"button-container",children:(0,k.jsx)(a.iP,{tapStyle:"compress",rounding:2,onTap:()=>{t.push("/"),(0,f.My)("web.unsubscribe_page.back_to_pinterest.click")},children:(0,k.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,k.jsx)(a.xv,{inline:!0,weight:"bold",size:"300",children:n._('Back to Pinterest', 'header.backToPinterest.section', 'Button that allows one-click going back to Pinterest homefeed from email unsubscribe page')}),(0,k.jsx)(F.Z,{isSelected:!1,noNavigation:!0})]})})})]})}renderHeaderContent(){const{location:e,viewer:t}=this.props;if((0,_.RU)(e)){const t=(0,y.mB)(e.search);if((0,d.Z)(t))return this.renderHomeButtonAndAccountSwitcher()}else if((0,_.OK)(e)&&t.isLimitedLogin)return this.renderUnsubscribePageHeader();return this.renderButtons()}render(){const{headerShadowContext:{isScrolled:e,subheaderShadow:t},nags:n}=this.props;return(0,k.jsxs)(a.xu,{color:"default",column:12,"data-test-id":"header-background",children:[n,(0,k.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{...null===t&&e?q.Rz:{}}},children:(0,k.jsx)(a.kC,{direction:"column",height:q.cI,justifyContent:"start",width:"100%",children:(0,k.jsx)(a.xu,{alignItems:"center",column:12,display:"flex",flex:"grow",paddingX:4,paddingY:1,children:this.renderHeaderContent()})})})]})}}function ce(e){var t;const n=(0,h.ZP)(),s=(0,re.X2)(),o=(0,x.B)(),{checkExperiment:r}=(0,m.F)(),{userAccountsRetrieved:a}=(0,b.N)();r("community_engagement_holdout_2023_h1"),r("community_engagement_holdout_2023_h2"),r("social_growth_holdout_2022_h2"),r("social_growth_holdout_2023_h1"),r("social_growth_holdout_2023_h2");const l=(0,c.Z)(!0),d=(0,v.bl)(),u=s&&Object.keys(s).map((e=>s[e])).filter((e=>e.showTooltip)).length>0;return(0,k.jsx)(le,{...e,headerButtonContext:(0,H.p)(),headerShadowContext:(0,W.WQ)(),history:(0,i.useHistory)(),i18n:n,isIdeaPinRenamingEnabled:l,isTodayTabEligible:d,location:(0,i.useLocation)(),requestContext:o,showPersonalBoutique:null!==(t=e.viewer.show_personal_boutique)&&void 0!==t&&t,showToolTipExp:u,userAccountsRetrieved:a})}},420711:(e,t,n)=>{n.d(t,{Z:()=>y});var s=n(667294),i=n(883119),o=n(621699),r=n(536042),a=n(354428),l=n(599551),c=n(282802),d=n(846226),u=n(779839),p=n(806681),h=n(802071),_=n(435399),g=n(589665),m=n(785893);const x=48,v=30;function f({children:e,show:t,text:n}){return t?(0,m.jsx)(i.u,{accessibilityLabel:"",text:n,zIndex:new i.H3([new i.Ry(g.fe)]),children:e}):e}function y({isAdsSite:e=!1,isAnalyticsSite:t=!1,isTrendsSite:n=!1,isSelected:g,noNavigation:y=!1}){const b=(0,h.Z)(),w=(0,c.B)(),S=(0,r.ZP)(),{active:I,hovered:P,onBlur:A,onFocus:E,onMouseDown:C,onMouseUp:T,onMouseEnter:j,onMouseLeave:k}=(0,p.Z)(),{fullName:R,username:D,imageMediumUrl:L}=b.isAuth?b:{fullName:"",username:"",imageMediumUrl:""},{isInBiznuxFullscreen:Z}=(0,_.J)(),O=(0,s.useRef)(null),M=(0,u.Z)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:`/${D}/`,requestContext:w}),z=(0,l.Z)({href:M,onHistoryChange:a.Jd});return Z||y?(0,m.jsx)(i.xu,{height:x,rounding:"circle",width:x,"data-test-id":"header-profile",children:(0,m.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,m.jsx)(i.xu,{alignItems:"center",display:"flex",height:v,justifyContent:"center",rounding:"circle",width:v,children:(0,m.jsx)(o.Z,{name:R,size:"xs",src:L})})})}):(0,m.jsx)(d.Z,{id:"header-profile",children:(0,m.jsx)(f,{show:![e,t,n].some(Boolean),text:S._('Your profile', 'navbar.avatarButton.tooltip', 'Tooltip text for button leading to user\'s profile'),children:(0,m.jsx)(i.iP,{href:M,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),z({event:e})},role:"link",rounding:"circle",children:(0,m.jsx)(i.xu,{color:P?"secondary":void 0,height:x,onBlur:A,onFocus:E,onMouseDown:C,onMouseUp:T,onMouseEnter:j,onMouseLeave:k,rounding:"circle",ref:O,width:x,children:(0,m.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,m.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...I||g?{border:"2px solid #111111"}:{}}},display:"flex",height:v,justifyContent:"center",rounding:"circle",width:v,children:(0,m.jsx)(o.Z,{name:R,size:"xs",src:L})})})})})})})}},981209:(e,t,n)=>{n.d(t,{e:()=>i,p:()=>o});var s=n(583592);const{Provider:i,useHook:o}=(0,s.Z)("headerButtonContext")},591304:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(667294),i=n(981209),o=n(785893);function r({children:e}){const[t,n]=(0,s.useState)(null),[r,a]=(0,s.useState)(!1),l=(0,s.useMemo)((()=>({logoButtonRef:t,setLogoButtonRef:n,isTooltipOnLogoButtonShown:r,toggleTooltipOnLogoButton:a})),[t,r]);return(0,o.jsx)(i.e,{value:l,children:e})}},589665:(e,t,n)=>{n.d(t,{L1:()=>o,Rz:()=>l,WZ:()=>r,cI:()=>i,fe:()=>a,hu:()=>s});const s=64,i=80,o=22,r="HeaderContent",a=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},151757:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(667294),i=n(883119),o=n(388011),r=n(959346),a=n(785893);const l=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,a.jsx)(r.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,c=({accessibilityLabel:e,compactMode:t,icon:n,rightIcon:r,selected:c,text:d,type:u="link",url:p,contextData:h,onClick:_})=>{const{logContextEvent:g}=(0,o.v)(),[m,x]=(0,s.useState)("transparent"),v=(0,s.useRef)(null),f=()=>{x("secondary")},y=()=>{x("transparent")},b=()=>{x("transparent")},w=()=>{x("secondary")},S=e=>{if(h){const{event:e,component:t,element:n}=h;g({event_type:e,component:t,element:n})}_&&_(e)};let I=(0,a.jsx)(i.iP,{accessibilityLabel:e,onTap:({event:e})=>S(e),rounding:"circle",onMouseEnter:f,onMouseLeave:y,onFocus:w,onBlur:b,children:(0,a.jsx)(i.xu,{rounding:"circle",height:48,width:48,color:m,display:"flex",alignItems:"center",justifyContent:"center",children:n})});if(r||"link"!==u||!p||t){if("link"===u&&(t&&n||r)){let s="pill";const o="200";let l,u;s=n||r?d&&!t?"pill":"circle":"pill",n&&(l=n),r&&(u=r);const h=d instanceof Object?d:(0,a.jsx)(i.xv,{color:c?"default":"subtle",overflow:"normal",size:o,weight:"bold",children:d});I=(0,a.jsx)(i.iP,{role:"link",href:p||"",accessibilityLabel:e,onTap:({event:e})=>S(e),rounding:s,onMouseEnter:f,onMouseLeave:y,onFocus:w,onBlur:b,children:(0,a.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[l,!!d&&!t&&(0,a.jsx)(i.xu,{paddingX:2,children:h}),u]})})}}else I=(0,a.jsx)(l,{experienceAnchor:"/"===p?".HomeButton2":"",anchorElementRef:v,children:(0,a.jsx)(i.iP,{role:"link",href:p,accessibilityLabel:e,onTap:({event:e})=>S(e),rounding:"pill",ref:v,onMouseEnter:f,onMouseLeave:y,onFocus:w,onBlur:b,children:(0,a.jsx)(i.xu,{paddingX:4,paddingY:4,rounding:"pill",color:m,children:(0,a.jsx)(i.xv,{color:c?"default":"subtle",overflow:"normal",weight:"bold",children:d})})})});return(0,a.jsx)(i.xu,{position:"relative",children:I})}},934211:(e,t,n)=>{n.d(t,{Hv:()=>d,WQ:()=>c});var s=n(667294),i=n(583592),o=n(223654),r=n(785893);const a=50,{Provider:l,useHook:c}=(0,i.Z)("HeaderShadow");function d({children:e}){const[t,n]=(0,s.useState)(!1),[i,c]=(0,s.useState)(0),[d,u]=(0,s.useState)(null);return(0,s.useEffect)((()=>{const e=(0,o.Z)((()=>{n(window.scrollY>0),c(window.scrollY)}),a);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,r.jsx)(l,{value:{currentScrollPosition:i,isScrolled:t,setSubheaderShadow:u,subheaderShadow:d},children:e})}},246553:(e,t,n)=>{n.d(t,{Z:()=>m});var s=n(667294),i=n(883119),o=n(874261),r=n(435399),a=n(525104),l=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d="SavePin",u={__style:{left:"50%",marginLeft:-125}},p={__style:{animationName:`${d}_AnimateIn, ${d}_CircleAnimateOut`,animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},h={__style:{animationName:`${d}_AnimateIn, ${d}_AnimateOut`,animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},_={__style:{animationName:`${d}_NavButtonAnimation`,animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}};class g extends s.Component{constructor(...e){super(...e),c(this,"state",{imageLoaded:!1}),c(this,"handleAnimationCompletion",(()=>{const{animationEnded:e}=this.props;this.setState({imageLoaded:!1},(()=>{e()}))})),c(this,"handleImageLoad",(()=>{this.setState({imageLoaded:!0})})),c(this,"loadImage",(()=>{const e=new Image;e.onload=this.handleImageLoad,e.src=this.imageSrc()})),c(this,"imageSrc",(()=>{var e,t;const{images:n={}}=this.props.lastRepin||{};return null!==(e=null===(t=n["236x"])||void 0===t?void 0:t.url)&&void 0!==e?e:""})),c(this,"shouldRenderAnimation",(()=>{const{lastRepin:e,startAnimation:t}=this.props,{imageLoaded:n}=this.state;return Boolean(e&&n&&t)}))}componentDidUpdate(e,t){const{lastRepin:n={}}=e,{imageLoaded:s}=t,{lastRepin:i,startAnimation:o}=this.props,{imageLoaded:r}=this.state;i&&i.id!==(null==n?void 0:n.id)&&this.loadImage(),o&&r&&r!==s&&(this.dismissTimeout=setTimeout(this.handleAnimationCompletion,2500))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}render(){const{children:e}=this.props;return this.shouldRenderAnimation()?(0,l.jsxs)(i.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(o.Z,{unsafeCSS:`\n@keyframes ${d}_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes ${d}_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes ${d}_AnimateOut {\n  from {\n    transform: translateY(0) scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(-100px) scale(0.0);\n    opacity: 0;\n  }\n}\n@keyframes ${d}_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n`}),(0,l.jsxs)(i.xu,{position:"relative",children:[(0,l.jsxs)(i.xu,{width:250,height:250,position:"absolute",top:!0,dangerouslySetInlineStyle:u,children:[(0,l.jsx)(i.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:p}),(0,l.jsx)(i.xu,{width:100,height:100,position:"absolute",left:!0,right:!0,top:!0,bottom:!0,margin:"auto",opacity:0,rounding:3,dangerouslySetInlineStyle:h,children:(0,l.jsx)(i.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,l.jsx)(i.Ee,{alt:"pin-image",fit:"cover",naturalHeight:1,naturalWidth:1,src:this.imageSrc()})})})]}),(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:_,children:e})]})]}):e}}function m(e){const{repinPinId:t,repinStartAnimation:n,updateHeaderState:s}=(0,r.J)(),i=(0,a.S6)(),o=t?i(t):null;return(0,l.jsx)(g,{...e,animationEnded:()=>s({type:"hideRepinAnimation"}),lastRepin:o,startAnimation:n})}},380751:(e,t,n)=>{n.d(t,{F:()=>i,j:()=>o});var s=n(583592);const{Provider:i,useHook:o}=(0,s.Z)("SiteParametersContextType")},219952:(e,t,n)=>{n.d(t,{Jo:()=>d,mv:()=>p,nJ:()=>u});var s=n(667294),i=n(583592);const o={hiddenNews:{}};function r(e=o,t){if("HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"===t.type){const{payload:{id:n,isHidden:s}}=t;return{hiddenNews:{...e.hiddenNews,[n]:s}}}return e}var a=n(785893);const{Provider:l,useHook:c}=(0,i.Z)("HiddenNews");function d({children:e}){const[t,n]=(0,s.useReducer)(r,o),i=(0,s.useMemo)((()=>({dispatch:n,hiddenNews:t})),[n,t]);return(0,a.jsx)(l,{value:i,children:e})}function u(){const{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,s.useMemo)((()=>({updateNewsIdToHiddenNews:(t,n)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:n}})},getShownNewsCount:e=>e.filter((e=>!(e.id in t&&t[e.id]))).length})),[e,t])}function p(){const{hiddenNews:e}=c();return e}},328939:(e,t,n)=>{n.d(t,{fv:()=>g,Hs:()=>x,Mv:()=>h,uc:()=>_,dL:()=>p,qS:()=>m,Y4:()=>y,HE:()=>f,Cy:()=>v});var s=n(667294),i=n(973935),o=n(388011),r=n(906215),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends s.Component{constructor(...e){super(...e),l(this,"observe",(()=>{try{if(this.node=(0,i.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;r.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),l(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&r.Z.stop(this.node)}render(){return s.Children.only(this.props.children)}}function d(e){const{logImpression:t}=(0,o.v)();return(0,a.jsx)(c,{...e,logImpression:t})}function u({auxData:e,component:t,eventData:n,eventType:i,impressionType:a,isPaused:l,objectIdStr:c,viewData:d,viewType:u,viewParameter:p}){const h=(0,s.useRef)(null),{logImpression:_}=(0,o.v)(),g=(0,s.useCallback)((()=>{const s=s=>{var o,r,l,g;_({viewData:d||{},viewType:u,viewParameter:p,eventType:i,impressionType:a,auxData:e,component:t,objectIdStr:c,eventData:{endTime:s.endTime,time:s.startTime,pinCellWidth:(null===(o=h.current)||void 0===o?void 0:o.getBoundingClientRect().width)||0,pinCellHeight:(null===(r=h.current)||void 0===r?void 0:r.getBoundingClientRect().height)||0,windowWidth:null===(l=window)||void 0===l?void 0:l.innerWidth,windowHeight:null===(g=window)||void 0===g?void 0:g.innerHeight,...n}})};try{if(h.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=n;r.Z.start(h.current).onExitViewport(s).setDebugId(e||t||"unknown")}}catch(o){window.console.error('Can only track impressions for type "HTMLElement"')}}),[h.current]);return(0,s.useEffect)((()=>{l||g();const{current:e}=h;return()=>{e instanceof HTMLElement&&r.Z.stop(e)}}),[l,g]),h}const p=e=>{const t=u({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},h=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},_=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},g=e=>(0,a.jsx)(d,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),m=e=>{const t=u({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},x=e=>(0,a.jsx)(d,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{const t=u({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},f=e=>{const t=u({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},y=e=>{const t=u({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},64856:(e,t,n)=>{n.d(t,{Z:()=>b});var s,i=n(667294),o=n(702664),r=n(167912),a=n(64598),l=n(5342),c=n(245410),d=n(499441),u=n(908557),p=n(685225),h=n(282802),_=n(453972),g=n(837792),m=n(736637),x=n(802071),v=n(319416);const f=(e,t,n)=>{setTimeout((()=>{t?e(t):e()}),n||300)},y=void 0!==s?s:s=n(58041);function b(){var e;const{unauthId:t,country:n,countryFromHostName:s,countryFromIp:b,regionFromIp:w}=(0,h.B)(),{checkExperiment:S}=(0,c.F)(),I=(0,x.Z)(),P=g.nB.includes(w),A=g.PR.includes(w),E=null===(e=(0,r.useLazyLoadQuery)(y,{}).v3GetThirdPartyTrackingSettingsQuery)||void 0===e?void 0:e.data,[C,T]=(0,i.useState)(E&&E.sendPixel&&!A),[j,k]=(0,i.useState)(E&&E.sendEventsToFacebook&&!A),R=I.isAuth?I.id:null,D=R||"",L=(0,o.useDispatch)(),[Z,O]=(0,i.useState)(!1),M=!("undefined"==typeof window||!window.navigator||!window.navigator.globalPrivacyControl)&&window.navigator.globalPrivacyControl;return(0,i.useEffect)((()=>{let e=!1;if(async function(){if(M&&P)try{const n=await(0,p.getGPCSignalState)();e||n||await(0,p.Z)();const s=await(0,p.getThirdPartyMarketingTrackingEnabledAfterGPC)();e||s||(await(t=!1,L((0,v._L)({field:"third_party_marketing_tracking_enabled",value:t,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:_.i.SETTINGS,userId:D}))),T(!1),k(!1))}catch(n){}var t;e||O(!0)}(),Z&&C){const e=S("ppm_p_gate").anyEnabled;f(m.jO,{pixelBlocked:e}),(0,u.c_)({country:n,countryFromHostName:s,countryFromIp:b})&&(f(m.X,{id:a.me,eventCategory:"Logins",eventName:"LoggedInViews"}),f(m.X,{id:a.Ph,eventName:"Desktop"})),(0,u.$r)({country:n,countryFromHostName:s,countryFromIp:b,regionFromIp:w})&&f(m.Kv,{id:"flashtalking-d-ses",eventName:"Desktop"}),(0,u.NR)({country:n,regionFromIp:w})&&t&&R&&(f(m.fh,{unauthId:t,userId:R}),f(m.c,{id:d.xA,unauthId:t,userId:R,eventCategory:"EngagedSessions",eventName:"Desktop"},6e4)),(0,u.Fc)({country:n,countryFromHostName:s,countryFromIp:b})&&t&&R&&f(m.Xn,{unauthId:t,userId:R})}return()=>{e=!0}}),[S,n,s,b,w,M,Z,t,R,P,D,C,L]),(0,i.useEffect)((()=>{Z&&C&&((0,u.c_)({country:n,countryFromHostName:s,countryFromIp:b})&&(0,l.Z)(null,I,28)&&f(m.X,{id:a.Nv,eventName:"Desktop",eventCategory:"RezLogins"}),(0,u.NR)({country:n,regionFromIp:w})&&t&&R&&(0,l.Z)(null,I,28)&&(0,m.EN)({pixelId:d.Dq,eventCategory:"RezLogins",eventName:"Desktop"}))}),[n,s,b,w,I,t,R,Z,C]),(0,i.useEffect)((()=>{Z&&j&&(f(m.Um),(0,u.Fc)({country:n,countryFromHostName:s,countryFromIp:b})&&f(m.KT))}),[n,s,b,j,Z]),null}},820152:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(667294),i=n(604094),o=n(33476),r=n(359209),a=n(906215),l=n(643183),c=n(536042),d=n(190581),u=n(785893);class p extends s.Component{constructor(...e){var t,n,s;super(...e),s={mounted:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s}componentDidMount(){this.setState({mounted:!0})}render(){if(this.state.mounted)return null;const e=this.props.i18n._('Oh no! Pinterest doesn\'t work unless you <a style="text-decoration: underline;\n      color: #fff" href="http://enable-javascript.com/" target="_blank"\n      rel="noopener noreferrer nofollow">turn on JavaScript.</a>', 'Nag to tell users Javascript is disabled and the site is broken without it', 'Nag to tell users Javascript is disabled and the site is broken without it');return(0,u.jsx)("noscript",{children:(0,u.jsx)(d.Z,{message:e},"noscriptNag")})}}function h(e){const t=(0,c.ZP)();return(0,u.jsx)(p,{...e,i18n:t})}const _=(0,s.lazy)((()=>n.e(74050).then(n.bind(n,278238)))),g=(0,s.lazy)((()=>n.e(84214).then(n.bind(n,484214)))),m=(0,s.lazy)((()=>n.e(24046).then(n.bind(n,224046)))),x=(0,s.lazy)((()=>n.e(56752).then(n.bind(n,756752))));class v extends s.Component{constructor(e,t){var n,s,i;super(e,t),i=e=>{this.setState((t=>({nags:t.nags.filter((t=>t!==e))})))},(s="removeNag")in(n=this)?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i;const o=[...this.props.nags||[]];this.state={nags:o}}componentDidUpdate(){a.Z.updateObstructions()}render(){const{experience:e}=this.props;if(502597===(null==e?void 0:e.experience_id))return(0,u.jsx)(o.Z,{eligibleTypes:[13],placementId:30,transitionType:17,children:({complete:e})=>(0,u.jsx)(i.Z,{name:"SafeSuspense_Nags_CookieConsentBanner",children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(g,{handleComplete:e,isNag:!0})})})});const{nags:t}=this.state,n=!(!e||500711!==e.experience_id);return(0,u.jsxs)("div",{className:"Nags",children:[(0,u.jsx)(h,{}),(0,u.jsx)(o.Z,{eligibleTypes:n?[13]:[2],placementId:30,transitionType:17,children:({complete:e,dismiss:t,experience:s})=>(0,u.jsx)(i.Z,{name:"SafeSuspense_Nags_HeroNag",children:(0,u.jsx)(l.Z,{children:n?(0,u.jsx)(m,{complete:e,dismiss:t,experience:s}):(0,u.jsx)(_,{complete:e,dismiss:t,experience:s})})})}),!e&&t[0]?(0,u.jsx)(i.Z,{name:"SafeSuspense_Nags_NonExperienceNags",children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(x,{nag:t[0],removeNag:this.removeNag})})}):null]})}}function f(e){const{experience:t}=(0,r.Z)(30);return(0,u.jsx)(v,{...e,experience:t})}},75574:(e,t,n)=>{n.r(t),n.d(t,{default:()=>xe});var s=n(667294),i=n(702664),o=n(616550),r=n(240684),a=n(883119),l=n(690108),c=n(322748),d=n(542529),u=n(457628),p=n(791045),h=n(891643),_=n(550496),g=n(604094),m=n(655082),x=n(906215),v=n(110417),f=n(988014),y=n(282802),b=n(352182),w=n(819079),S=n(643183),I=n(846226),P=n(552369),A=n(713999),E=n(739425),C=n(272109),T=n(802071),j=n(209660),k=n(863801),R=n(574926),D=n(940784),L=n(886365),Z=n(413533),O=n(524378),M=n(936677),z=n(510525),B=n(681557),N=n(739782),F=n(475190),H=n(491418),U=n(162664),q=n(435399),G=n(591304),V=n(589665),W=n(934211),$=n(393599),Y=n(64856),K=n(69999),X=n(182474),J=n(525104),Q=n(139705),ee=n(554318),te=n(923632),ne=n(613352),se=n(785893);const ie=(0,s.lazy)((()=>n.e(4394).then(n.bind(n,339345)))),oe=(0,s.lazy)((()=>n.e(48465).then(n.bind(n,848465)))),re=(0,s.lazy)((()=>n.e(57815).then(n.bind(n,126968)))),ae=(0,r.ZP)({resolved:{},chunkName:()=>"Authentication-PersonalizedLoginFlyout",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(58594).then(n.bind(n,655642)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 655642}}),le=(0,r.ZP)({resolved:{},chunkName:()=>"FullHeightInboxDesktop",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(59576).then(n.bind(n,510363)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 510363}});le.displayName="Loadable(FullHeightInbox)";const ce=(0,r.ZP)({resolved:{},chunkName:()=>"common-react-components-profile-ProfileDecider-ProfileDeciderContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(83119),n.e(67631),n.e(68323),n.e(20534)]).then(n.bind(n,143068)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 143068}});ce.preload();const de=1056,ue=680,pe=300,he=({isPartner:e,location:t})=>e&&t.pathname.includes(Z.GW),_e=({isPartner:e,location:t})=>e&&t.pathname.includes(O.GW),ge=()=>{const e=(0,J.AF)(),t=(0,o.useLocation)(),n=(0,o.matchPath)(t.pathname,{path:"/pin/:id",exact:!0}),s=n&&n.params.id||null,i=s&&((e[s]||{}).images||{})["474x"];return i?{url:i.url,width:i.width,height:i.height}:null},me=()=>{if((0,v.oy)()){u.U2(p.oj)||(u.t8(p.oj,String(!0),(0,u.kZ)(p.oj)),"undefined"!=typeof window&&window.location.reload(!0))}};function xe({children:e}){const{appUI:{viewportSize:t},setIsAutoplay:n,setViewportSize:r}=(0,L.I)(),{dismiss:u,reportData:p}=(0,ne.f)(),{loginForMore:v}=(0,$.H)(),Z=(0,s.useRef)(null),O=(0,T.Z)(),[J,ce]=(0,s.useState)(!1),xe=!!O.isAuth&&O.isPartner,ve=!!O.isAuth&&O.isLimitedLogin,fe=O.isAuth&&!O.isLimitedLogin,ye=O.isAuth?O.username:"",be=(0,o.useHistory)(),we=(0,o.useLocation)(),Se=(0,y.B)(),{pathname:Ie}=we,Pe=Z.current,Ae=!((0,f.jC)(we)||(0,f.x7)(we))&&fe,Ee=(0,E.mB)(we.search),{conversation_id:Ce,tab:Te}=Ee,{conversations:{showConversationsDropdown:je},conversationOpen:ke,dropdownOpen:Re}=(0,z.Z5)(),De=(0,i.useDispatch)(),Le=ge(),{userAgent:{browserName:Ze}}=Se,Oe=(0,i.useSelector)((e=>e.pinbuilder&&e.pinbuilder.pinDraftIdUploadStatusMap||{}));(0,C.Z)((()=>{function e(e){Object.keys(Oe||{}).length>0&&e.preventDefault()}return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}})),(0,C.Z)((()=>{(0,b.Z)(O)})),(0,s.useEffect)((()=>{d.Z.extensionReady(Ze).then(d.Z.initBrowserExtension)}),[Ze]),(0,C.Z)((()=>{setTimeout((()=>{n(!0)}),pe)})),(0,s.useEffect)((()=>{ve||(Ce&&ke(Ce),"inbox"===Te&&Re())}),[Ce,Te,ke,Re,ve]);const Me=!((0,f.Gl)(we)||(0,f.PY)(we)||(0,f.jC)(we)||(0,f.Xn)(we)||(0,f.b_)(we)||(0,f.oF)(we)||(0,f.dt)(we)||(0,f.x7)(we)||(0,f.cY)(we)||(0,f.bb)(we));(0,s.useEffect)((()=>(Pe instanceof HTMLElement&&x.Z.addObstruction("top",Pe),()=>{Pe instanceof HTMLElement&&x.Z.removeObstruction("top",Pe)})),[Pe]);const[ze,Be]=(0,s.useState)(!(null==v||!v.visible)||!ve),Ne=(0,P.Z)((()=>{let e="lg";window&&window.innerWidth<de&&(e=window.innerWidth<ue?"sm":"md"),t!==e&&r(e)}),200);return(0,C.Z)((()=>(window.addEventListener("resize",Ne),Ne(),()=>{window.removeEventListener("resize",Ne)}))),(0,s.useEffect)((()=>{ce(Ie!==`/${ye}/`)}),[Ie,ye]),(0,s.useEffect)((()=>{l.Z.create("BoardsResource",{page_size:1,privacy_filter:"all",sort:"last_pinned_to",username:ye}).callGet().then((e=>{const{resource_response:t}=e||{},n=(t.data||[])[0];n&&n.id&&n.name&&De((0,X.p)(n.id,n.name,n.url))}))}),[De,ye]),(0,w.Z)(J?{name:"UserResource",options:{field_set_key:"profile",username:ye}}:null),(0,w.Z)(J?{name:"UserMetadataResource",options:{user:{id:ye}}}:null),(0,C.Z)((()=>{me()})),(0,se.jsx)(Q.Z.Provider,{value:!!Ee.social_debug,children:(0,se.jsx)(k.Z,{children:(0,se.jsx)(R.Z,{viewerAdvertiser:Se.advertiser,children:(0,se.jsx)(M.Z,{children:(0,se.jsx)(ee.Z,{children:(0,se.jsx)(B.N,{children:(0,se.jsxs)(h.c4,{value:Le,children:["undefined"!=typeof window&&window.Windows&&(0,se.jsx)(g.Z,{name:"SafeSuspense_DesktopApp_WindowsPWA",children:(0,se.jsx)(S.Z,{children:(0,se.jsx)(re,{onActivated:e=>{be.push(e)}})})}),!(null!=v&&v.visible)&&O.isAuth&&O.isLimitedLogin&&!(0,f.Xn)(we)&&!(0,f.OK)(we)&&!(0,f.FO)(we)&&!(0,f.re)(we)&&(0,se.jsx)(ae,{fallback:(0,se.jsx)(a.xu,{}),shouldHideFlyout:ze,triggerModal:()=>{v&&v.setVisible(!0),Be(!0)},viewer:O}),(0,se.jsx)(q.Z,{children:(0,se.jsx)(W.Hv,{children:(0,se.jsx)(G.Z,{children:(0,se.jsx)(F.i3,{children:(0,se.jsx)(H.Z,{children:(0,se.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1,paddingTop:1}},minWidth:320,children:[(0,se.jsxs)(a.xu,{role:"banner",children:[(0,se.jsx)(A.Z,{}),(0,se.jsxs)(a.xu,{"data-test-id":"header",id:V.WZ,position:"fixed",top:!0,ref:Z,width:"100%",zIndex:new a.Ry(V.fe),children:[null!=v&&v.visible&&!(0,f.re)(we)||ve&&we.pathname.includes("/repin/")?(0,se.jsx)(_.Z,{}):null,Me&&O.isAuth&&(0,se.jsx)(g.Z,{name:"AuthDesktopHeader",type:"critical",children:(0,se.jsx)(D.Z,{isShoppingCatalogs:(0,j.Z)({isPartner:xe,location:we}),isBPMPage:he({isPartner:xe,location:we}),isVMPStatusPage:_e({isPartner:xe,location:we}),viewer:O})}),Ae&&(0,se.jsx)(K.Z,{})]})]}),(0,se.jsxs)("div",{className:"appContent",role:"main",children:[(0,se.jsx)(U.c,{children:t=>(0,se.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:Me?t:0}},children:(0,se.jsxs)("div",{className:"mainContainer",children:[e,(0,se.jsx)(g.Z,{name:"AuthDesktopAppShell_ExperienceSurvey",children:(0,se.jsx)(S.Z,{children:(0,se.jsx)(ie,{placementId:1000421})})}),(0,se.jsx)(te.Z,{})]})})}),je&&!ve&&(0,se.jsx)(le,{})]}),(0,se.jsx)(N.Z,{})]})})})})})}),xe&&(0,se.jsx)(c.Z,{}),(0,se.jsx)(m.Z,{}),(0,se.jsx)(g.Z,{name:"DesktopApp_MarketingPixel",children:(0,se.jsx)(S.Z,{children:(0,se.jsx)(Y.Z,{})})}),p&&(0,se.jsx)(I.Z,{id:"report-pin",children:(0,se.jsx)(g.Z,{name:"SafeSuspense_DesktopApp_ReportContent",children:(0,se.jsx)(S.Z,{children:(0,se.jsx)(oe,{data:p,dismiss:u})})})})]})})})})})})})}},923632:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(883119),i=n(886365),o=n(785893);const r=new s.Ry(500);function a(){const{appUI:{showTypeaheadOverlay:e}}=(0,i.I)();return e?(0,o.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.4)"}},bottom:!0,left:!0,right:!0,top:!0,position:"fixed",zIndex:r}):null}},524378:(e,t,n)=>{n.d(t,{$o:()=>c,GW:()=>i,Jo:()=>a,Li:()=>I,Q8:()=>y,Ux:()=>u,VX:()=>x,Zo:()=>p,aD:()=>h,b2:()=>g,dm:()=>f,e_:()=>S,g2:()=>m,kY:()=>w,lM:()=>o,qN:()=>l,s4:()=>d,tK:()=>b,ym:()=>_,zQ:()=>v});var s=n(837792);const i="/business/hub/?show_vmp=true",o=(s.Rf,s.Rf,s.Rf,s.Rf,["US","GB","CA","AU","DE","FR"]),r=["FR"],a=o.concat(["ES","IT","AT","CH","NL","BR","MX"]).filter((e=>!r.includes(e))),l={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",DISAPPROVED:"DISAPPROVED",UNDER_REVIEW:"UNDER_REVIEW"},c={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},d=Object.freeze({APPLIED:"APPLIED",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED"}),u=(e,t)=>{switch(e){case"IN_PROGRESS":return t._('In-progress', 'BizHubHeader.VMPEntryPointStatus.label', 'User is currently in progress of becoming a Verified Merchant');case"ACTIVE":return t._('Active', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently an active Verified Merchant');case"NEEDS_ATTENTION":return t._('Needs attention', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account has an issue that needs attention in order to keep their Verified Merchant Status');case"SUSPENDED":return t._('Suspended', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently a suspended Verified Merchant');default:return e}},p=(d.NON_COMPLIANT,d.SUSPENDED,Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"workflow-status-warning",REJECTED:"workflow-status-problem",RECOMMENDED:"info-circle"})),h=Object.freeze({UNSTARTED:"dark",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),_="Verified merchant program not yet available in this country",g=2e3,m={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},x=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),v=[x.ACCOUNT_AGE,x.DOMAIN_AGE,x.PROFILE_IMAGE,x.PROFILE_COVER_IMAGE,x.BIO,x.SHOP_TAB,x.PINNER_FEEDBACK],f=["US","GB","CA","AU","DE","FR","ES","IT","AT","CH","NL","BR","MX"],y=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),b=30,w=6048e5,S="show_vmp",I="true"},251163:(e,t,n)=>{n.d(t,{O:()=>c,Z:()=>d});var s=n(667294),i=n(883119),o=n(536042),r=n(837792),a=n(785893);const l={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,o.ZP)();return(0,a.jsx)(i.u,{link:(0,a.jsx)(i.rU,{href:r.vB,target:"blank",children:(0,a.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:r,size:d}){const u=(0,o.ZP)(),p=(0,a.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(i.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),r&&(0,a.jsx)(i.xu,{marginStart:2,children:(0,a.jsx)(i.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,a.jsxs)(s.Fragment,{children:[n&&!t&&(0,a.jsx)(c,{children:p}),n&&t&&p,e&&!n&&(0,a.jsx)(i.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[d]})]})}},586187:(e,t,n)=>{n.d(t,{Z:()=>v});var s=n(667294),i=n(883119),o=n(621699),r=n(536042),a=n(183929),l=n(245410),c=n(511139),d=n(637362),u=n(493851),p=n(802071),h=n(313398),_=n(157987),g=n(785893);const m=12,x=24;function v({bubble:e,contextLogData:t,disableTabIndex:n,handleReport:v,height:f,imgSignature:y,isHovered:b,onClick:w,onMouseEnter:S,onMouseLeave:I,referringSource:P,searchBoxRenderStopwatch:A,showFlag:E,slotIndex:C,storyId:T,viewParameter:j,viewType:k,width:R}){const D=(0,r.ZP)(),L=(0,p.Z)(),{id:Z,action:O,aux_fields:M,cover_images:z,dominant_colors:B,identifier_icon_type:N,title:F,story_category:H,curator:U}=e,{checkExperiment:q}=(0,l.F)(),{isAuth:G}=L;let V="",W="";if(G&&5===k){V=q("blp_explore_bubble_image_size").group;const e=V.split("_");e.length>1&&V.startsWith("enabled")&&(W=e[1])}const $=z&&z[0]&&(V.startsWith("enabled")&&W?z[0][W]:z[0]["280x280"]||z[0]["236x"]),Y=(0,u.Z)(F&&F.format||"",F&&F.args||{}),K=B&&B.length?B[0]:"gray",X=(null==O?void 0:O.url)||(0,c.Z)({storyCategory:H,query:Y,referringSource:P,bubbleId:Z,storyId:T,title:F.format,pinId:null==M?void 0:M.image_pin_id});return(0,g.jsx)(a.Z,{impressionAuxFields:{storyCategory:H,storyIdStr:T},impressionType:"Article",loggingId:Z,viewType:k,viewParameter:j,slotIndex:C,contextLogData:{story_id:T,...t},children:(0,g.jsx)(h.Z,{backgroundColor:K,coverImage:$,disableTabIndex:n,height:f,id:Z,isHovered:b,onClick:w,onMouseEnter:S,onMouseLeave:I,searchBoxRenderStopwatch:A,url:X,width:R,children:({isHovered:e})=>(0,g.jsxs)(s.Fragment,{children:[U&&26!==H&&(0,g.jsx)(i.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,g.jsx)(o.Z,{outline:!0,size:"xs",src:U.image_small_url,name:U.full_name})}),N&&N!==d.J&&(0,g.jsx)(i.xu,{alignItems:"center",color:"default",display:"flex",height:x,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:x,children:(0,g.jsx)(i.JO,{icon:(0,d.Z)(N),accessibilityLabel:D._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:m})}),(0,g.jsx)(i.xu,{display:"flex",height:f,width:R||"100%",position:"absolute",top:!0,padding:3,alignItems:26===H?"end":"center",justifyContent:"center",children:(0,g.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[f>200?(0,g.jsx)(i.X6,{size:"500",align:"center",color:"light",children:Y}):(0,g.jsx)(i.xv,{align:"center",color:"light",weight:"bold",children:Y}),U&&26===H&&(0,g.jsxs)(i.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,g.jsx)(i.xu,{marginEnd:2,children:(0,g.jsx)(o.Z,{outline:!0,size:"xs",src:U.image_small_url,name:U.full_name})}),(0,g.jsx)(i.xv,{size:"100",color:"light",children:U.full_name})]})]})}),L.isAuth&&L.isEmployee&&E?(0,g.jsx)(i.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,g.jsx)(_.Z,{handleReport:v,imgSignature:y||"",isVisible:e})}):null]})})})}},313398:(e,t,n)=>{n.d(t,{A:()=>r,Z:()=>a});var s=n(667294),i=n(883119),o=n(785893);const r={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function a({backgroundColor:e,children:t,coverImage:n,disableTabIndex:a,height:l,id:c,isHovered:d,onClick:u,onMouseDown:p,onMouseEnter:h,onMouseLeave:_,searchBoxRenderStopwatch:g,url:m,width:x}){var v,f;const[y,b]=(0,s.useState)(!1),w=()=>{h?h():b(!0)},S=()=>{_?_():b(!1)},I=d||y,P=I?r.hoverOverlay:r.bubbleOverlay;return(0,o.jsx)(i.iP,{href:m,onBlur:S,onFocus:w,onMouseDown:p,onMouseEnter:w,onMouseLeave:S,onTap:()=>{null==u||u(c)},role:"link",rounding:4,tabIndex:a?-1:void 0,children:(0,o.jsx)(i.zd,{rounding:4,width:x||"100%",height:l,children:null!=n&&n.url?(0,o.jsxs)(i.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(v=n.height)&&void 0!==v?v:1,naturalWidth:null!==(f=n.width)&&void 0!==f?f:1,onLoad:()=>{null==g||g.stop()},role:"presentation",src:n.url,children:[(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:P},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:I}):t]}):(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},470792:(e,t,n)=>{n.d(t,{Z:()=>g});var s=n(667294),i=n(883119),o=n(621699),r=n(181437),a=n(493851),l=n(806685),c=n(802071),d=n(313398),u=n(149139),p=n(157987),h=n(328939),_=n(785893);function g({bubble:e,height:t,isHovered:n,onClick:g,onMouseDown:m,onMouseEnter:x,onMouseLeave:v,searchBoxRenderStopwatch:f,showFlag:y,slotIndex:b,storyId:w,storyType:S,viewParameter:I,viewType:P,width:A}){var E,C;const T=(0,c.Z)(),{id:j,title:k,image_urls:R,article_creator_user:D}=e,L=()=>{(0,r.Z)({query:"",report:k,suggestions:[k],type:u.KH.SEARCH_TRENDING_TEXT})},Z=R&&R.length>0?{url:R[0]}:void 0,O=(0,a.Z)(k||"",{});if(!e.title||!e.id)return null;const M=(0,l.T7)(null!==(E=e.feed_source)&&void 0!==E?E:0,null!==(C=e.is_product_pin_feed)&&void 0!==C&&C,e.title,e.id);return(0,_.jsx)(h.Y4,{auxData:{grid_index:b.toString(),today_article_id:j,story_type:S,story_id:w},loggingId:j,objectIdStr:j,slotIndex:b,viewParameter:I||3467,viewType:P,children:({impressionTrackerRef:e})=>(0,_.jsx)(d.Z,{backgroundColor:"gray",coverImage:Z,disableTabIndex:!0,height:t,id:j,isHovered:n,onClick:g,onMouseDown:m,onMouseEnter:x,onMouseLeave:v,ref:e,searchBoxRenderStopwatch:f,url:M,width:A,children:({isHovered:n})=>{var r;return(0,_.jsxs)(s.Fragment,{children:[(0,_.jsx)(i.xu,{alignItems:"end",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:A||"100%",ref:e,children:(0,_.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[t>200?(0,_.jsx)(i.X6,{size:"500",align:"center",color:"light",children:O}):(0,_.jsx)(i.xv,{align:"center",color:"light",weight:"bold",children:O}),D&&D.image_small_url&&D.full_name&&(0,_.jsxs)(i.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,_.jsx)(i.xu,{marginEnd:2,children:(0,_.jsx)(o.Z,{outline:!0,size:"xs",src:D.image_small_url,name:D.full_name})}),(0,_.jsx)(i.xv,{size:"100",color:"light",children:D.full_name})]})]})}),T.isAuth&&T.isEmployee&&y&&(0,_.jsx)(i.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,_.jsx)(p.Z,{handleReport:L,imgSignature:null!==(r=null==Z?void 0:Z.url)&&void 0!==r?r:"",isVisible:n})})]})}})})}},695458:(e,t,n)=>{n.d(t,{Z:()=>p});var s=n(667294),i=n(883119);const o={backgroundColor:"transparent"},r={backgroundColor:"rgba(216, 216, 216, 0.37)"},a={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},l={outline:"0"};var c=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends s.Component{constructor(...e){super(...e),d(this,"state",{hovered:!1}),d(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),d(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:t,color:n="subtle"}=this.props,s=Object.freeze({height:e,width:e}),d={border:0,display:"block",background:"transparent",cursor:"pointer",...l},u={...s,...{...a,...o,...this.state.hovered?r:{}}};return(0,c.jsx)("button",{type:"button",style:d,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,c.jsx)("div",{style:u,children:(0,c.jsx)(i.xu,{rounding:"circle",children:(0,c.jsx)(i.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:n})})})})}}const p=u},157987:(e,t,n)=>{n.d(t,{Z:()=>g});var s=n(667294),i=n(883119),o=n(970588),r=n(88622),a=n(550140),l=n(536042),c=n(63262),d=n(695458),u=n(613352),p=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends s.PureComponent{constructor(...e){var t;super(...e),t=this,h(this,"state",{showModal:!1,reportType:null}),h(this,"handleDismiss",(()=>this.setState({showModal:!1}))),h(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),h(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await(0,o.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:e}})).resource_response.data.id)})),h(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast((({hideToast:e})=>(0,p.jsx)(a.ZP,{onHide:e,text:this.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')}))),this.handleDismiss())})),h(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,p.jsxs)(s.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(d.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,p.jsx)(r.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(i.xu,{children:[(0,p.jsx)(i.xu,{padding:5,children:(0,p.jsx)(i.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,p.jsxs)(i.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,p.jsxs)(i.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(i.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(i.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,p.jsx)(i.xu,{flex:"grow",children:(0,p.jsx)(i.__,{htmlFor:"textType",children:(0,p.jsx)(i.xu,{paddingX:2,children:(0,p.jsx)(i.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(i.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(i.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,p.jsx)(i.xu,{flex:"grow",children:(0,p.jsx)(i.__,{htmlFor:"imageType",children:(0,p.jsx)(i.xu,{paddingX:2,children:(0,p.jsx)(i.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(i.iz,{}),(0,p.jsxs)(i.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(i.xu,{margin:2,children:(0,p.jsx)(i.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,p.jsx)(i.xu,{margin:2,children:(0,p.jsx)(i.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion'),disabled:!this.state.reportType})})]})]})]})})]})}}function g(e){const t=(0,l.ZP)(),{reportImage:n}=(0,u.f)();return(0,p.jsx)(_,{...e,i18n:t,reportImage:n,toastManagerContext:(0,c.F9)()})}},527136:(e,t,n)=>{n.d(t,{Z:()=>ot});var s=n(667294),i=n(616550),o=n(883119),r=n(388011),a=n(536042),l=n(906215),c=n(731048),d=n(988014),u=n(245410),p=n(912208);const{Provider:h,useHook:_}=(0,p.Z)({name:"search_tab_render",sampleRate:1}),g=h,m=_;var x=n(282802),v=n(369840),f=n(207732),y=n(118482),b=n(649715),w=n(700746),S=n(846226),I=n(886365),P=n(149139),A=n(589665),E=n(785893);function C({contentTypes:e,contentTypesAnchor:t,handleSelectFilter:n,onDismiss:s}){return(0,E.jsx)(o.Lt,{anchor:t,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:s,zIndex:new o.Ry(A.fe),children:e.map(((e,t)=>(0,E.jsx)(o.Lt.Item,{dataTestId:"search-filter-"+e.text.replace(/\s/g,"-").toLowerCase(),onSelect:()=>n(t),option:{value:e.text,label:e.text},children:(0,E.jsx)(o.xv,{weight:[w.lw.PINS,w.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text)))})}const T=e=>{switch(e){case w.lw.PINS:return 220;case w.lw.PINS_MINE:return 223;case w.lw.PINS_VIDEO:return 11399;case w.lw.BOARDS:return 221;case w.lw.USERS:return 222;default:return null}};const j=function({currentlySelectedFilter:e,currentQuery:t,handleContentTypeFilterHover:n,handleScopeChange:l}){const{logContextEvent:c}=(0,r.v)(),d=(0,a.ZP)(),p=function(e){const{checkExperiment:t}=(0,u.F)(),{country:n}=(0,x.B)();let s=[{scope:w.lw.PINS,text:e._('All Pins', 'All Pins label for content type filters on search bar', 'All Pins label for content type filters on search bar')},{scope:w.lw.PINS_MINE,text:e._('Your Pins', 'Your Pins label for content type filters on search bar', 'Your Pins label for content type filters on search bar')},{scope:w.lw.PINS_VIDEO,text:e._('Videos', 'Video label for content type filters on search bar', 'Video label for content type filters on search bar')},{scope:w.lw.BOARDS,text:e._('Boards', 'Boards label for content type filters on search bar', 'Boards label for content type filters on search bar')}];(["US","UK"].includes(n)||t("one_bar_expansion").anyEnabled)&&(s=s.filter((({scope:e})=>e!==w.lw.BOARDS&&e!==w.lw.PINS_VIDEO)));const i=s.findIndex((e=>e.scope===w.lw.PINS_MINE));return s.push(s.splice(i,1)[0]),s}(d),h=(0,s.useRef)(null),_=(0,i.useHistory)(),[g,m]=(0,s.useState)(e||p[0].scope),[v,f]=(0,s.useState)(!1),[y,b]=(0,s.useState)(!1);(0,s.useEffect)((()=>{m(e)}),[e]);const S=(p[g?p.findIndex((e=>e.scope===g)):0]||p[0]).text,I=(0,E.jsx)(o.xu,{"data-test-id":"search-filter",overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:P.XI}},ref:h,children:(0,E.jsxs)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,E.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:S}),(0,E.jsx)(o.xu,{marginStart:2,children:(0,E.jsx)(o.JO,{accessibilityLabel:d._('Dropdown', ' - ', ' -- '),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,E.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:y?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:P.XI,marginStart:2,position:"relative",rounding:6,children:[(0,E.jsx)(o.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:()=>(b(!0),void(n&&n(!0))),onMouseLeave:()=>(b(!1),void(n&&n(!1))),onTap:({event:e})=>{e&&(e.preventDefault(),e.stopPropagation()),f(!v),c({event_type:101,component:215,aux_data:{entered_query:t}})},rounding:6,children:I}),v&&(0,E.jsx)(C,{contentTypes:p,contentTypesAnchor:h.current,handleSelectFilter:e=>{const n=p[e].scope;m(n),f(!1),c({event_type:101,component:215,element:T(n),aux_data:{entered_query:t}}),l(n),t&&_.push(`/search/${n}/?q=${encodeURIComponent(t)}&rs=filter`)},onDismiss:()=>f(!1)})]})};var k=n(297776),R=n(272109),D=n(681557);const L="all 0.6s cubic-bezier(0.68, -0.6, 0.32, 1.6)",Z={transform:"scale(0)",opacity:"0",transition:L},O={transform:"scale(1)",opacity:"1",transition:L},M={transform:"scale(1.2)",transition:L};function z({handleClearMode:e,scope:t,backgroundColorHex:n,iconType:i}){var r,l;const c=(0,a.ZP)(),d=(0,w.Hd)(t),[u,p]=(0,s.useState)(!1),h=(0,o.JZ)(),[_,g]=(0,s.useState)(h?O:Z),m=(0,s.useRef)();let x;if((0,R.Z)((()=>h?()=>{}:(g(O),()=>{g(Z)}))),u)x="cancel";else if(6===i)x="person";else{if(1!==i)return null;x="shopping-bag"}return(0,E.jsxs)(s.Fragment,{children:[(0,E.jsx)(o.xu,{flex:"none",marginEnd:2,marginStart:-3,ref:m,dangerouslySetInlineStyle:{__style:u?M:_},"data-test-id":"mode-icon-wrapper",children:(0,E.jsx)(o.iP,{onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onFocus:()=>p(!0),onBlur:()=>p(!1),onTap:e,rounding:"circle",tapStyle:"compress",children:(0,E.jsx)(o.xu,{padding:3,rounding:"circle",dangerouslySetInlineStyle:{__style:{backgroundColor:null!==(r=n&&n[0])&&void 0!==r?r:void 0}},children:(0,E.jsx)(o.JO,{accessibilityLabel:c._('Search mode icon', 'searchBox.modesIcon.accessibilityLabel', 'Search mode icon in search box'),icon:x,color:"inverse",size:16})})})}),(null===(l=m.current)||void 0===l?void 0:l.style.transform)!==Z.transform&&(0,E.jsx)(k.default,{id:"experience-tooltip",anchor:m.current,hasFullWidthButton:!1,placementId:d,experienceIds:[t===w.lw.USERS?504374:504373],showCaret:!0,textAlign:"center",textWeight:"normal"})]})}function B({handleClearMode:e,scope:t}){const{modeIcon:n}=(0,D.A)().searchContext;if(n)return(0,E.jsx)(s.Suspense,{fallback:null,children:(0,E.jsx)(z,{handleClearMode:e,scope:t,backgroundColorHex:n.backgroundColorHex,iconType:n.iconType})})}var N=n(583592),F=n(170567);const H={recentSaves:[],recentViews:[]};function U(e=H,t){if("FETCH_COMPLETE"===t.type){const{options:n={},resource:s}=t.payload,{data:i}=t.payload.response.resource_response;if("ApiResource"===s&&"/v3/users/me/recent/engaged/pin/stories/"===n.url&&i){const t=i.find((e=>"user_recently_viewed_pins"===e.story_type)),n=i.find((e=>"user_recently_saved_pins"===e.story_type)),s=(null==t?void 0:t.objects.map((({description:e,id:t,images:n},s)=>({label:e,images:n,resultIndex:s,type:"recent_view",url:`/pin/${t}`}))))||[],o=(null==n?void 0:n.objects.map((({description:e,id:t,images:n},s)=>({label:e,images:n,resultIndex:s,type:"recent_save",url:`/pin/${t}`}))))||[];return{...e,recentSaves:o,recentViews:s}}return e}return e}const{Provider:q,useHook:G}=(0,N.Z)("SearchBox");function V({children:e}){const[t,n]=(0,s.useReducer)(U,H);(0,F.Z8)("ApiResource",(e=>{n({type:"FETCH_COMPLETE",payload:e})}));const i=(0,s.useMemo)((()=>({state:t})),[t]);return(0,E.jsx)(q,{value:i,children:e})}var W=n(468e3),$=n(819079),Y=n(511139),K=n(198541),X=n(802071);function J({suggestion:e,query:t,lastFocusTime:n=0,filterSelectedTerm:s}){if("explorearticle"===e.type){var i,o;const{story_category:t,query:n,referringSource:s,id:r,storyId:a}=e;return null!==(i=null===(o=e.action)||void 0===o?void 0:o.url)&&void 0!==i?i:(0,Y.Z)({storyCategory:t,query:n,referringSource:s,bubbleId:r,storyId:a})}if("todayarticle"===e.type){const{id:t,title:n}=e;return(0,W.x)({title:n,id:t,articleType:"today"})}const r={eq:(0,b.Z)(t)};n&&(r.etslf=String(Date.now()-n)),"inclusive_product_filter_query"===e.type&&s&&(r.filters=s);return(0,K.Z)(e.url||"",r)}function Q(e,t){return`SuggestionGroup-Option-${e}-${t}`}const ee=e=>{let t=0;return e.map((e=>{var n,s;const i=t;return t+=null!==(n=(null!==(s=e.items)&&void 0!==s?s:[]).length)&&void 0!==n?n:0,i}))},te=(e,t)=>{if(null==t)return;const n=ee(e);for(let s=0;s<n.length;s+=1)if(e[s].items.length&&t-n[s]<e[s].items.length)return e[s].items[t-n[s]];return null};var ne=n(359209),se=n(630089),ie=n(99220),oe=n(286354),re=n(604094),ae=n(220590);const le=3,ce=(e,t)=>{const n=new RegExp("\\b"+t+"\\b","i");return e===t||e.match(n)};function de({children:e,experiences:t,placementId:n,searchTerm:i,suggestions:o}){const{viewExperience:r}=(0,ae.M)(),[a,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(new Set),u=(null==t?void 0:t.filter((e=>{var t;return(null===(t=e.display_data)||void 0===t?void 0:t.component_type)===le})).map((e=>({...e.display_data,id:e.experience_id}))))||[];return(0,s.useEffect)((()=>{if(!i||!o)return void l(null);if(!(null==a?void 0:a.search_query_list.find((e=>o.some((({label:t})=>ce(t,e))))))){const e=u.find((e=>{var t;return e.id!==(null==a?void 0:a.id)&&(null===(t=e.search_query_list)||void 0===t?void 0:t.find((e=>o.some((({label:t})=>ce(t,e))))))}));if(e){l(e);const{id:t}=e;c.has(t)||("number"==typeof t&&r(n,t),d(new Set(c).add(t)))}}}),[i]),e({searchDelightConfig:a})}var ue=n(643183),pe=n(660774),he=n(181437),_e=n(637362),ge=n(28630);function me({suggestions:e}){var t;const n=e[0],s=(0,ge.Z)({url:null===(t=n[0])||void 0===t?void 0:t.action_button_uri})?"nofollow":"none";return(0,E.jsxs)(o.xu,{padding:10,children:[(0,E.jsx)(o.xu,{marginBottom:6,children:(0,E.jsx)("span",{style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"},children:n.description})}),(0,E.jsx)(o.iP,{role:"link",rel:s,href:n.action_button_uri,rounding:"pill",children:(0,E.jsx)(o.xu,{color:"infoBase",display:"inlineBlock",rounding:"pill",padding:3,children:(0,E.jsx)(o.xv,{color:"inverse",weight:"bold",children:n.action_button_text})})})]})}var xe=n(88622),ve=n(550140),fe=n(63262);function ye({handleReport:e}){const t=(0,a.ZP)(),[n,i]=(0,s.useState)(!1),{showToast:r}=(0,fe.F9)();return(0,E.jsxs)(s.Fragment,{children:[(0,E.jsx)(o.hU,{accessibilityLabel:t._('Report', 'Accessibility label for report icon for search term', 'Accessibility label for report icon for search term'),icon:"flag",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),i(!0)},size:"xs",iconColor:"gray"}),n&&(0,E.jsx)(xe.ZP,{accessibilityModalLabel:t._('Report search', 'accessible label for report search modal', 'accessible label for report search modal'),heading:t._('Report Search Term', 'Heading for report searchmodal', 'Heading for report searchmodal'),onDismiss:()=>i(!1),size:"sm",children:(0,E.jsxs)(o.xu,{children:[(0,E.jsx)(o.xu,{padding:4,children:(0,E.jsx)(o.xv,{children:t._('Flag this search term for review by our Trust and Safety team', 'What will happen when you report a search term', 'What will happen when you report a search term')})}),(0,E.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,E.jsx)(o.xu,{margin:2,children:(0,E.jsx)(o.zx,{fullWidth:!0,onClick:()=>i(!1),text:t._('Cancel', 'Text for cancel button when reporting search result', 'Text for cancel button when reporting search result')})}),(0,E.jsx)(o.xu,{margin:2,children:(0,E.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:()=>{e(),r((({hideToast:e})=>(0,E.jsx)(ve.ZP,{onHide:e,text:t._('Thanks! Your feedback helps keep the Pinterest community safe.', 'Toast after reporting a search term', 'Toast after reporting a search term')}))),i(!1)},text:t._('Report', 'Button label to report search term', 'Button label to report search term')})})]})]})})]})}var be=n(251163);const we="#efefef",Se=40,Ie=2;function Pe({id:e,children:t,isHovered:n,url:s,onClick:i,onMouseEnter:r,onMouseLeave:a}){return(0,E.jsx)(o.xu,{id:e,color:n?"secondary":"default","data-test-id":"search-suggestion",role:"option","aria-selected":n?"true":"false",children:(0,E.jsx)(o.iP,{onMouseEnter:r,onMouseLeave:a,role:"link",href:s,tabIndex:-1,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.metaKey||e.ctrlKey||(e.preventDefault(),i())},children:(0,E.jsx)(o.xu,{marginBottom:1,paddingX:5,children:t})})})}function Ae({highlightMatch:e=!1,iconName:t,imageUrl:n,isVerifiedMerchant:s=!1,label:i,query:r,rounding:l,searchDelightConfig:c,subLabel:d,verified:u=!1}){const p=(0,a.ZP)();return(0,E.jsx)(o.xu,{display:"flex",paddingY:n?1:0,width:"100%","data-test-id":n||t?"enriched-search-suggestion":"regular-search-suggestion",children:(0,E.jsxs)(o.kC,{gap:{row:Ie,column:0},alignItems:"center",children:[n?(0,E.jsx)(o.xu,{width:Se,height:Se,overflow:"hidden",rounding:l&&2===l?2:"circle","data-test-id":"enriched-autocomplete-image",children:(0,E.jsx)(o.Ee,{alt:"",role:"presentation",color:we,fit:"cover",naturalHeight:Se,naturalWidth:Se,src:n})}):(0,E.jsx)(o.kC,{justifyContent:"center",alignItems:"center",width:Se,height:Se,children:(0,E.jsx)(o.xu,{marginTop:1,children:(0,E.jsx)(o.JO,{accessibilityLabel:t?(0,se.nk)(p._('{{ icon}} icon', 'SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon', 'contextual icon in typeahead (eg shopping tag icon to take users to product search)'),{icon:t}).join():"",color:"default",icon:t||"search",size:12})})}),(0,E.jsxs)(o.kC,{direction:"column",alignItems:"start",justifyContent:"center",gap:{row:0,column:1},children:[(0,E.jsxs)(o.kC,{alignItems:"center",children:[e&&r?(0,E.jsx)(pe.Z,{searchDelightConfig:c,query:r,text:i||r}):(0,E.jsx)(o.xv,{weight:"bold",children:i}),(u||s)&&(0,E.jsx)(o.xu,{marginStart:1,children:(0,E.jsx)(be.Z,{hasVerifiedIdentity:u,iconOnly:!0,isVerifiedMerchant:s,size:"xs"})})]}),d&&(0,E.jsx)(o.xv,{size:"100",children:d})]})]})})}var Ee=n(618305);const Ce=(0,s.lazy)((()=>Promise.all([n.e(67631),n.e(22498)]).then(n.bind(n,222498)))),Te={AUTOCOMPLETE:0,SEARCH_TRENDING_TEXT:2,SEARCH_IDEAS_FOR_YOU:3};function je({experiences:e,index:t,focusedIndex:n,onInclusiveProductFilterClick:i,onSuggestionClick:r,onSuggestionMouseEnter:l,onSuggestionMouseLeave:c,query:d,suggestion:u}){const p=(0,a.ZP)(),h=(0,X.Z)(),_="number"==typeof u.identifier_icon_name&&u.identifier_icon_name!==_e.J?(0,_e.Z)(u.identifier_icon_name):void 0,g=()=>{(0,he.Z)({report:u.label.toLowerCase(),query:d.toLowerCase(),suggestions:[u.label],type:Te.AUTOCOMPLETE})};return(0,E.jsx)(de,{experiences:e,placementId:1000315,searchTerm:d,suggestions:[u],children:({searchDelightConfig:e})=>(0,E.jsxs)(s.Fragment,{children:[(0,E.jsx)(Pe,{id:Q(0,t),url:J({suggestion:u,query:d}),isHovered:n===t,onClick:()=>{r(u,t)},onMouseEnter:()=>{l(t)},onMouseLeave:()=>{c()},children:(0,E.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,E.jsx)(o.xu,{flex:"grow",children:"inclusive_product_filter_query"===u.type?(0,E.jsx)(o.xu,{marginBottom:2,children:(0,E.jsx)(o.xv,{weight:"bold",children:(0,se.nk)(u.eligibleHairPatternFilters?p._('{{ query }} by hair pattern', 'SearchSuggestion.HairPatternFilterSuggestion', 'Suggested search for a hair pattern filter-eligible query'):p._('{{ query }} by skin tone range', 'SearchSuggestion.SkinToneFilterSuggestion', 'Suggested search for a skin tone filter-eligible query'),{query:(0,E.jsx)(pe.Z,{searchDelightConfig:e,query:d,text:u.label||d})})})}):(0,E.jsx)(Ae,{highlightMatch:!0,iconName:_,imageUrl:u.image,label:u.label,query:d,rounding:2,searchDelightConfig:e,subLabel:u.subLabel})}),h.isAuth&&h.isEmployee&&n===t?(0,E.jsx)(o.xu,{flex:"none",children:(0,E.jsx)(ye,{handleReport:g})}):null]})}),"inclusive_product_filter_query"===u.type&&i&&(0,E.jsx)(o.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:u.eligibleHairPatternFilters?(0,E.jsx)(re.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_HairPatternFilters",children:(0,E.jsx)(ue.Z,{children:(0,E.jsx)(o.xu,{display:"flex",marginBottom:-4,overflow:"scrollX",paddingY:2,position:"relative",children:(0,E.jsx)(Ce,{eligibleFilters:u.eligibleHairPatternFilters,isUpsell:!0,query:d,onClickApplyFilters:e=>i(u,t,e)})})})}):(0,E.jsx)(Ee.Z,{query:d,onClickApplyFilters:e=>i(u,t,e),showHeaderText:!1})})]})})}const ke=({index:e,focusedIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:i,suggestion:o})=>(0,E.jsx)(Pe,{id:Q(0,e),url:o.url,isHovered:t===e,onClick:()=>{n(o,e)},onMouseEnter:()=>{s(e)},onMouseLeave:()=>{i()},children:(0,E.jsx)(Ae,{imageUrl:o.image,isVerifiedMerchant:o.is_verified_merchant,label:o.label,rounding:"circle",subLabel:o.subLabel,verified:o.verified})},`${o.type}-${o.label}-${o.subLabel||""}`);function Re({focusedIndex:e,onSuggestionClick:t,onSuggestionMouseEnter:n,onSuggestionMouseLeave:s}){const i=(0,a.ZP)(),r=0===e;return(0,E.jsx)(o.xu,{"aria-selected":r?"true":"false",id:"syop_cta",role:"option",children:(0,E.jsxs)(o.xu,{paddingX:6,marginTop:3,children:[(0,E.jsx)(o.iz,{}),(0,E.jsx)(o.xu,{marginTop:4,children:(0,E.jsxs)(o.kC,{justifyContent:"between",alignItems:"center",children:[(0,E.jsx)(o.xv,{weight:"bold",lineClamp:2,children:i._('Looking for ideas you saved?', 'searchBox.suggestionsMenu.searchYourPinsCTA', 'Heading for search autocomplete call to action to search your own pins')}),(0,E.jsx)(o.kC.Item,{flex:"none",children:(0,E.jsx)(o.iP,{onTap:t,rounding:"pill",onMouseEnter:()=>{n(0)},onMouseLeave:s,children:(0,E.jsx)(o.xu,{rounding:"pill",color:r?"darkWash":"secondary",height:40,paddingX:3,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,E.jsx)(o.xv,{align:"center",weight:"bold",children:i._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})})})})]})})]})})}function De({experiences:e,suggestion:t,index:n,focusedIndex:s,query:i,onSuggestionClick:o,onSuggestionMouseEnter:r,onSuggestionMouseLeave:a,onInclusiveProductFilterClick:l}){switch(t.type){case"autocompleteupsell":return(0,E.jsx)(me,{suggestions:[t]});case"query":case"enriched_autocomplete":case"inclusive_product_filter_query":return(0,E.jsx)(je,{experiences:e,index:n,focusedIndex:s,onInclusiveProductFilterClick:l,onSuggestionClick:o,onSuggestionMouseEnter:r,onSuggestionMouseLeave:a,query:i,suggestion:t});case"user":return(0,E.jsx)(ke,{index:n,focusedIndex:s,onSuggestionClick:o,onSuggestionMouseEnter:r,onSuggestionMouseLeave:a,suggestion:t})}return null}var Le=n(702664),Ze=n(52050),Oe=n(777610),Me=n(970588),ze=n(24286),Be=n(833122),Ne=n(575794),Fe=n(586187),He=n(470792);const Ue=({handleRemove:e,id:t,isHovered:n,label:s,onClick:i,onMouseEnter:r,onMouseLeave:a,removeA11yText:l,url:c})=>(0,E.jsx)(o.xu,{"aria-selected":n?"true":"false","data-test-id":"search-suggestion",id:t,marginBottom:2,marginEnd:2,role:"option",children:(0,E.jsx)(o.iP,{accessibilityLabel:s,href:c,onMouseEnter:r,onMouseLeave:a,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{e.metaKey||e.ctrlKey||(t(),e.preventDefault(),i())},role:"link",rounding:"pill",children:(0,E.jsxs)(o.xu,{alignItems:"center",color:n?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,E.jsx)(o.xv,{align:"center",children:s}),(0,E.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,E.jsx)(o.hU,{accessibilityLabel:null!=l?l:"",icon:"cancel",iconColor:"darkGray",onClick:({event:t})=>{t.stopPropagation(),t.preventDefault(),null==e||e(s)},size:"xs"})})]})})}),qe=({id:e,isHovered:t,onClick:n,onMouseEnter:i,onMouseLeave:r,showSeeMoreOverlay:l,suggestion:c,trackClick:d,url:u})=>{var p,h,_,g,m,x;const v=(0,a.ZP)();return(0,E.jsx)(o.xu,{"aria-selected":t?"true":"false","data-test-id":"search-suggestion",id:e,marginBottom:2,paddingX:1,role:"option",children:(0,E.jsx)(o.iP,{role:"link",onMouseEnter:i,onMouseLeave:r,href:u||c.url,rounding:3,tabIndex:-1,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),d(),e.metaKey||e.ctrlKey||u||(e.preventDefault(),n())},children:(0,E.jsxs)(o.zd,{height:P.YO,rounding:3,wash:t,width:P.Gh,children:[(0,E.jsx)(o.Ee,{alt:c.label,fit:"cover",naturalHeight:null!==(p=null===(h=c.images["236x"])||void 0===h?void 0:h.height)&&void 0!==p?p:1,naturalWidth:null!==(_=null===(g=c.images["236x"])||void 0===g?void 0:g.width)&&void 0!==_?_:1,src:null!==(m=null===(x=c.images["236x"])||void 0===x?void 0:x.url)&&void 0!==m?m:""}),l&&(0,E.jsxs)(s.Fragment,{children:[(0,E.jsx)(o.xu,{dangerouslySetInlineStyle:P.H2,height:P.YO,left:!0,position:"absolute",top:!0,width:P.Gh}),(0,E.jsx)(o.xu,{alignItems:"center",display:"flex",height:P.YO,justifyContent:"center",padding:3,position:"absolute",top:!0,width:P.Gh,children:(0,E.jsx)(o.xv,{align:"center",color:"inverse",weight:"bold",children:v._('See More', 'searchBox.suggestionGroups.recentPinRep.seeMoreText', 'Text inviting users to see more of the same type of Pins')})})]})]})})})},Ge=({componentType:e,focusedIndex:t,groupIndex:n,keyPrefix:s,onSuggestionClick:i,onSuggestionMouseEnter:a,onSuggestionMouseLeave:l,seeMoreUrl:c,slpRefinementComponentStyle:d,suggestions:u,title:p})=>{const{logContextEvent:h}=(0,r.v)();return(0,E.jsxs)(o.kC,{direction:"column",gap:d?P.Lo:void 0,children:[(0,E.jsx)(o.kC,{width:"100%",children:(0,E.jsx)(Ve,{title:p,slpRefinementComponentStyle:d})}),(0,E.jsx)(o.xu,{display:"flex",wrap:!0,width:"100%",paddingX:d?P.r5:P.YP,children:u.map(((o,r)=>{const d=r===P.TD-1&&u.length===P.TD;return(0,E.jsx)(qe,{id:Q(n,r),isHovered:t===r,onClick:()=>{i(o,r)},onMouseEnter:()=>{a(r)},onMouseLeave:()=>{l()},showSeeMoreOverlay:d,suggestion:o,trackClick:()=>{h({event_type:101,component:e,element:d?179:12374,view_type:P.Ie,view_parameter:103})},url:d?c:o.url},`${s}-${r}`)}))})]})},Ve=({slpRefinementComponentStyle:e,title:t})=>(0,E.jsx)(o.xu,{alignItems:"center",display:"flex",marginTop:e?void 0:2,marginStart:e?P.r5:5,paddingY:e?void 0:2,children:(0,E.jsx)(o.xv,{lineClamp:1,weight:e?"bold":void 0,children:t})});function We({focusedIndex:e,groupIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:i,slpRefinementComponentStyle:o,suggestions:r}){const l=(0,a.ZP)();return(0,Oe.Q)({component:13844,view_parameter:103,view_type:P.Ie}),(0,E.jsx)(Ge,{componentType:13844,focusedIndex:e,groupIndex:t,keyPrefix:"recent_save",onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:i,seeMoreUrl:"/me/pins/",slpRefinementComponentStyle:o,suggestions:r,title:l._('Recently saved', 'searchBox.recentSavedSuggestions.heading', 'Recently saved Pins heading in search autocomplete')})}function $e({containerWidth:e,focusedIndex:t,groupIndex:n,onSuggestionClick:s,onSuggestionMouseEnter:i,onSuggestionMouseLeave:r,slpRefinementComponentStyle:l,suggestions:c}){const d=(0,a.ZP)(),u=(0,Le.useDispatch)(),p=async e=>{await(0,Me.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e}}),u((0,Ne.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}))},h=d._('Remove', 'Remove recent search in search typeahead suggestion', 'Remove recent search in search typeahead suggestion'),_=function({pillLabels:e,maxWidth:t}){let n=e.length;if(!t)return n;let s=0;for(let i=0;i<e.length;i+=1){const o=e[i].length*P.yY+P.Ag+P.Ub;if(!(o+s<t)){n=i;break}s+=o}return n}({pillLabels:c.map((e=>e.label)),maxWidth:e});return(0,E.jsxs)(o.kC,{direction:"column",gap:l?P.Lo:void 0,children:[(0,E.jsx)(Ve,{slpRefinementComponentStyle:l,title:d._('Recent searches', 'Recent searches heading in search autocomplete', 'Recent searches heading in search autocomplete')}),(0,E.jsx)(o.xu,{display:"flex",overflow:"hidden",paddingX:l?P.r5:P.YP,position:"relative",children:c.slice(0,_).map(((e,a)=>(0,E.jsx)(o.xu,{"data-test-id":"recent-query",children:(0,E.jsx)(Ue,{handleRemove:p,id:Q(n,a),isHovered:t===a,label:e.label,onClick:()=>{s(e,a)},onMouseEnter:()=>{i(a)},onMouseLeave:()=>{r()},removeA11yText:h,url:J({suggestion:e,query:""})})},`${e.type}-${e.label}`)))})]})}function Ye({focusedIndex:e,groupIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:i,slpRefinementComponentStyle:o,suggestions:r}){const l=(0,a.ZP)();return(0,Oe.Q)({component:13843,view_parameter:103,view_type:P.Ie}),(0,E.jsx)(Ge,{componentType:13843,focusedIndex:e,groupIndex:t,keyPrefix:"recent_view",onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:i,seeMoreUrl:"/recently-viewed/",slpRefinementComponentStyle:o,suggestions:r,title:l._('Recently viewed', 'searchBox.recentSavedSuggestions.heading', 'Recently viewed Pins heading in search autocomplete')})}function Ke({groupIndex:e,focusedIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:i,onSuggestionMouseLeave:r,searchBoxRenderStopwatch:a,suggestions:l}){const c=P.Ie,{id:d,items:u,story_type:p,title:{format:h}}=l,_=u.map((({type:e,id:t})=>e+":"+t)).join("|"),g=(0,Be.Z)({viewType:c,componentType:200,viewParameter:3467,loggingId:d,objectIdStr:d,contextLogData:{content_ids:_,story_id:d,story_type:p},impressionType:"Story",slotIndex:e});return(0,E.jsxs)(s.Fragment,{children:[(0,E.jsx)(Ve,{title:h}),(0,E.jsx)(o.xu,{display:"flex",marginBottom:5,maxWidth:832,paddingX:P.YP,ref:g,wrap:!0,children:u.slice(0,4).map(((s,l)=>{const u=t===l;return(0,E.jsx)(o.xu,{"aria-selected":u?"true":"false","data-test-id":"search-suggestion-today-bubble",id:Q(e,l),marginBottom:2,paddingX:1,role:"option",children:(0,E.jsx)(He.Z,{bubble:s,height:P.Ny,isHovered:u,onClick:()=>{n(s,l)},onMouseEnter:()=>{i(l)},onMouseLeave:()=>{r()},searchBoxRenderStopwatch:a,slotIndex:l,storyId:d,storyType:p,viewParameter:3467,viewType:c,width:P.Ny})},`story--${e}-${l}`)}))})]})}function Xe({containerWidth:e,focusedIndex:t,groupIndex:n,onSuggestionClick:s,onSuggestionMouseEnter:i,onSuggestionMouseLeave:r,searchBoxRenderStopwatch:a,slpRefinementComponentStyle:l,suggestions:c}){const{group:d}=(0,u.F)().checkExperiment("dweb_search_landing_page_refinements"),p=P.Ie,h=3467,{id:_,items:g,story_type:m,title:{format:x}}=c,v=g.map((({type:e,id:t})=>e+":"+t)).join("|"),f=(0,Be.Z)({componentType:200,contextLogData:{content_ids:v,story_id:_,story_type:m},impressionType:"Story",loggingId:_,slotIndex:n,viewParameter:h,viewType:p}),y="shopping_spotlight"===m,b=e=>64+8*e;let w=3,S=(e-b(w))/w;for(;S>1.5*ze.yF;)w+=1,S=(e-b(w))/w;const I=S/2.6;return(0,E.jsxs)(o.kC,{direction:"column",gap:l?P.Lo:void 0,children:[(0,E.jsx)(Ve,{title:x,slpRefinementComponentStyle:l}),(0,E.jsx)(o.xu,{display:"flex",marginBottom:l?void 0:5,maxWidth:l?void 0:832,paddingX:l?P.r5:P.YP,ref:f,wrap:!0,children:g.slice(0,y||"enabled_single_line_trending"===d&&2===g[0].story_category?w:void 0).map(((e,c)=>{var d,u;const x=t===c,{aux_fields:f,cover_images:b,dominant_colors:w,id:A,query:C,story_category:T,title:{format:j}}=e,k=()=>{(0,he.Z)({query:"",report:C,suggestions:g.map((e=>e.query)),type:2===e.story_category?P.KH.SEARCH_TRENDING_TEXT:P.KH.SEARCH_IDEAS_FOR_YOU})},R=y?P.Ny:P.D1,D={story_type:m,content_ids:v,grid_index:c,story_id:_};return(0,E.jsx)(o.xu,{"aria-selected":x?"true":"false","data-test-id":"search-suggestion",id:Q(n,c),marginBottom:2,marginEnd:2,role:"option",children:l?(0,E.jsx)(Ze.Z,{contextLogData:D,dominantColor:w[0],handleReport:k,height:I,id:A,image:(null===(d=b[0]["236x"])||void 0===d?void 0:d.url)||(null===(u=b[0]["474x"])||void 0===u?void 0:u.url)||"",isHovered:x,name:j,onTap:()=>{s(e,c)},onMouseEnter:()=>{i(c)},onMouseLeave:()=>{r()},searchBoxRenderStopwatch:a,slotIndex:c,url:(0,Y.Z)({query:j,referringSource:2===T?"trending":"autocomplete_bubble",bubbleId:null!=A?A:"",storyId:_,pinId:null==f?void 0:f.image_pin_id}),viewParameter:h,viewType:p,width:S}):(0,E.jsx)(Fe.Z,{bubble:e,contextLogData:D,disableTabIndex:!0,handleReport:k,height:R,imgSignature:null==f?void 0:f.image_sig,isHovered:x,onClick:()=>{s(e,c)},onMouseEnter:()=>{i(c)},onMouseLeave:()=>{r()},referringSource:2===T?"trending":"autocomplete_bubble",searchBoxRenderStopwatch:a,showFlag:2===T||115===T,slotIndex:c,storyId:_,viewParameter:h,viewType:p,width:P.Ny})},`story-${null!=T?T:""}-${n}-${A}`)}))})]})}var Je=n(965671);const Qe={searchSuggestionsContainer:{boxSizing:"content-box",overflowY:"scroll",width:"calc(100% + 17px)"}};function et({focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:n,onMouseEnter:i,onMouseLeave:r,onSuggestionClick:l,onSuggestionHovered:c,onSyopCtaClick:d,query:p,searchBoxHeight:h,searchBoxRenderStopwatch:_,showSyopHeading:g,slpRefinementComponent:m,suggestionGroups:x,width:v}){const y=(0,s.useRef)(),b=(0,a.ZP)(),{experiencesMulti:w}=(0,ne.Z)(1000315),{checkExperiment:S}=(0,u.F)(),I=S("gate_ss_articles_through_tat").anyEnabled,P=(0,Je.Z)();function A(){c(void 0)}function C(t,s,i){const o=ee(x),r=null==e?void 0:e-o[s],a=e=>{!function(e,t){c(ee(x)[e]+t)}(s,e)};switch(t.type){case"recent_query":return(0,E.jsx)($e,{containerWidth:i,focusedIndex:r,groupIndex:s,onSuggestionClick:l,onSuggestionMouseEnter:a,onSuggestionMouseLeave:A,slpRefinementComponentStyle:m,suggestions:t.items});case"recent_save":return(0,E.jsx)(We,{focusedIndex:r,groupIndex:s,onSuggestionClick:l,onSuggestionMouseEnter:a,onSuggestionMouseLeave:A,slpRefinementComponentStyle:m,suggestions:t.items});case"recent_view":return(0,E.jsx)(Ye,{focusedIndex:r,groupIndex:s,onSuggestionClick:l,onSuggestionMouseEnter:a,onSuggestionMouseLeave:A,slpRefinementComponentStyle:m,suggestions:t.items});case"story":return I&&"shopping_spotlight"===t.story_type?(0,E.jsx)(Ke,{containerWidth:i,focusedIndex:r,groupIndex:s,onSuggestionClick:l,onSuggestionMouseEnter:a,onSuggestionMouseLeave:A,searchBoxRenderStopwatch:_,slpRefinementComponentStyle:m,suggestions:t}):(0,E.jsx)(Xe,{containerWidth:i,focusedIndex:r,groupIndex:s,onSuggestionClick:l,onSuggestionMouseEnter:a,onSuggestionMouseLeave:A,searchBoxRenderStopwatch:_,slpRefinementComponentStyle:m,suggestions:t});case"blended_autocomplete":return function(e){const t=e.slice();let n=t[0];for(const l of t){var s,i;if(null!==(s=l.modified_filter_eligibility)&&void 0!==s&&s.hair_pattern||null!==(i=l.modified_filter_eligibility)&&void 0!==i&&i.skin_tone){var o,r,a;const e=(null===(o=l.modified_filter_eligibility.hair_pattern)||void 0===o?void 0:o.base_query)||(null===(r=l.modified_filter_eligibility.skin_tone)||void 0===r?void 0:r.base_query)||"",s=null===(a=l.modified_filter_eligibility.hair_pattern)||void 0===a?void 0:a.eligible_filters,{rs:i}=(0,oe.Z)({url:l.url}),c={query:e,rs:i},d=(0,f.Z)(c),u="enriched_autocomplete"===n.type&&n.image?1:0,p={eligibleHairPatternFilters:s,label:e,query:e,resultIndex:u,type:"inclusive_product_filter_query",url:d};t.splice(u,0,p),n=t[0];break}}return t}(t.items).map(((e,t)=>(0,E.jsx)(De,{experiences:w,focusedIndex:r,index:t,onInclusiveProductFilterClick:n,onSuggestionClick:l,onSuggestionMouseEnter:a,onSuggestionMouseLeave:A,query:p,suggestion:e},`search-suggestion-${e.label||""}-${e.query||""}-${e.type}-${e.url||""}-${e.image||""}`)));case"syop_cta":return(0,E.jsx)(Re,{focusedIndex:r,index:0,onSuggestionClick:d,onSuggestionMouseEnter:a,onSuggestionMouseLeave:A})}return null}return(0,E.jsx)(ie.Z,{view:2,viewParameter:103,children:x.length>0?(0,E.jsx)(o.xu,{role:"listbox",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",top:h}},left:!0,overflow:"hidden",position:"absolute",width:v||"100%",id:"SuggestionsMenu",children:(0,E.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:i,onMouseLeave:r,style:{maxHeight:t,...Qe.searchSuggestionsContainer},children:(0,E.jsxs)(o.xu,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",paddingBottom:m?"24px":"16px",paddingTop:m?"32px":"12px"}},marginStart:P?2:void 0,overflow:"hidden",ref:y,width:m?"100%":"calc(100% - 17px)",children:[g&&(0,E.jsx)(o.xu,{marginTop:4,marginStart:m?8:5,marginBottom:m?4:void 0,children:(0,E.jsx)(o.X6,{size:"500",children:(e=>e.length>0?(0,se.nk)(b._('Search your Pins for {{ query }}', 'searchBox.suggestionsMenu.searchYourPinsForQueryText', 'Heading for search autocomplete when searching your own Pins for specific query'),{query:e}):b._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins'))(p)})}),x.map(((e,t)=>{var n,s,i,r;return e.items.length?(0,E.jsx)(o.kC,{direction:"column",gap:m?10:void 0,children:(0,E.jsx)(o.xu,{children:C(e,t,null!==(i=null===(r=y.current)||void 0===r?void 0:r.getBoundingClientRect().width)&&void 0!==i?i:0)},`${p}-${e.type}-${null!==(n=null===(s=e.title)||void 0===s?void 0:s.format)&&void 0!==n?n:""}`)}):null}))]})})}):(0,E.jsx)(o.xu,{})})}var tt=n(833603);function nt({query:e,scope:t,setRecentQueries:n,setAutocompleteSuggestions:i}){const o=(0,a.ZP)(),r=(0,tt.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:t},value:e});(0,s.useEffect)((()=>{i([{items:r||[],type:"blended_autocomplete"}])}),[r,e,i,o]);const{isLoaded:l,data:c}=(0,$.Z)({name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:w.lw.PINS},noCache:!0});(0,s.useEffect)((()=>{l&&c&&function({newRecentQueries:e,setRecentQueries:t}){t(e.slice(0,P.P$).map((({label:e,query:t,url:n,type:s},i)=>({label:e,query:t,resultIndex:i,type:s,url:n}))))}({newRecentQueries:c.items,setRecentQueries:n})}),[l,c,n])}function st({focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:n,onMouseEnter:i,onMouseLeave:o,onSuggestionClick:r,onSuggestionGroupsUpdate:a,onSuggestionHovered:l,onSyopCtaClick:c,query:d,scope:u,searchBoxHeight:p,slpRefinementComponent:h,suggestionGroups:_,width:g}){const x=u===w.lw.PINS_MINE,v=m();(0,R.Z)((()=>{x||null==v||v.start()}));const{data:f}=(0,$.Z)({name:"SearchTabResource"}),{state:{recentSaves:y,recentViews:b}}=G(),[S,I]=(0,s.useState)([]),[P,A]=(0,s.useState)([]);return nt({query:d,scope:u,setRecentQueries:I,setAutocompleteSuggestions:A}),(0,s.useEffect)((()=>{const e=P.concat({items:[{type:"syop_cta",label:"",query:"",resultIndex:0,url:""}],type:"syop_cta"}),t=h?null==f?void 0:f.filter((e=>"shopping_spotlight"!==e.story_type)):f;let n;n=x?[{items:S,type:"recent_query"},{items:b,type:"recent_view"},{items:y,type:"recent_save"}]:d.length?e:[{items:S,type:"recent_query"},...t||[]],a(n)}),[P,x,a,d,f,S,y,b,u,h]),(0,E.jsx)(et,{focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:n,onMouseEnter:i,onMouseLeave:o,onSuggestionClick:r,onSuggestionHovered:l,onSyopCtaClick:c,query:d,searchBoxHeight:p,searchBoxRenderStopwatch:v,showSyopHeading:x,slpRefinementComponent:h,suggestionGroups:_,width:g})}function it({handleIconOnlyChange:e,iconOnly:t=!1,isPartner:n=!1,widthType:p="md"}){const{logContextEvent:h}=(0,r.v)(),_=(0,a.ZP)(),m=(0,i.useHistory)(),{isRTL:A}=(0,x.B)(),{checkExperiment:C}=(0,u.F)(),T=(0,i.useLocation)(),k=(0,d.En)(T);!function(){const e=(0,X.Z)();(0,$.Z)({name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:w.lw.PINS},noCache:!0}),(0,$.Z)({name:"SearchTabResource"}),(0,$.Z)(e.isLimitedLogin?null:{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:P.a3.join(","),pin_preview_count:P.sA}}})}();const{query:D,scope:L}=(0,y.Z)(T),Z=null!=D?D:"",[O,M]=(0,s.useState)(Z),[z,N]=(0,s.useState)(),F=z&&z.query?z.query:O,H=function(){const e=(0,i.useLocation)(),t=(0,X.Z)(),n=t.isAuth&&e.pathname.startsWith(`/${t.username}/`),s=e.pathname.startsWith("/recently-viewed");return n||s}();let U=null!=L?L:w.lw.PINS;H&&(U=w.lw.PINS_MINE);const[q,G]=(0,s.useState)(U),V=q===w.lw.PINS_MINE,[W,Y]=(0,s.useState)([]),[K,ne]=(0,s.useState)(),[se,ie]=(0,s.useState)(!1),[oe,re]=(0,s.useState)(!1),[ae,le]=(0,s.useState)(!1),[ce,de]=(0,s.useState)(!1),[ue,pe]=(0,s.useState)(!1),[he,_e]=(0,s.useState)(0);function ge(){ne(void 0),N(void 0)}const me=oe||ce,{setAppFocusState:xe,toggleTypeaheadOverlay:ve}=(0,I.I)(),[fe,ye]=(0,s.useState)(t);(0,s.useEffect)((()=>{ye(t)}),[t]);const{anyEnabled:be}=C("dweb_search_landing_page_refinements"),[we,Se]=(0,s.useState)(!1),[Ie,Pe]=(0,s.useState)();!function({setShouldHideGhostText:e,setSuggestionsMaxHeight:t}){function n(){var n;const s=(null===(n=document.getElementById("searchBoxContainer"))||void 0===n?void 0:n.offsetWidth)||0;e(s<=P.le),t(window.innerHeight-14-P.Fj)}(0,R.Z)((()=>(window.addEventListener("resize",n),n(),()=>{window.removeEventListener("resize",n)})))}({setShouldHideGhostText:Se,setSuggestionsMaxHeight:Pe});const[Ae,Ee]=function({shouldHideGhostText:e,isSyop:t,inputFocused:n}){const s=(0,a.ZP)(),i=(0,$.Z)({name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}});let o=s._('Search', 'searchBox.placeholder.defaultText', 'default placeholder text for search box'),r="";if(!e&&i.isLoaded&&i.data&&i.data.length>0){const e=i.data[0].text;r=i.data[0].query,o=e}return t&&(o=n?s._('Try a title or description', 'searchBox.placeholder.searchYourOwnPinsFocusedText', 'default placeholder text for input focused search box when searching Your Pins'):s._('Search your Pins', 'searchBox.placeholder.searchYourOwnPinsText', 'default placeholder text for search box when searching Your Pins')),[o,r]}({shouldHideGhostText:we,isSyop:V,inputFocused:oe}),Ce=(0,s.useRef)();function Te(){const e=(0,b.Z)(O);if(!e.length)return;const t=(0,f.Z)({query:e,rs:"ac",scope:w.lw.PINS_MINE});m.push(t)}(0,s.useEffect)((()=>{Ce.current!==me&&(me?l.Z.pause():l.Z.resume(),xe(!me),me||(ge(),M(Z)),ve(me),Ce.current=me)}),[Z,me,xe,ve]),(0,s.useEffect)((()=>{M(Z),G(U),re(!1),de(!1)}),[Z,U]);const je=(e,t,n=!1)=>{const s=n?97:101,i={};switch(O&&(i.entered_query=O,i.selected_query=e.query||void 0),e.type){case"inclusive_product_filter_query":case"recent_query":case"query":h({event_type:s,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"inclusive_product_filter_query"===e.type?"query":e.type,result_index:t,...i}});let o=J({suggestion:e,query:O,lastFocusTime:he});V&&"recent_query"===e.type&&(o=o.replace("pins","my_pins")),m.push(o);break;case"recent_save":m.push(e.url);break;case"enriched_autocomplete":case"board":case"user":h({event_type:s,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:e.type,result_index:t,...i}}),m.push(e.url);break;case"explorearticle":26===e.story_category?h({event_type:101,view_type:2,view_parameter:3467,component:13865,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_id:e.storyId,story_type:"shopping_spotlight",...i}}):h({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:{autocomplete_type:2===e.story_category?"trending":"recommended",result_index:t,...i}}),n&&m.push(J({suggestion:e,query:""}));break;case"todayarticle":h({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_type:"shopping_spotlight",...i}}),n&&m.push(J({suggestion:e,query:""}));break;case"syop_cta":Te()}ge(),re(!1),de(!1)},ke=()=>{if(F===Z&&q===U)return;const e=(0,b.Z)(F);if(!e.length)return;const t=(0,f.Z)({query:e,rs:"typed",scope:q});m.push(t)},Re=()=>{re(!0),ye(!1),e&&e(!1),n&&h({event_type:101,element:11809})};if(fe&&!oe&&!Z&&!me)return(0,E.jsx)(o.xu,{id:"searchBoxContainer",children:(0,E.jsx)(o.hU,{accessibilityLabel:_._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'accessibility label for search icon only at narrow screen width'),icon:"search",onClick:Re,size:"lg",iconColor:"gray"})});const De=function({suggestionsFocusIndex:e,suggestionGroups:t}){const n=ee(t);let s,i;if("number"==typeof e)for(let o=n.length-1;o>=0;o-=1)if(e>=n[o]){s=o,i=e-n[o];break}return"number"==typeof s&&"number"==typeof i?Q(s,i):""}({suggestionsFocusIndex:K,suggestionGroups:W}),Le="shrink"!==p&&(Z||H);let Ze="shrink"===p?"8px":0;Le&&(Ze="4px");const Oe="shrink"===p?"80vw":void 0,Me=(0,E.jsx)(g,{children:(0,E.jsx)(st,{focusIndex:K,maxHeight:Ie,onInclusiveProductFilterClick:(e,t,n)=>{const s={};O&&(s.entered_query=O),h({event_type:101,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"query",result_index:t,...s}});const i=J({suggestion:e,query:O,lastFocusTime:he,filterSelectedTerm:n});m.push(i)},onMouseEnter:()=>de(!0),onMouseLeave:()=>de(!1),onSuggestionClick:je,onSuggestionGroupsUpdate:Y,onSuggestionHovered:e=>ne(e),onSyopCtaClick:Te,query:O,scope:q,slpRefinementComponent:be,searchBoxHeight:P.XI+4,suggestionGroups:W,width:Oe})});return(0,E.jsx)(o.xu,{flex:"grow",id:"searchBoxContainer",minWidth:p&&"shrink"!==p?P.ht[p]:void 0,paddingX:2,children:(0,E.jsxs)(o.xu,{color:ae?void 0:"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:ae?"#E1E1E1":void 0}},display:"flex",height:P.XI,rounding:6,children:[(0,E.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:A?`0 16px 0 ${Ze}`:`0 ${Ze} 0 16px`,...me?{borderRadius:"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{}}},display:"flex",flex:"grow",height:"100%",onMouseEnter:()=>{le(!0)},onMouseLeave:()=>{le(!1)},position:"relative",children:[!(F||oe)&&(0,E.jsx)(o.xu,{flex:"none",marginEnd:2,children:(0,E.jsx)(o.JO,{accessibilityLabel:_._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'Search icon in search box'),icon:"search",size:16})}),k&&(0,E.jsx)(B,{handleClearMode:()=>{F===Z?m.push(`/search/pins/?q=${Z}`):G(w.lw.PINS)},scope:q}),(0,E.jsx)(v.Z,{dataTestId:"search-box-input",focusOptionId:De,isFocused:me,name:"searchBoxInput",onBlur:function(){re(!1)},onChange:function(e){M(e),ge()},onFocus:function(){_e(Date.now()),h({event_type:101,component:43,element:227}),re(!0)},onKeyDown:e=>{switch(e.keyCode){case c.Z.ENTER:{const t=te(W,K);me&&t&&e.preventDefault(),t&&se?(je(t,t.resultIndex||0,!0),ie(!1)):ke();break}case c.Z.ESCAPE:me&&e.preventDefault(),e.stopPropagation(),re(!1),de(!1);break;case c.Z.UP:me&&e.preventDefault();const[t,n]=function(e,t){const n=e.map((e=>{var t;return null!==(t=e.items.length)&&void 0!==t?t:0})).reduce(((e,t)=>e+t),0);let s;return s=null==t?n-1:0===t?void 0:t-1,[s,te(e,s)]}(W,K);ne(t),ie(!0),N(n);break;case c.Z.DOWN:{me&&e.preventDefault();const[t,n]=function(e,t){const n=e.map((e=>{var t;return null!==(t=e.items.length)&&void 0!==t?t:0})).reduce(((e,t)=>e+t),0);let s;return s=null==t?0:t===n-1?void 0:t+1,[s,te(e,s)]}(W,K);ne(t),ie(!0),N(n);break}case c.Z.TAB:Ee&&!O&&me&&(e.preventDefault(),e.stopPropagation(),M(Ee))}},onSearchTrigger:ke,placeholder:Ae,value:F}),F||n&&Le||me?(0,E.jsx)(o.xu,{flex:"none",marginStart:3,children:(0,E.jsx)(S.Z,{id:"search-cancel",children:(0,E.jsx)(o.hU,{accessibilityLabel:_._('Remove search input', 'searchBox.removeSearchInput.accessibilityLabel', 'Accessibility label to remove the search input'),icon:Z?"cancel":"clear",iconColor:"darkGray",onClick:()=>{if(M(""),G(w.lw.PINS),ge(),Z){const e=(0,f.Z)({query:"",rs:"remove"});m.push(e)}else n&&e&&e(!0)},size:Z?"sm":"lg"})})}):null,me&&Me]}),Le?(0,E.jsxs)(s.Fragment,{children:[(0,E.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,E.jsx)(j,{currentlySelectedFilter:q,currentQuery:Z,handleContentTypeFilterHover:()=>{n&&pe(ue)},handleScopeChange:function(e){G(e),re(n&&!O),ge()}})]}):null]})})}function ot(e){return(0,E.jsx)(V,{children:(0,E.jsx)(it,{...e})})}},149139:(e,t,n)=>{n.d(t,{Ag:()=>_,D1:()=>m,Fj:()=>u,Gh:()=>b,H2:()=>y,Ie:()=>S,KH:()=>w,Lo:()=>r,Ny:()=>x,P$:()=>p,TD:()=>v,Ub:()=>g,XI:()=>s,YO:()=>f,YP:()=>o,a3:()=>c,ht:()=>a,le:()=>d,r5:()=>i,sA:()=>l,yY:()=>h});const s=48,i=8,o=4,r=4,a={md:407,sm:332},l=7,c=["pin.description","pin.id","pin.images[236x]"],d=360,u=76,p=5,h=7.5,_=40,g=24,m=84,x=192,v=7,f=116,y={__style:{backgroundColor:"rgba(0,0,0, .4)"}},b=90,w={AUTOCOMPLETE:0,SEARCH_TRENDING_TEXT:2,SEARCH_IDEAS_FOR_YOU:3},S=2},681557:(e,t,n)=>{n.d(t,{A:()=>a,N:()=>l});var s=n(667294),i=n(583592),o=n(785893);const{Provider:r,useHook:a}=(0,i.Z)("ModeIcon");function l({children:e,value:t={modeIcon:null}}){const[n,i]=(0,s.useState)(t),a=(0,s.useMemo)((()=>({searchContext:n,updateSearchContext:i})),[n,i]);return(0,o.jsx)(r,{value:a,children:e})}},491418:(e,t,n)=>{n.d(t,{Z:()=>r,b:()=>a});var s=n(667294);const i=(0,s.createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{}});var o=n(785893);function r({children:e}){const[t,n]=(0,s.useState)(null),[r,a]=(0,s.useState)(null),[l,c]=(0,s.useState)(!1),d=(0,s.useMemo)((()=>({inboxButton:t,setInboxButton:n,profileInboxButton:r,setProfileInboxButton:a,isUnblockToast:l,setIsUnblockToast:c})),[t,r,l]);return(0,o.jsx)(i.Provider,{value:d,children:e})}function a(){const e=(0,s.useContext)(i);if(void 0===e)throw new Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},949903:(e,t,n)=>{n.d(t,{AI:()=>B,AM:()=>b,AY:()=>G,C:()=>Y,Cc:()=>l,DX:()=>k,GO:()=>M,HJ:()=>r,Hj:()=>p,I2:()=>H,IV:()=>i,J0:()=>x,LL:()=>$,OBJECT_TYPE:()=>s,P:()=>P,P3:()=>m,QX:()=>K,Rd:()=>I,So:()=>f,V$:()=>d,WC:()=>C,ZH:()=>L,aE:()=>g,c4:()=>A,cU:()=>E,ci:()=>T,di:()=>F,f_:()=>u,gb:()=>V,gs:()=>O,hf:()=>N,hp:()=>z,hy:()=>o,iJ:()=>h,ie:()=>v,kJ:()=>q,kc:()=>S,mM:()=>j,os:()=>c,qZ:()=>w,qb:()=>y,ti:()=>W,uW:()=>Z,uZ:()=>a,wA:()=>_,yc:()=>D,ys:()=>U,zM:()=>R});const s={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},i=3,o=360,r=375,a=64,l=36,c=36,d=344,u=328,p=8,h=156,_=164,g=328,m=164,x=108.7,v=3,f=82,y=82,b=164,w=164,S=4,I=164,P=164,A=2,E=82,C=164,T=2,j=2,k=4,R=328,D="290x",L="170x",Z={backgroundColor:"rgba(0, 0, 0, 0.4)"},O=4,M="1px",z=48,B=32,N=36,F="136x136",H=2,U=4,q=118,G=236,V={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18},W=e=>"31"==`${String(e)}`,$="recommendation",Y="dropdown_item_settings_id",K=10},946426:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(883119),i=n(806681),o=n(785893);const r=4;function a(e,t){return t?"primary":e?"tertiary":void 0}function l({colors:e,isSelected:t,onClick:n}){const l=56+2*r,c=84+2*r;return(0,o.jsx)(i.q,{children:({hovered:i,onMouseEnter:d,onMouseLeave:u})=>(0,o.jsx)(s.kC,{alignItems:"center",height:l,justifyContent:"start",children:(0,o.jsx)(s.iP,{mouseCursor:"pointer",onMouseEnter:d,onMouseLeave:u,onTap:n,rounding:"pill",children:(0,o.jsx)(s.xu,{alignItems:"center",color:a(i,t),display:"flex",height:l,justifyContent:"center",rounding:"pill",width:c,children:(0,o.jsx)(s.xu,{alignItems:"center",color:"default",display:"flex",height:l-r,justifyContent:"center",rounding:"pill",width:c-r,children:(0,o.jsx)(s.xu,{display:"flex",height:56,overflow:"hidden",rounding:"pill",width:84,wrap:!0,children:e.map(((e,t)=>(0,o.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:28,width:42},`${e}-${t}`)))})})})})})})}},618305:(e,t,n)=>{n.d(t,{W:()=>d,Z:()=>p});var s=n(667294),i=n(883119),o=n(388011),r=n(696508),a=n(536042),l=n(946426),c=n(785893);const d=[["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],["#DEBAB0","#E0999A","#DDA67C","#D98A64"],["#9A6B52","#A25847","#B37143","#BF6951"],["#683929","#34261F","#64281B","#4F2221"]],u=[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}];function p({currentlyAppliedFiltersParamTerm:e,filterTones:t=u,onClickApplyFilters:n,query:p,showHeaderText:h=!0}){const{logContextEvent:_}=(0,o.v)(),g=(0,a.ZP)(),m=(0,s.useRef)(null),x=(0,s.useRef)(null),v=e?g._('Some ideas in this skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text'):g._('Pick a skin tone range', 'SkinToneFilters.copy.noTermSelected', 'Skin tone filters text');return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsxs)(i.kC,{alignItems:h?"center":"start",direction:"column",justifyContent:"start",children:[h&&(0,c.jsx)(i.xu,{marginBottom:2,children:(0,c.jsx)(i.xv,{color:"default",overflow:"normal",weight:"bold",children:v})}),(0,c.jsx)(i.xu,{display:"flex",flex:"none",paddingX:1,ref:m,children:t.map((({term:t},s)=>(0,c.jsx)(i.xu,{"data-test-id":"skin-tone-option",dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:(0,c.jsx)(l.Z,{colors:d[s],isSelected:e===t,onClick:()=>(t=>{var s;const i=e===t?"":t;_({event_type:101,component:47,element:10418,view_type:2,aux_data:{entered_query:p,filter_type:"skin_tone",value:i}}),null===(s=x.current)||void 0===s||s.complete(),n(i)})(t)})},t)))})]}),m&&(0,c.jsx)(r.Z,{anchor:m.current,experienceIds:[502978],idealDirection:"right",onExperienceMount:e=>{e.complete&&502978===e.experience_id&&(x.current=e)},placementId:29})]})}},965671:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(245410),i=n(802071);function o(){const{checkExperiment:e}=(0,s.F)(),t=(0,i.Z)();return Boolean(t.isPartner)&&e("aid_exp_ia_navigation_update_search").anyEnabled}},69999:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(667294),i=n(819079),o=n(510525);const r=5e3,a=2e3,l=9e5;function c(){const e=(0,s.useRef)(0),t=(0,s.useRef)(null),n=(0,i.Z)({name:"NewsHubBadgeResource",noCache:!0,headers:{"X-Pinterest-AppState":"background"}}),c=(0,i.Z)({name:"ConversationsResource",noCache:!0}),{conversations:{unread:d}}=(0,o.Z5)();function u(){t.current&&clearTimeout(t.current),n.refresh(),t.current=setTimeout(u,a+e.current),e.current=Math.min(2*(e.current||r),l)}return(0,s.useEffect)((()=>(u(),function(){t.current&&clearTimeout(t.current)})),[]),(0,s.useEffect)((()=>c.refresh()),[d]),null}},672632:(e,t,n)=>{n.d(t,{Z:()=>J});var s=n(667294),i=n(802071),o=n(616550),r=n(883119),a=n(604094),l=n(297776),c=n(536042),d=n(643183),u=n(739425),p=n(510525);const h={NEWS_HUB:1,INBOX:2};var _=n(726667),g=n(151757),m=n(785893);function x({badgeCount:e=0,icon:t="speech-ellipsis",onClick:n,selected:s=!1}){const i=(0,c.ZP)(),o={bell:i._('Notifications', ' - ', ' -- '),"speech-ellipsis":i._('Messages', ' - ', ' -- ')};return(0,m.jsx)(g.Z,{accessibilityLabel:o[t],contextData:{event:101,component:8,element:1187},icon:(0,m.jsx)(_.Z,{count:e,accessibilityLabel:"",color:s?"default":"subtle",icon:t,iconSize:24}),onClick:n,text:o[t],type:"button"},"NotificationsButton")}var v=n(949903),f=n(589665),y=n(219952);const b=()=>n.e(74291).then(n.bind(n,474291)),w=(0,s.lazy)(b);function S({onClearBadges:e}){const t=(0,c.ZP)(),n=(0,o.useLocation)(),i=(0,s.useRef)(null),[_,g]=(0,s.useState)(!1),[S,I]=(0,s.useState)(!1),[P,A]=(0,s.useState)(!1),[E,C]=(0,s.useState)(!1),{tab:T,utm_source:j,news_hub_id:k}=(0,u.mB)(n.search),R=j||null,D=k||null,{conversations:{conversationsUnseenCount:L,newsHubCount:Z}}=(0,p.Z5)(),O=e=>{const n=Math.max(e,0),s=t._('Pinterest', ' - ', ' -- ');window.document.title=n?`(${n}) ${s}`:s};(0,s.useEffect)((()=>{O(L+Z),n.pathname.startsWith("/notifications")&&"inbox"!==T&&g(!0)}),[L,Z]);const M=(0,v.ti)(R),z=()=>{g(!_),e(h.NEWS_HUB),O(0)};return(0,s.useEffect)((()=>{const e=setTimeout((()=>{I(_),A(_)}),100);return()=>clearTimeout(e)}),[_]),(0,m.jsxs)(s.Fragment,{children:[M?(0,m.jsxs)(r.xu,{children:[(0,m.jsx)(r.xu,{onMouseEnter:b,position:"relative",ref:i,children:(0,m.jsx)(x,{badgeCount:Z,onClick:z,icon:"bell",selected:_})}),(0,m.jsx)(l.default,{anchor:i.current,experienceIds:[503023],placementId:1000109,showCaret:!0})]}):(0,m.jsx)(r.xu,{onMouseEnter:b,position:"relative",ref:i,children:(0,m.jsx)(r.u,{accessibilityLabel:"",text:t._('Notifications', 'navbar.newsButton.tooltip', 'Tooltip text for icon button to show recent notifications'),zIndex:new r.H3([new r.Ry(f.fe)]),children:(0,m.jsx)(x,{badgeCount:Z,onClick:z,icon:"bell",selected:_})})}),(0,m.jsx)(y.Jo,{children:(0,m.jsx)("div",{className:"newsHubSidebarWrapper",style:_?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:S&&(0,m.jsx)(a.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,m.jsx)(d.Z,{children:(0,m.jsx)(w,{newsButton:i.current,handleDismissPanel:()=>{g(!1),C(!1)},show:P,highlightScrollSidebar:E,utmNewsHubId:D})})})})})]})}var I,P=n(167912),A=n(690108),E=n(279409),C=n(245410),T=n(819079),j=n(716793);const k=(0,E.Z)(j.Z);class R extends s.Component{constructor(...e){var t,n,s;super(...e),s=e=>{e===h.NEWS_HUB?(A.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(n="handleClearBadges")in(t=this)?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;const t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map((e=>t[e]!==n[e])).filter(Boolean).length:!(t||!n)}componentDidUpdate(){const{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:n}=this.props;if(!e||!e.data)return;const s=k(e.data);n(s.conversationsUnseenCount),t(s.newsHubCount)}render(){const{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function D({conversationBadgeCall:e,children:t}){const{checkExperiment:n}=(0,C.F)(),{anyEnabled:s}=n("web_unread_conversation_badging_gate",{dangerouslySkipActivation:!0}),i=(0,T.Z)({name:"NewsHubBadgeResource",noCache:!0}),{conversations:{conversationsUnseenCount:o,newsHubCount:r},updateNewsHubCount:a,updateUnreadCount:l}=(0,p.Z5)();return(0,m.jsx)(R,{badgeResource:i,conversationsUnseenCount:o,newsHubCount:r,shouldPersistConversationBadge:s,updateNewsHubCount:a,updateUnreadCount:l,conversationBadgeCall:e,children:t})}const L=()=>{const e=void 0!==I?I:I=n(100634),[t]=(0,P.useMutation)(e);return async()=>await new Promise(((e,n)=>{t({variables:{},onCompleted:(t,s)=>{s&&n(s[0]),e(t)},onError:e=>n(e)})}))};function Z({children:e}){return(0,m.jsx)(D,{conversationBadgeCall:L(),children:e})}function O({icon:e,children:t}){const[n,i]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{i(!0)}),[]),n?(0,m.jsx)(Z,{children:t}):(0,m.jsx)(r.xu,{paddingX:1,children:(0,m.jsx)(r.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:(0,m.jsx)(r.JO,{color:"subtle",icon:e,size:24,accessibilityLabel:""})})})}function M(){return(0,m.jsx)(O,{icon:"bell",children:({onClearBadges:e})=>(0,m.jsx)(S,{onClearBadges:e})})}var z=n(133636),B=n(846226),N=n(63262),F=n(491418),H=n(621699),U=n(550140);const q=7e3;function G({onHide:e,lastConversation:t}){const{dropdownOpen:n,conversationOpen:s}=(0,p.Z5)(),i=(0,c.ZP)();if(!(e&&t&&t.last_message&&t.last_message.sender))return;const{sender:o}=t.last_message,a=o.first_name?o.first_name:o.username,l=(0,m.jsx)(H.Z,{size:"sm",name:a||"Someone",src:o.image_large_url}),d=t.last_message.pin?i._('sent you a Pin!', 'navbar.messageNotifications.text', 'Message notification text'):i._('sent you a message!', 'navbar.messageNotifications.text', 'Message notification text'),u=(0,m.jsxs)(r.xv,{color:"light",inline:!0,children:[" ",(0,m.jsxs)(r.xv,{weight:"bold",color:"light",inline:!0,children:[a," "]}),d]});return(0,m.jsx)(r.kC,{alignContent:"center",alignItems:"stretch",justifyContent:"start",children:(0,m.jsx)(r.iP,{onTap:()=>{e(),n(),s(t.id)},fullWidth:!0,children:(0,m.jsx)(U.ZP,{onHide:e,duration:q,primaryAction:{accessibilityLabel:"Open chat",label:"View"},thumbnail:{avatar:l},text:u})})})}function V({anchor:e,lastConversation:t}){const{dropdownOpen:n,conversationOpen:s}=(0,p.Z5)(),i=(0,c.ZP)();if(!t||!t.unread)return null;const o=t.last_message;if(!o||!o.sender||Date.now()-o.created_ms>q)return null;const{sender:a}=o,l=a.first_name?a.first_name:a.username,d=(0,m.jsx)(H.Z,{size:"sm",name:l||"Someone",src:a.image_large_url}),u=o.pin?i._('sent you a Pin!', 'navbar.messageNotifications.text', 'Message notification text'):i._('sent you a message!', 'navbar.messageNotifications.text', 'Message notification text'),h=(0,m.jsxs)(r.xv,{color:"light",inline:!0,children:[" ",(0,m.jsxs)(r.xv,{weight:"bold",color:"light",inline:!0,children:[l," "]}),u]}),_=new r.Ry(1e3);return(0,m.jsx)(r.mh,{zIndex:new r.H3([_]),children:(0,m.jsx)(r.iP,{onFocus:()=>{n(),s(t.id)},children:(0,m.jsx)(r.xu,{marginTop:0,display:"flex",alignContent:"center",position:"fixed",children:(0,m.jsx)(r.Li,{accessibilityLabel:"New message notification",onDismiss:()=>{},anchor:e,idealDirection:"down",size:"flexible",role:"tooltip",children:(0,m.jsxs)(r.xu,{padding:2,alignItems:"center",display:"flex",direction:"row",width:310,alignContent:"center",children:[(0,m.jsx)(r.xu,{padding:2,children:d}),(0,m.jsxs)(r.xu,{display:"flex",direction:"row",padding:2,children:[h,(0,m.jsx)(r.zx,{text:"View"})]})]})})})})})}var W=n(565868);function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Y extends s.Component{constructor(...e){super(...e),$(this,"setButtonRef",(e=>{const{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))})),$(this,"clearBadges",(()=>{const{onClearBadges:e}=this.props;e(h.INBOX),this.updateBrowserTabTitleCount(0)})),$(this,"handleButtonClick",(e=>{const{requireAuth:t,showPanel:n,closeConversationsDropdown:s,openConversationsDropdown:i}=this.props;if(t)return e&&e.stopEventPropagation(),void t();n?s():i(),this.clearBadges(),this.onComplete&&this.onComplete()}))}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(e){var t,n;const{messageNotificationType:s,lastConversation:i}=this.props;if("enabled_toast"===s&&i&&i.unread>0&&e.lastConversation&&(null===(t=i.last_message)||void 0===t?void 0:t.id)!==(null===(n=e.lastConversation.last_message)||void 0===n?void 0:n.id)){const e=i.last_message?i.last_message.created_ms:0;Date.now()-e<7e3&&this.props.handleMessageToast()}this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){const{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){const{i18n:t}=this.props,n=Math.max(e,0),s=t._('Pinterest', ' - ', ' -- ');window.document.title=n?`(${n}) ${s}`:s}render(){const{conversationsUnseenCount:e,i18n:t,showPanel:n,lastConversation:s,messageNotificationType:i}=this.props;return(0,m.jsxs)(r.xu,{position:"relative",ref:this.setButtonRef,children:[(0,m.jsx)(r.u,{accessibilityLabel:"",text:t._('Messages', 'navbar.conversationsButton.tooltip', 'Tooltip text for icon button to show conversations inbox'),zIndex:new r.H3([new r.Ry(f.fe)]),children:(0,m.jsx)(B.Z,{id:"notifications-button",children:(0,m.jsx)(x,{badgeCount:e,onClick:this.handleButtonClick,icon:"speech-ellipsis",selected:n})})}),i&&(0,m.jsx)(W.Z,{name:"ConversationsResource",options:{field_set_key:"default"},delay:7e3}),"enabled_popup"===i&&(0,m.jsx)(V,{anchor:this.anchor,lastConversation:s})]})}}function K(e){const t=(0,c.ZP)(),n=(0,z.Z)(),{conversations:{conversationsUnseenCount:s,newsHubCount:i,showConversationsDropdown:o},dropdownClose:r,dropdownOpen:a}=(0,p.Z5)(),{checkExperiment:l}=(0,C.F)(),{setInboxButton:d}=(0,F.b)(),u=(0,p.iu)(),h=u?u[0]:null,_=!o&&h&&l("web_message_notifications").group,{showOneToast:g}=(0,N.F9)();return(0,m.jsx)(Y,{...e,handleMessageToast:()=>{h&&h.unread>0&&"enabled_toast"===_&&g((({hideToast:e})=>(0,m.jsx)(G,{lastConversation:h,onHide:e})))},messageNotificationType:"enabled_popup"===_||"enabled_toast"===_?_:null,lastConversation:h,closeConversationsDropdown:r,conversationsUnseenCount:s,i18n:t,newsHubCount:i,openConversationsDropdown:a,requireAuth:n,setInboxButton:d,showPanel:o})}function X(){return(0,m.jsx)(O,{icon:"speech-ellipsis",children:({onClearBadges:e})=>(0,m.jsx)(K,{onClearBadges:e})})}function J(){const{should_show_messaging:e}=(0,i.Z)();return(0,m.jsxs)(s.Fragment,{children:[(0,m.jsx)(M,{}),e&&(0,m.jsx)(X,{})]})}},182474:(e,t,n)=>{n.d(t,{p:()=>s});const s=(e,t,n)=>({type:"MOST_RECENT_BOARD",payload:{id:e,name:t,url:n}})},319416:(e,t,n)=>{n.d(t,{Cp:()=>h,GT:()=>l,V6:()=>r,W2:()=>d,W6:()=>_,_L:()=>p,fm:()=>a,hT:()=>c});var s=n(690108),i=n(130971),o=n(575794);function r(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}const a=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),l=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}});function c(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}const d=(e,t,n)=>s=>{s({type:"USER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})},u=e=>{const t=e.split(" ");return{first_name:t[0],last_name:t[1]}},p=({field:e,value:t,passcode:n,onSettingSavedHn:i,showErrorHn:r,surfaceTag:a,userId:l})=>(c,p)=>{const h=p().users[l],_={user_id:l,surface_tag:a};if("full_name"===e)if(h.is_partner)_.business_name=t;else{const e=u(t);_.first_name=e.first_name,_.last_name=e.last_name||""}else _[e]=t;n&&(_.passcode=n),s.Z.create("UserSettingsResource",_).callUpdate().then((()=>{if("profile_image_url"===e)c((0,o.b)("UserResource",{options:_}));else if("full_name"===e)if(h.is_partner)c(d(l,"first_name",t));else{const e=u(t);c(d(l,"first_name",e.first_name)),c(d(l,"last_name",e.last_name))}!h.is_partner||"account_type"!==e&&"contact_name"!==e?c(d(l,e,t)):c(((e,t,n)=>s=>{s({type:"USER_PARTNER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})})(l,e,t)),i()}),r)},h=(e,t,n,s,o,r)=>()=>{(0,i.Z)({new:t,new_confirm:n,old:e,passcode:s}).then(o,r)},_=(e,t,n,i,o,r)=>a=>{a(d(e,`${t}.${n}`,i));let l={},c="EmailSettingsResource";void 0!==o?(l={section:t,option:n,value:i,od:o.od,user_id:o.user_id},c="UnsubEmailSettingsResource"):l={section:t,option:n,value:i},s.Z.create(c,l).callUpdate().then(r).catch((()=>a(d(e,`${t}.${n}`,!i))))}},139705:(e,t,n)=>{n.d(t,{Z:()=>s});const s=(0,n(667294).createContext)(!1)},486526:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(667294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends s.Component{constructor(...e){super(...e),i(this,"stop",(()=>{this.interval&&(clearInterval(this.interval),delete this.interval)})),i(this,"interval",null)}componentDidMount(){const{cb:e,delay:t}=this.props;this.interval=setInterval(e,t)}componentWillUnmount(){this.stop()}render(){return null}}},481365:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),i=n(702664),o=n(31086),r=n(575794),a=n(33319),l=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends s.Component{constructor(...e){super(...e),c(this,"fetch",(()=>{const{dispatch:e,name:t,options:n}=this.props;e((0,r.U)(t,{options:n}))})),c(this,"fetchMore",(()=>{const{dispatch:e,name:t,nextBookmark:n,options:s}=this.props;n&&e((0,r.U)(t,{options:s,bookmark:n}))}))}componentDidMount(){const{allowStale:e=!0,data:t}=this.props;e&&t||this.fetch()}componentWillUnmount(){this.interval&&(clearInterval(this.interval),delete this.interval)}render(){const{children:e,data:t,isAtEnd:n,isFetching:s}=this.props;return e?e({refresh:this.fetch,loadMore:this.fetchMore,data:t,isAtEnd:n,isFetching:s}):null}}function u(e){const t=(0,o.Z)(e.options||{}),n=(0,i.useSelector)((n=>{var s;return n.resources&&n.resources[e.name]&&(null===(s=n.resources[e.name][t])||void 0===s?void 0:s.fetching)||!1})),s=(0,i.useSelector)((n=>n.resources&&n.resources[e.name]&&n.resources[e.name][t]?n.resources[e.name][t].data:null)),r=(0,i.useSelector)((n=>{var s;return n.resources&&n.resources[e.name]&&(null===(s=n.resources[e.name][t])||void 0===s?void 0:s.nextBookmark)})),c=(0,i.useSelector)((n=>!!(n.resources&&n.resources[e.name]&&n.resources[e.name][t])&&r===a.q)),u=(0,i.useDispatch)();return(0,l.jsx)(d,{...e,isFetching:n,data:s,nextBookmark:r,isAtEnd:c,dispatch:u})}},565868:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(486526),i=n(481365),o=n(785893);function r(e){const{name:t,options:n,delay:r}=e;return(0,o.jsx)(i.Z,{name:t,options:n,allowStale:!1,children:({refresh:e})=>(0,o.jsx)(s.Z,{cb:e,delay:r})})}},578369:(e,t,n)=>{function s(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function i(e){return s("/admin/",e)}function o(e){return s("/admin/oauth/logout/",e)}function r(e){return s("/today/",e)}n.d(t,{HF:()=>i,Kn:()=>o,tG:()=>r})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopPageWrapper-ef0dd5ff1b400a0c.mjs.map