(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[99551],{874965:(e,r,n)=>{n.d(r,{b:()=>d,h:()=>u});var a=n(758579),t=n(78309),i=n(969327),s=n(946618),o=n(354428),l=n(3060),c=n(204926);const d=({href:e,pinId:r,pin:n,location:c,auxData:d},u)=>{if(n&&n.is_promoted){var p,_,m,h;const P=(0,s.Z)({boardUrl:null===(p=n.board)||void 0===p?void 0:p.url,location:c,pinId:n.id,pinnerUserName:null===(_=n.pinner)||void 0===_?void 0:_.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}),I=(0,o.nS)({url:e,pinId:r,csrId:null,clientTrackingParams:P,auxData:d}),w=(0,a.Z)();if((0,i.G6)(null!==(m=null==w?void 0:w.userAgent.browserName)&&void 0!==m?m:"")){var g,v;const{group:a}=null!==(g=null==w?void 0:w.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==g?g:{},i=null!=w&&null!==(v=w.userAgent)&&void 0!==v&&v.browserVersion?w.userAgent.browserVersion:"0.0",s=parseFloat(i.split(".")[0]+"."+i.split(".")[1]);if(void 0!==n.campaign_id&&s>=14.1&&["enabled_safari"].includes(a)){var k;const a=n.attribution_source_id?((e,r,n)=>{const a=document.createElement("a");return a.setAttribute("href",r),a.setAttribute("target","_blank"),a.setAttribute("rel","noopener nofollow noreferrer"),a.style.cursor="pointer",a.style.display="block",a.setAttribute(t.$N.ATTRIBUTION_SOURCE_ID,e),a.setAttribute(t.$N.ATTRIBUTE_DESTINATION,n),a.setAttribute(t.$N.ATTRIBUTE_ON,n),a.click(),e})(n.attribution_source_id,I,e):((e,r,n)=>{const a=document.createElement("a");a.setAttribute("href",r),a.setAttribute("target","_blank"),a.setAttribute("rel","noopener nofollow noreferrer"),a.style.cursor="pointer",a.style.display="block";const i=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return a.setAttribute(t.$N.ATTRIBUTION_SOURCE_ID,i),a.setAttribute(t.$N.ATTRIBUTE_DESTINATION,n),a.setAttribute(t.$N.ATTRIBUTE_ON,n),a.click(),i})(null!==(k=n.pin_promotion_id)&&void 0!==k?k:0,I,e);return u({event_type:101,clientTrackingParams:P,object_id_str:r||"",aux_data:{pin_id:r||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_pcm:!0,attribution_source_id:a,page_url:e}}),!0}}else if((0,i.i7)(null!==(h=null==w?void 0:w.userAgent.browserName)&&void 0!==h?h:"")){var b,f;const{group:a}=null!==(b=null==w?void 0:w.experimentsClient.checkExperiment("m10n_event_conversion_measurement_chrome"))&&void 0!==b?b:{},i=null!=w&&null!==(f=w.userAgent)&&void 0!==f&&f.browserVersion?parseInt(w.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==n.attribution_source_id&&i>=101&&["enabled"].includes(a)){var y;const a=((e,r,n)=>{const a=new URL(`${l.C0}/attribution_source/`);a.searchParams.set(t.NR.SOURCE_EVENT_ID,e),a.searchParams.set(t.NR.DESTINATION,n),a.searchParams.set(t.NR.EXPIRY,""+t.uV),a.searchParams.set(t.NR.SOURCE_EVENT_TYPE,"click");const i=document.createElement("a");return i.setAttribute("href",r),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(t.NR.SOURCE,a.toString()),i.click(),e})(null!==(y=n.attribution_source_id)&&void 0!==y?y:"0",I,e);return u({event_type:101,clientTrackingParams:P,object_id_str:r||"",aux_data:{pin_id:r||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_arapi:!0,attribution_source_id:a,page_url:e}}),!0}}}return!1},u=({href:e,pinId:r,pin:n,location:a,auxData:t},i)=>{if("undefined"!=typeof window&&window.Windows)(0,c.Z)({url:e,pinId:r,pin:n,location:a,auxData:t});else{var l,u;if(d({href:e,pinId:r,pin:n,location:a,auxData:t},i))return;(0,o.Gj)({url:e,pinId:r,csrId:null,clientTrackingParams:(0,s.Z)({boardUrl:null==n||null===(l=n.board)||void 0===l?void 0:l.url,location:a,pinId:null==n?void 0:n.id,pinnerUserName:null==n||null===(u=n.pinner)||void 0===u?void 0:u.username,storyPinDataId:null==n?void 0:n.story_pin_data_id,trackingParams:null==n?void 0:n.tracking_params,trackingParamsMap:null==n?void 0:n.tracking_params_map}),auxData:t})}}},946618:(e,r,n)=>{n.d(r,{Z:()=>l});var a=n(739425);const t=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,i=/\/discover\/article\/[\w-]+\/(\d+)/,s=(e,r)=>r?e.substring(r.length).split("/")[0]:e,o=({boardUrl:e,path:r,pinId:n,pinnerUserName:o,query:l,search:c,storyPinDataId:d})=>{var u,p;if(!r)return"";let _="";switch(r){case"/":case"/homefeed/":return"UserHomefeedResource";case o&&`/${o}/pins/`:return"UserPinsResource";case o&&`/${o}/`:case/\/_activity\//.test(r)&&r:return"UserActivityPinsResource";case/\/_created\//.test(r)&&r:return d?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(r)&&r:return"UserDiscoveredPinsResource";case/\/_shop\//.test(r)&&r:return"StoreFrontFeedResource";case/\/_saved\//.test(r)&&r:return"BoardlessPinsResource";case o&&`/${o}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(r)&&r:return"VisualLiveSearchResource";case/\/pin\//.test(r)&&r:_="/pin/";const m=s(r,_);if(n!==m)return`RelatedPinFeedResource_${m}`;break;case/\/search\//.test(r)&&r:if(c){return`SearchResource_${((0,a.mB)(c,{shouldDecode:!1}).q||"").toLowerCase()}`}if(l)return`SearchResource_${encodeURIComponent(l.q||"").toLowerCase()}`;break;case i.test(r)&&r:return`ExploreArticleResource_${(null===(u=r.match(i))||void 0===u?void 0:u[2])||"unknown"}`;case/\/discover\/article\//.test(r)&&r:_="/discover/article/";return`ExploreArticleResource_${s(r,_)}`;case/\/categories\//.test(r)&&r:_="/categories/";return`CategoryFeedResource_${s(r,_)}`;case/\/discover\/topics\//.test(r)&&r:return"CategoryFeedResource";case/\/news_hub\//.test(r)&&r:_="/news_hub/";return`NewsHubDetailsResource_${s(r,_)}`;case/\/_tools\/more-ideas\//.test(r)&&r:return"BoardContentRecommendationResource";case/\/topics\//.test(r)&&r:_="/topics/";return`TopicFeedResource_${s(r,_)}`;case o&&`/${o}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(r)&&r:_="/source/";return`DomainFeedResource_${s(r,_)}`;case/\/explore\//.test(r)&&r:_="/explore/";return`SearchResource_${s(r,_)}`;case e:case!!e&&/\/more_ideas\//.test(r)&&r:return"BoardFeedResource";case e&&r.indexOf(e)>-1&&r:return"BoardSectionPinsResource";case/\/following\//.test(r)&&r:return"FollowingFeedResource";case/\/brand_catalog\//.test(r)&&r:return"BrandCatalogFeedResource";case t.test(r)&&r:return`TodayArticleFeedResource_${(null===(p=r.match(t))||void 0===p?void 0:p[2])||"unknown"}`;case/\/today\//.test(r):return"TodayTabResource";case/\story_feed\//.test(r)&&r:if(c){const{feed_type:e,request_params:r}=(0,a.mB)(c);return`StoryFeedResource_${e}_${r}`}}return""},l=({boardUrl:e,location:r,pinId:n,pinnerUserName:a,previousHistory:t,storyPinDataId:i,trackingParams:s,trackingParamsMap:l={}})=>{if(!n||!s||!r)return;if(!l)return`${s}~0`;const{pathname:c,search:d,query:u}=r,p=o({boardUrl:e,path:c,pinId:n,pinnerUserName:a,query:u,search:d,storyPinDataId:i,trackingParams:s,trackingParamsMap:l}),_=Object.keys(l);let m;if((c||"").startsWith("/pin/")){const e=_.find((e=>"PinResource"!==e));m=e?l[e]:l.PinResource}else m=l[p];let h;if(!m&&t&&t.length){const r=(e=>{let r=null==e?void 0:e.pathname;return r?(r.match(/\/search\//)&&null!=e&&e.search&&(r+=e.search),r.toLowerCase()):""})(t[t.length-1].location);h=o({boardUrl:e,path:r,pinId:n,pinnerUserName:a,query:u,search:d,storyPinDataId:i,trackingParams:s,trackingParamsMap:l}),m=l[h]}return m||(m=`${s||""}~0`),m}},354428:(e,r,n)=>{n.d(r,{nS:()=>y,iw:()=>I,gV:()=>b,G3:()=>w,lI:()=>R,Gj:()=>P,Jd:()=>k,$3:()=>f});var a=n(874965),t=n(965533),i=n(946618),s=n(457628),o=n(791045),l=n(970588),c=n(898252),d=n(250307);const u=e=>"string"!=typeof e&&e?e.state:null;var p=n(845098),_=n(48040),m=n(957733),h=n(625168),g=n(204926),v=n(795142);const k=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},b=({isOffsiteUrl:e,event:r})=>!e&&(r.metaKey||r.ctrlKey),f=({location:e,pin:{id:r,is_downstream_promotion:n,promoter:a},surface:t})=>!(0,c.jL)(n,!!a)&&(({location:e,pinId:r,surface:n})=>{const a=Boolean(n),t=v.ZF.includes(n),i=e.pathname.includes(r);return a&&!t||i})({location:e,pinId:r,surface:t}),y=e=>{const r=Math.round(1e3*Math.random())+"",n=Math.round(1e3*Math.random())+"";s.t8((0,o.GS)(r),n);const a=`${r}-${n}`,{queryParams:t,url:i}=e;let l={token:a,url:i};if(!t){const{pinId:r,csrId:n,clientTrackingParams:a,auxData:t}=e;l={...l,pin:null!=r?r:void 0,csr:n&&!r?n:void 0,client_tracking_params:a,aux_data:t?JSON.stringify(t):void 0}}t&&(l={...l,...t});return`/offsite/?${(0,p.Z)(l)}`},P=e=>{(0,t.Z)(y(e),!0)},I=async({isMounted:e,pin:r,location:n,spamCheckCallback:a,href:t})=>{var s,o;const c=await(0,l.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:(0,i.Z)({boardUrl:null==r||null===(s=r.board)||void 0===s?void 0:s.url,location:n,pinId:null==r?void 0:r.id,pinnerUserName:null==r||null===(o=r.pinner)||void 0===o?void 0:o.username,storyPinDataId:null==r?void 0:r.story_pin_data_id,trackingParams:null==r?void 0:r.tracking_params,trackingParamsMap:null==r?void 0:r.tracking_params_map}),pin_id:null==r?void 0:r.id,url:t}});if(!c.resource_response.error&&e){const e=c.resource_response.data||{},{message:r,redirect_status:n,url:t}=e;a({blocked:["blocked","suspicious","porn"].includes(n),message:r,redirectStatus:n,sanitized_url:t})}},w=({event:e,onHistoryChange:r,href:n,history:a,target:i})=>{const s=(0,d.Z)(n),o=u(n),l=(0,_.Z)(s);l===h.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===i?(0,t.Z)(s,"blank"===i):a&&l===h.Z.SAME_ORIGIN&&(a.push((0,m.Z)({url:s}),null!=o?o:{}),r&&r({event:e}))},R=({href:e,pinId:r,pin:n,location:t,auxData:s,spamCheck:o,queryParams:l},c,d)=>{"undefined"!=typeof window&&window.Windows?(0,g.Z)({url:e,pinId:r,pin:n,location:t,auxData:s}):n?(({spamCheck:e,auxData:r,location:n,pin:t,pinId:s,href:o},l,c)=>{if(null!=e&&e.blocked)null==c||c(e);else{var d,u;if((0,a.b)({href:o,pinId:s,pin:t,location:n,auxData:r},l))return;P({url:o,pinId:s,csrId:null,clientTrackingParams:(0,i.Z)({boardUrl:null===(d=t.board)||void 0===d?void 0:d.url,location:n,pinId:t.id,pinnerUserName:null===(u=t.pinner)||void 0===u?void 0:u.username,storyPinDataId:t.story_pin_data_id,trackingParams:t.tracking_params,trackingParamsMap:t.tracking_params_map}),auxData:r})}})({spamCheck:o,auxData:s,location:t,pin:n,pinId:r,href:e},c,d):P({url:e,pinId:r,queryParams:l})}},599551:(e,r,n)=>{n.d(r,{Z:()=>d,p:()=>u});var a=n(667294),t=n(616550),i=n(388011),s=n(354428),o=n(250307),l=n(28630),c=n(554318);function d(e){var r;const{externalData:n,href:d,onHistoryChange:u,target:p}=e,{logContextEvent:_}=(0,i.v)(),[m,h]=(0,a.useState)(null),[g,v]=(0,a.useState)(!1),k=(0,t.useHistory)(),b=(0,t.useLocation)(),f=(0,l.Z)({url:(0,o.Z)(d)}),{showWarning:y}=null!==(r=(0,c.s)())&&void 0!==r?r:{};return(0,a.useEffect)((()=>(v(!0),()=>{v(!1)})),[]),(0,a.useEffect)((()=>{f&&null!=n&&n.pin&&null===m&&g&&(0,s.$3)({location:b,pin:n.pin,surface:n.surface})&&(0,s.iw)({isMounted:g,pin:n.pin,location:b,spamCheckCallback:e=>h(e),href:(0,o.Z)(d)})}),[null==n?void 0:n.pin,null==n?void 0:n.surface,d,f,g,b,m]),({event:e})=>{var r;(0,s.gV)({isOffsiteUrl:f,event:e})||(e.preventDefault(),d&&(f||null!=n&&n.dangerouslyForceOffsiteUrl?(0,s.lI)({auxData:null==n?void 0:n.auxData,href:(0,o.Z)(d),pinId:null==n||null===(r=n.pin)||void 0===r?void 0:r.id,pin:null==n?void 0:n.pin,queryParams:null==n?void 0:n.queryParams,location:b,spamCheck:m},_,y):(0,s.G3)({event:e,href:d,history:k,onHistoryChange:u,target:"blank"===p?"blank":null})))}}const u=({children:e,...r})=>e({handleClick:d(r)})},250307:(e,r,n)=>{n.d(r,{Z:()=>a});const a=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},957733:(e,r,n)=>{n.d(r,{Z:()=>i});const a=(e,r)=>0===e.lastIndexOf(r,0);var t=n(17330);const i=({url:e})=>{const r=(0,t.Z)("/");return a(e,r)?e.substr(r.length-1):e}},204926:(e,r,n)=>{n.d(r,{Z:()=>s});var a=n(946618),t=n(970588),i=n(354428);function s({url:e,pinId:r,pin:n,location:s,auxData:o}){var l,c;(0,t.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:n?(0,a.Z)({boardUrl:null===(l=n.board)||void 0===l?void 0:l.url,location:s,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map}):void 0,pin_id:n?n.id:r,url:e,aux_data:JSON.stringify(o)}}).then((t=>{if(t&&t.resource_response&&!t.resource_response.error){const{resource_response:e}=t,{redirect_status:r,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(r)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){var l,c;const t=(0,a.Z)({boardUrl:null===(l=n.board)||void 0===l?void 0:l.url,location:s,pinId:n.id,pinnerUserName:null===(c=n.pinner)||void 0===c?void 0:c.username,storyPinDataId:n.story_pin_data_id,trackingParams:n.tracking_params,trackingParamsMap:n.tracking_params_map});(0,i.Gj)({url:e,pinId:r,csrId:null,clientTrackingParams:t,auxData:o})}else(0,i.Gj)({url:e,pinId:r})}))}},795142:(e,r,n)=>{n.d(r,{UP:()=>o,Wv:()=>t,ZF:()=>a,zI:()=>i,zl:()=>s});const a=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],t=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],i=[...t,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],s=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],o=["BaseBoardPinGrid"]},554318:(e,r,n)=>{n.d(r,{Z:()=>g,s:()=>h});var a=n(667294),t=n(583592),i=n(608575),s=n(883119),o=n(88622),l=n(536042),c=n(630089),d=n(785893);const u=()=>{var e;const r=(0,l.ZP)(),{dismissWarning:n}=null!==(e=h())&&void 0!==e?e:{};return(0,d.jsx)(s.xu,{paddingX:3,children:(0,d.jsx)(s.zx,{fullWidth:!0,color:"red",onClick:n,text:r._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},p=()=>{const e=(0,l.ZP)();return(0,d.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(s.rU,{target:"blank",href:"https://policy.pinterest.com/community-guidelines#section-spam",display:"inlineBlock",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},_=({message:e,sanitized_url:r})=>{var n;const a=(0,l.ZP)(),{dismissWarning:t}=null!==(n=h())&&void 0!==n?n:{};return(0,d.jsx)(o.ZP,{accessibilityModalLabel:a._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),onDismiss:t,heading:a._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),footer:(0,d.jsx)(u,{}),children:(0,d.jsxs)(s.xu,{padding:6,children:[(0,d.jsx)(s.xv,{children:(0,c.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,d.jsx)(p,{},"learnMoreLink")})}),(0,d.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,d.jsx)(s.xu,{marginEnd:3,children:(0,d.jsx)(s.JO,{accessibilityLabel:a._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,d.jsx)(s.xv,{inline:!0,lineClamp:1,weight:"bold",children:i.parse(r).hostname})]})]})})},{Provider:m,useMaybeHook:h}=(0,t.Z)("SpammyClickthrough");function g({children:e}){const[r,n]=(0,a.useState)(null),t=(0,a.useCallback)((()=>{n(null)}),[n]),i=(0,a.useCallback)((e=>{n(e)}),[n]),s=(0,a.useMemo)((()=>({dismissWarning:t,showWarning:i})),[t,i]);return(0,d.jsxs)(m,{value:s,children:[r&&(0,d.jsx)(_,{...r}),e]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/99551-d4470d935b44e81a.mjs.map